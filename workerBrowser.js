const a0_0x329c20=a0_0x3536;(function(_0x2cae97,_0x4bb2d9){const _0x338dd8=a0_0x3536,_0x4bd79a=_0x2cae97();while(!![]){try{const _0x184086=-parseInt(_0x338dd8(0x19c))/0x1*(parseInt(_0x338dd8(0x21b))/0x2)+-parseInt(_0x338dd8(0x206))/0x3+-parseInt(_0x338dd8(0x1b4))/0x4+parseInt(_0x338dd8(0x1f5))/0x5+-parseInt(_0x338dd8(0x1e9))/0x6*(parseInt(_0x338dd8(0x1c6))/0x7)+-parseInt(_0x338dd8(0x1f8))/0x8+parseInt(_0x338dd8(0x23d))/0x9;if(_0x184086===_0x4bb2d9)break;else _0x4bd79a['push'](_0x4bd79a['shift']());}catch(_0x55f330){_0x4bd79a['push'](_0x4bd79a['shift']());}}}(a0_0x2323,0xa7534));import'dotenv/config';import a0_0x177780 from'fs';import a0_0x3fc5ad from'path';import{fileURLToPath,pathToFileURL}from'url';import{expose}from'threads/worker';import{log,json}from'./modules/logger.js';import a0_0x6153c2 from'./modules/Genlogin.js';import a0_0x4c7a4d from'./modules/http.js';import a0_0x2d6ae6 from'p-queue';const __filename=fileURLToPath(import.meta['url']),__dirname=a0_0x3fc5ad['dirname'](__filename);let profileQueue,genlogin,http,getAllProfiles,taskInfo,GenDataProfile,timgame;genlogin=new a0_0x6153c2('',!![]),http=new a0_0x4c7a4d(process[a0_0x329c20(0x1ac)][a0_0x329c20(0x1c0)],process[a0_0x329c20(0x1ac)]['APIKEY'],!![]);let firstRun=!![],delayOpenProfile=0xbb8,profileTimeout=0x5265c0,botTimeout=0x5265c0,profileThreads=0x1,browserInfo={},version,screenData,tasksData,screenDataBuffer1,tasksDataBuffer1,teleId=null;const worker1=async _0x4de19c=>{const _0x39d7a4=a0_0x329c20,{version0:_0x49f44b,tasksDataBuffer:_0x5cb23f,screenDataBuffer:_0x48a196,action:_0x59921f,task:_0x30c085,dataBrw:_0x19a330,GenDataProfile0:_0x6827e2,timgame0:_0x903e11,timeout:_0x1b5740,tele_id:_0x489869}=_0x4de19c;taskInfo=_0x30c085;_0x489869&&_0x489869[_0x39d7a4(0x1ed)]&&(teleId=_0x489869[_0x39d7a4(0x1ed)]);screenDataBuffer1=_0x48a196,tasksDataBuffer1=_0x5cb23f,screenData=new Int32Array(_0x48a196),tasksData=new Int32Array(_0x5cb23f);try{if(_0x1b5740)return log(_0x39d7a4(0x1fc),'timeout',null,'w'),await clearVar(),{'success':![],'error':_0x39d7a4(0x1a3)};else{if(_0x30c085!==_0x39d7a4(0x193)){version=_0x49f44b,getAllProfiles=_0x19a330,log(_0x39d7a4(0x1fc),_0x39d7a4(0x1dd)+JSON[_0x39d7a4(0x22f)](_0x4de19c[_0x39d7a4(0x1e8)]),null,'c'),log('worker1',_0x39d7a4(0x225)+JSON[_0x39d7a4(0x22f)](getAllProfiles),null,'c'),GenDataProfile=_0x6827e2,timgame=_0x903e11,log(_0x39d7a4(0x1fc),'['+_0x30c085[_0x39d7a4(0x1bc)]+_0x39d7a4(0x242),null,'w');const _0x51306c=await xuLyTask(_0x30c085);return log(_0x39d7a4(0x1fc),''+JSON[_0x39d7a4(0x22f)](_0x51306c),null,'w'),log('worker1','DONE',null,'w','done'),await clearVar(),_0x51306c?{'success':!![],'result':_0x51306c}:{'success':![],'result':_0x51306c};}else return log('worker1','Lỗi\x20gì\x20đó\x20task\x20'+_0x30c085,null,'w'),await clearVar(),{'success':![],'error':'worker1'};}}catch(_0x4f040d){return log(_0x39d7a4(0x1fc),_0x39d7a4(0x1c5)+_0x4f040d,null,![]),await clearVar(),{'success':![],'error':'worker1'};}};expose({'worker1':worker1});async function clearVar(){return genlogin=null,http=null,!![];}async function xuLyTask(_0x5343bf){const _0x31eb09=a0_0x329c20;try{log(_0x31eb09(0x1fc),'['+_0x5343bf[_0x31eb09(0x1bc)]+_0x31eb09(0x196),null,'i','-');const _0x424897=await genlogin[_0x31eb09(0x190)](_0x31eb09(0x1fc)),_0x18e1a5=_0x424897[_0x31eb09(0x253)];if(_0x18e1a5<_0x5343bf[_0x31eb09(0x1fd)])return log(_0x31eb09(0x1fc),'['+_0x5343bf[_0x31eb09(0x1bc)]+_0x31eb09(0x21d)+JSON[_0x31eb09(0x22f)](_0x5343bf['name'])+'\x20chưa\x20đến\x20thời\x20gian\x20chạy',null,'i'),log(_0x31eb09(0x1fc),'['+_0x5343bf[_0x31eb09(0x1bc)]+_0x31eb09(0x1db)+JSON[_0x31eb09(0x22f)](_0x424897)+_0x31eb09(0x1e2)+JSON[_0x31eb09(0x22f)](_0x5343bf[_0x31eb09(0x1bb)]),null,'w'),log(_0x31eb09(0x1fc),'['+_0x5343bf[_0x31eb09(0x1bc)]+_0x31eb09(0x1db)+JSON[_0x31eb09(0x22f)](_0x18e1a5)+_0x31eb09(0x1e2)+JSON[_0x31eb09(0x22f)](taskNextRunDateTime),null,'w'),log('worker1','['+_0x5343bf[_0x31eb09(0x1bc)]+_0x31eb09(0x1c3),null,'i'),await delay(0x1388),null;let _0x172937=await http['getTask'](_0x31eb09(0x1fc),_0x5343bf[_0x31eb09(0x1bc)]);if(_0x172937[_0x31eb09(0x22a)][_0x31eb09(0x21a)][_0x31eb09(0x24c)]<=0x0){log(_0x31eb09(0x1fc),'['+_0x5343bf[_0x31eb09(0x1bc)]+_0x31eb09(0x249),null,![]);throw new Error(_0x31eb09(0x1b9));}firstRun&&(profileThreads=parseInt(_0x5343bf[_0x31eb09(0x1d0)]),profileQueue=new a0_0x2d6ae6({'concurrency':profileThreads}),log(_0x31eb09(0x1fc),'['+_0x5343bf[_0x31eb09(0x1bc)]+_0x31eb09(0x195)+profileThreads,null,'w'),firstRun=![],delayOpenProfile=parseInt(_0x5343bf[_0x31eb09(0x244)])*0x3e8,profileTimeout=parseInt(_0x5343bf[_0x31eb09(0x21f)])*0x3e8,botTimeout=parseInt(_0x5343bf[_0x31eb09(0x1ff)])*0x3e8);const _0xbb463f=await xuLyProfiles(_0x172937[_0x31eb09(0x22a)][_0x31eb09(0x21a)],_0x5343bf[_0x31eb09(0x1bc)]);if(!_0xbb463f){log(_0x31eb09(0x1fc),'['+_0x5343bf[_0x31eb09(0x1bc)]+_0x31eb09(0x256)+json(_0xbb463f),null,![]);throw new Error('No\x20profile\x20found');}return log(_0x31eb09(0x1fc),'['+_0x5343bf[_0x31eb09(0x1bc)]+_0x31eb09(0x222)+_0x5343bf[_0x31eb09(0x1bc)]+_0x31eb09(0x24a)),await delay(0x7d0),log(_0x31eb09(0x1fc),'['+_0x5343bf[_0x31eb09(0x1bc)]+'][xuLyTask]:\x20Hoàn\x20thành\x20xử\x20lý\x20task:\x20'+JSON[_0x31eb09(0x22f)](_0x5343bf[_0x31eb09(0x1bc)])),!![];}catch(_0x245028){return log(_0x31eb09(0x1fc),'['+_0x5343bf[_0x31eb09(0x1bc)]+'][xuLyTask]:\x20Lỗi\x20while:\x20'+_0x245028,null,![]),null;}}async function xuLyProfiles(_0x128167,_0x398423){const _0x43a3cf=a0_0x329c20;try{const _0x3571c5=[];for(const [_0xa07ee9,_0x315bc1]of _0x128167[_0x43a3cf(0x1c9)]()){const _0x561558=await GenDataProfile[_0x43a3cf(0x220)](_0x249b95=>_0x249b95[_0x43a3cf(0x247)]===_0x315bc1);if(_0xa07ee9!==-0x1)log(_0x43a3cf(0x1fc),'['+_0x398423+'][xuLyProfiles]index:\x20'+_0x561558);else{log(_0x43a3cf(0x1fc),'['+_0x398423+_0x43a3cf(0x1b2));throw new Error(_0x43a3cf(0x257));}log(_0x43a3cf(0x1fc),'['+_0x398423+'][xuLyProfiles]:\x20Thêm\x20profile\x20'+_0x315bc1+_0x43a3cf(0x1ad)+profileThreads,null,'i'),_0x3571c5['push'](profileQueue[_0x43a3cf(0x20c)](async()=>{const _0x19cd56=_0x43a3cf;try{delayOpenProfile>0x0?(log(_0x19cd56(0x1fc),'['+_0x398423+_0x19cd56(0x215)+_0x315bc1+'\x20sau\x20'+delayOpenProfile+'ms',null,'w','-'),await delay(delayOpenProfile)):log('worker1','['+_0x398423+_0x19cd56(0x215)+_0x315bc1,null,'w','-'),await xuLyTungProfile(_0x315bc1,GenDataProfile[_0x561558]);}catch(_0x5ec624){log('worker1','['+_0x398423+'][xuLyProfiles]:\x20Lỗi\x20khi\x20xử\x20lý\x20profile\x20'+_0x315bc1+':\x20'+_0x5ec624[_0x19cd56(0x259)],null,![]);throw _0x5ec624;}})),log(_0x43a3cf(0x1fc),'['+_0x398423+_0x43a3cf(0x18f)+_0x315bc1+_0x43a3cf(0x245));}const _0x51b325=await Promise[_0x43a3cf(0x1cf)](_0x3571c5),_0x5a507a=_0x51b325['filter'](_0x8e72e2=>_0x8e72e2[_0x43a3cf(0x1a4)]===_0x43a3cf(0x1cd));return _0x5a507a['length']>0x0?log(_0x43a3cf(0x1fc),'['+_0x398423+_0x43a3cf(0x1e1)+JSON['stringify'](_0x5a507a),null,![]):log('worker1','['+_0x398423+_0x43a3cf(0x22c)+json(_0x51b325)),!![];}catch(_0x27e6c7){return log('worker1','['+_0x398423+_0x43a3cf(0x1a7)+_0x27e6c7,null,![]),null;}}async function xuLyTungProfile(_0x3f0413,_0x21bdd7){const _0x249308=a0_0x329c20;let _0x3fe548,_0x3e0666;const _0x452eb8=_0x3f0413;let _0x41cf15;try{await delay(delayOpenProfile),log(_0x3f0413,_0x249308(0x1d1),null,'i'),_0x3fe548=await genlogin[_0x249308(0x190)](_0x3f0413),await http[_0x249308(0x1e5)](_0x249308(0x1fc),_0x3f0413,'START\x20SCRIPT',_0x3fe548[_0x249308(0x253)],'',_0x249308(0x20f)+version,_0x249308(0x1a6));teleId&&await http[_0x249308(0x1b3)](_0x3f0413,teleId,'['+_0x3f0413+_0x249308(0x1a2));log(_0x3f0413,_0x249308(0x1b5)+_0x3f0413,null,'w'),_0x41cf15=await procScreenArr(_0x249308(0x1e4),null,_0x3f0413);if(_0x41cf15['x']===undefined||_0x41cf15['y']===undefined){log(_0x3f0413,'[xuLyTungProfile]:\x20Không\x20tìm\x20thấy\x20vị\x20trí\x20màn\x20hình\x20khả\x20dụng',null,![]);throw new Error(_0x249308(0x214));}const _0x5d4dae=await xuLyBrowser(_0x3f0413,_0x21bdd7,_0x41cf15);await procScreenArr(_0x249308(0x211),_0x41cf15,_0x3f0413);const _0x4f46cc=await genlogin[_0x249308(0x1d2)](_0x3fe548[_0x249308(0x231)]);return await http[_0x249308(0x1e5)](_0x249308(0x1fc),_0x3f0413,_0x249308(0x226),'','',_0x4f46cc,_0x249308(0x1ae)),teleId&&await http[_0x249308(0x1b3)](_0x3f0413,teleId,'['+_0x3f0413+_0x249308(0x210)),_0x5d4dae;}catch(_0x338279){log(_0x3f0413,_0x249308(0x1f0)+_0x338279,null,![]);if(_0x3e0666)await Thread[_0x249308(0x205)](_0x3e0666);await procScreenArr(_0x249308(0x211),_0x41cf15,_0x3f0413);const _0x23a9f1=await genlogin[_0x249308(0x1d2)](_0x3fe548?.[_0x249308(0x231)]||Date[_0x249308(0x1c4)]());await http[_0x249308(0x1e5)]('worker1',_0x3f0413,_0x249308(0x226),'','',_0x23a9f1,_0x249308(0x1ae));teleId&&await http[_0x249308(0x1b3)](_0x3f0413,teleId,'['+_0x3f0413+_0x249308(0x1f1));throw _0x338279;}}async function xuLyBrowser(_0x582b72,_0x12eeec,_0x39640a){const _0x5d7140=a0_0x329c20;let _0x1b7b0f;try{const _0x449bfc=_0x582b72;if(!browserInfo[_0x582b72])browserInfo[_0x582b72]={};browserInfo[_0x582b72][_0x5d7140(0x239)]=0x0,log(_0x582b72,_0x5d7140(0x24b)+json(browserInfo),null,'w','w');if(browserInfo[_0x582b72]['fisrtOpenBrowser']==0x0){_0x1b7b0f=await OpenBrowser(_0x582b72,_0x12eeec,_0x39640a);if(!_0x1b7b0f){log(_0x582b72,_0x5d7140(0x1b0)+_0x582b72,null,![]);throw new Error('[xuLyBrowser]:\x20Không\x20mở\x20được\x20trình\x20duyệt\x20'+_0x582b72);}browserInfo[_0x582b72]['fisrtOpenBrowser']=0x1;}if(!_0x1b7b0f[_0x5d7140(0x1d7)])throw new Error(_0x5d7140(0x1c2)+_0x582b72);let _0x15654d=0x0;const _0x41a460=await http[_0x5d7140(0x233)](_0x5d7140(0x1fc),_0x449bfc);if(!_0x41a460){log(_0x582b72,_0x5d7140(0x1dc),null,![]);throw new Error(_0x5d7140(0x202));}if(_0x41a460[_0x5d7140(0x24c)]<=0x0){log(_0x582b72,_0x5d7140(0x1fe),null,![]);throw new Error(_0x5d7140(0x202));}for(const _0x1eb423 of _0x41a460){if(_0x1eb423){if(_0x1eb423[_0x5d7140(0x240)]!=_0x5d7140(0x246))continue;if(_0x1eb423[_0x5d7140(0x22a)]===_0x5d7140(0x19a)){log(_0x582b72,':\x20XONG\x201\x20LƯỢT',null,'i');break;}if(!_0x1eb423[_0x5d7140(0x255)]){log(_0x582b72,_0x5d7140(0x1eb)+json(_0x1eb423)+_0x5d7140(0x20e),null,![]);continue;}if(_0x1eb423['onOff']==='0'){log(_0x582b72,':\x20Bot\x20'+json(_0x1eb423[_0x5d7140(0x1bc)])+_0x5d7140(0x217),null,![]);continue;}const _0x4b935b=await genlogin[_0x5d7140(0x190)](_0x582b72);if(_0x1eb423[_0x5d7140(0x22b)]>_0x4b935b[_0x5d7140(0x231)]){log(_0x582b72,_0x5d7140(0x1eb)+json(_0x1eb423[_0x5d7140(0x1bc)])+_0x5d7140(0x22d),null,'w');continue;}switch(_0x1eb423[_0x5d7140(0x255)]){case'A':log(_0x582b72,':\x20'+json(_0x1eb423[_0x5d7140(0x1bc)])+_0x5d7140(0x1b6)),await xuLyGame(_0x1eb423,'A',_0x582b72,_0x12eeec,_0x39640a,_0x1b7b0f);break;case'K':log(_0x582b72,':\x20'+json(_0x1eb423['name'])+_0x5d7140(0x208)),await xuLyGame(_0x1eb423,'K',_0x582b72,_0x12eeec,_0x39640a,_0x1b7b0f);break;case'W':log(_0x582b72,':\x20'+json(_0x1eb423[_0x5d7140(0x1bc)])+_0x5d7140(0x1ba)),await xuLyGame(_0x1eb423,'W',_0x582b72,_0x12eeec,_0x39640a,_0x1b7b0f);break;default:log(_0x582b72,_0x5d7140(0x243)+json(_0x1eb423[_0x5d7140(0x255)]),null,![]);break;}log(_0x582b72,_0x5d7140(0x19f));}}return await closeBrowser(_0x582b72,_0x1b7b0f),!![];}catch(_0x2b0b13){return log(_0x582b72,'[xuLyBrowser]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20browser:\x20'+_0x2b0b13,null,![]),await closeBrowser(_0x582b72,_0x1b7b0f),null;}}async function xuLyGame(_0x5f540f,_0x31e8b6,_0x4ec49d,_0x364b8e,_0xf32860,_0x40bee4){const _0x4d8217=a0_0x329c20;try{const _0x32fa05=_0x4ec49d;if(_0x5f540f[_0x4d8217(0x240)]==='api'){log(_0x4ec49d,'[xuLyGame]:\x20'+_0x5f540f['name']+_0x4d8217(0x227),null,'i');const _0x4996d4=await genlogin['nowTime'](_0x4ec49d),_0x2aefdc=await http[_0x4d8217(0x1e5)](_0x4ec49d,_0x32fa05,_0x5f540f[_0x4d8217(0x1bc)],_0x4996d4['date'],'','StartApi',_0x4d8217(0x1a9)),_0xe7c609=_0x2aefdc['ID'],_0xbf5505={'bot':_0x5f540f,'profileNameId':_0x4ec49d,'genlogin':genlogin,'http':http,'dataId':_0xe7c609},_0x9f0bf2=await loadGameApi(_0x5f540f[_0x4d8217(0x1bc)],_0xbf5505);if(!_0x9f0bf2[_0x4d8217(0x1a4)])return log(_0x4ec49d,_0x4d8217(0x207)+_0x5f540f[_0x4d8217(0x1bc)]+_0x4d8217(0x1d8),null,![]),await http[_0x4d8217(0x1a1)](_0x4ec49d,_0x32fa05,_0xe7c609,'Fail',_0x4d8217(0x1f9)),null;if(_0x9f0bf2[_0x4d8217(0x1a4)]==_0x4d8217(0x23b))return log(_0x4ec49d,'[xuLyGame]:\x20Thực\x20thi\x20'+_0x5f540f[_0x4d8217(0x1bc)]+_0x4d8217(0x1d9),null,'i'),_0x4d8217(0x23b);if(_0x9f0bf2[_0x4d8217(0x1a4)])return log(_0x4ec49d,_0x4d8217(0x207)+_0x5f540f[_0x4d8217(0x1bc)]+_0x4d8217(0x232)),await http[_0x4d8217(0x20b)](_0x4ec49d,_0x32fa05,_0x5f540f['id'],_0x9f0bf2[_0x4d8217(0x212)],_0x9f0bf2[_0x4d8217(0x22b)]),await http[_0x4d8217(0x1a1)](_0x4ec49d,_0x32fa05,_0xe7c609,'Ok',_0x4d8217(0x1ce),_0x9f0bf2['coin'],_0x9f0bf2[_0x4d8217(0x212)]),!![];}else{if(_0x31e8b6=='A'||_0x31e8b6=='K'){log(_0x4ec49d,_0x4d8217(0x229)+_0x5f540f[_0x4d8217(0x1bc)]+'\x20Script\x20mode',null,'w','-');const _0x456ba5=await http[_0x4d8217(0x21e)](_0x4ec49d,_0x31e8b6);if(_0x456ba5){log(_0x4ec49d,_0x4d8217(0x252));let _0xd5516a=0x0;while(_0xd5516a<0x2){const _0x2cd148=await checkTeleWebOpen(_0x5f540f,_0x456ba5,_0x4ec49d,_0xf32860,_0x40bee4);if(_0x2cd148===_0x4d8217(0x23b))_0xd5516a++,log(_0x4ec49d,'[xuLyGame]:\x20Loop\x20lại\x20,\x20loop\x20lại\x20lần\x20'+_0xd5516a+'/2',null,'i'),await delay(0x3e8);else return _0x2cd148?(log(_0x4ec49d,_0x4d8217(0x218)),!![]):(log(_0x4ec49d,'[xuLyGame]:\x20checkTeleWebOpen\x20có\x20gì\x20đó\x20sai\x20sai\x20rồi\x20bro',null,![]),null);}return log(_0x4ec49d,_0x4d8217(0x230),null,![]),null;}}else{if(_0x31e8b6=='W'){log(_0x4ec49d,_0x4d8217(0x229)+_0x5f540f[_0x4d8217(0x1bc)]+_0x4d8217(0x1b7),null,'w','-');const _0x5a4f43=await checkTeleWebOpen(_0x5f540f,_0x31e8b6,_0x4ec49d,_0xf32860,_0x40bee4);return _0x5a4f43?(log(_0x4ec49d,'[xuLyGame]:\x20checkTeleWebOpen\x20OK'),!![]):(log(_0x4ec49d,_0x4d8217(0x200),null,![]),null);}else return log(_0x4ec49d,_0x4d8217(0x23a)+_0x31e8b6,null,![]),null;}}}catch(_0xfcec8d){return log(_0x4ec49d,_0x4d8217(0x251)+_0xfcec8d,null,![]),null;}}function a0_0x2323(){const _0x5d36ec=['height','][xuLyTask]profileQueue:\x20concurrency:','][xuLyTask]:\x20vào\x20xuLyTask','[loadGame]:\x20Script\x20','[worker1.procScreenArr]vào\x20close','Không\x20thể\x20đóng\x20màn\x20hình:\x20vị\x20trí\x20không\x20hợp\x20lệ\x20action:\x20','end','\x20không\x20phải\x20là\x20một\x20hàm\x20hợp\x20lệ','8286GefLMc','[xoaTimeout]worker1:\x20Xóa\x20timeout:','function','[xuLyBrowser]:\x20Bot\x20OK','[OpenBrowser]\x20Đóng\x20tab\x20mới\x20thành\x20công','updateData',']:\x20START\x20SCRIPT','timeout','status','[closeBrowser]:\x20Không\x20có\x20trình\x20duyệt\x20để\x20đóng','Start','][xuLyProfiles]:\x20Lỗi\x20:\x20','Memory','running','[xoaTimeout]worker1:\x20Xóa\x20Interval:','[worker1.procScreenArr]lỗi\x20','env','\x20vào\x20hàng\x20đợi\x20max:','Stop','[loadGame]:scriptPath\x20','[xuLyBrowser]:\x20Không\x20mở\x20được\x20trình\x20duyệt\x20','closeTab','][xuLyProfiles]Không\x20tìm\x20thấy\x20indexGenP','tele','1297272yGNJEO','[xuLyTungProfile]0:\x20Kiểm\x20tra\x20màn\x20hình\x20','\x20Tele\x20A\x20OK','\x20Web\x20mode','activateTab','No\x20profile\x20found','\x20Web\x20OK','nextrun','name','Lỗi\x20xử\x20lý\x20profile:\x20','notify','connect','SERVER_HOST','InputSearch','[xuLyBrowser]:\x20browser\x20disconnected\x20','][xuLyTask]:\x20Chờ\x205\x20giây\x20trước\x20khi\x20xử\x20lý\x20task\x20tiếp\x20theo...','now','Lỗi\x20','42DwAMPp','elementExistsByXPath','[checkTeleWebOpen]:\x20','entries','autoSetBrowserPosition','[closeBrowser]:\x20Đóng\x20trình\x20duyệt\x20','HostName','rejected','Done','allSettled','profileThreads','[xuLyTungProfile]:\x20Bắt\x20đầu\x20xử\x20lý\x20profile','tinhThoiGian','Garbage\x20Collector\x20đã\x20chạy!','clrTimeout','[checkTeleWebOpen]:\x20vào\x20loadGame','split','connected','\x20lỗi','\x20loop','.js','][xuLyTask]:\x20currentDateTime:\x20','[xuLyBrowser]:\x20Bot\x20không\x20tìm\x20thấy','[worker1data.task]:data.task\x20','countOpenTabs','scripts',',\x20pos:\x20','][xuLyProfiles]:\x20Một\x20số\x20profiles\x20gặp\x20lỗi:\x20','\x20|\x20nextrun:\x20','customBrowserPosition','open','addData','loop\x20new\x20game','[worker1.procScreenArr]\x20posVal:','task','146658kjXwEy','\x20thành\x20công',':\x20Bot\x20','taskIndex','tele_id','[OpenBrowser]\x20Lỗi\x20khi\x20đóng\x20tab\x20mới','[OpenBrowser]]Chỉ\x20có\x20','[xuLyTungProfile]:\x20Lỗi:\x20','][ERR]:\x20STOP\x20SCRIPT','Tìm','load','scale','766705IwtAyX','[eTimeout]worker1:\x20reset\x20timeout','[worker1.procScreenArr]vào\x20open','3236552WKjDqd','Fail','https://www.google.com','openUrl','worker1','nextrunstamp','[xuLyBrowser]:\x20không\x20lấy\x20được\x20bot','botTimeout','[xuLyGame]:\x20checkTeleWebOpen\x20có\x20gì\x20đó\x20sai\x20sai\x20rồi\x20bro','store','No\x20bot\x20found','[loadGame]:\x20Lỗi\x20khi\x20load\x20và\x20thực\x20thi\x20script\x20','[OpenBrowser]:\x20Processing\x20profile:\x20','terminate','3732678rISLQB','[xuLyGame]:\x20Thực\x20thi\x20','\x20Tele\x20K\x20OK','[worker1.procScreenArr]vị\x20trí\x20default\x20không\x20cần\x20close','\x20tab\x20đang\x20mở','nextRunTime','add','width','\x20ko\x20có\x20aks','Version:','][OK]:\x20STOP\x20SCRIPT','close','nextRun','[checkTeleWebOpen]:\x20Thực\x20thi\x20','Không\x20tìm\x20thấy\x20giá\x20trị\x20status=0','][xuLyProfiles]:\x20Bắt\x20đầu\x20xử\x20lý\x20profile\x20','[worker1.procScreenArr]\x20index:','\x20OFF','[xuLyGame]:\x20checkTeleWebOpen\x20OK','[OpenBrowser]:\x20GenLogin:\x20','profiles','132juETmE','wait','][xuLyTask]:\x20Task\x20','getAks','profileTimeout','findIndex','][ERR]:\x20Lỗi\x20','][xuLyTask]:\x20Tasks:\x20','href','compareExchange','getAllProfiles\x20','STOP\x20SCRIPT','\x20Api\x20mode','[closeBrowser]:\x20Lỗi\x20khi\x20đóng\x20trình\x20duyệt\x20','[xuLyGame]:\x20','value','nextRunStamp','][xuLyProfiles]:\x20Đã\x20xử\x20lý\x20tất\x20cả\x20profiles\x20thành\x20công\x20','\x20Chưa\x20tới\x20giờ\x20chạy','timGame','stringify','[xuLyGame]:Max\x20loop\x20rồi\x20bro','timestamp','\x20done','getBotAll','[worker1.procScreenArr]action:\x20','Vào','Không\x20tìm\x20thấy\x20vị\x20trí\x20màn\x20hình\x20khả\x20dụng','[loadGame]:\x20Chạy\x20','[checkTeleWebOpen]:\x20Không\x20thực\x20thi\x20script\x20','fisrtOpenBrowser','[xuLyGame]:\x20Sai\x20aks\x20','loop','browserWidthHeight','28788030eACmaL','[eTimeout]worker1:\x20timeout','\x20set\x20open\x20ok\x20pos:','type','\x20không\x20trả\x20về\x20status',']:\x20Script\x20Mode',':\x20Sai\x20aks\x20','delayOpenProfile','\x20vào\x20hàng\x20đợi.','script','pid','[xoaTimeout]worker1:\x20','][xuLyTask]:\x20không\x20lấy\x20được\x20profile','\x20ok','[xuLyBrowser]:browserInfo:\x20','length','coin','setTitle','default','ref','[xuLyGame]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20Game:\x20','[xuLyGame]:\x20getAks\x20OK','date','join','aks','][xuLyTask]:\x20Không\x20lấy\x20được\x20dữ\x20liệu\x20profiles\x20','Không\x20tìm\x20thấy\x20indexGenP','[checkTeleWebOpen]:\x20Không\x20tìm\x20thấy\x20game\x20','message','][xuLyProfiles]:\x20Đã\x20thêm\x20profile\x20','nowTime','[checkTeleWebOpen]:\x20Lỗi\x20trong\x20quá\x20trình\x20mở\x20trang\x20:\x20','\x20set\x20open\x20default\x20pos:','screenArr'];a0_0x2323=function(){return _0x5d36ec;};return a0_0x2323();}async function OpenBrowser(_0x291c89,_0xb6e1d7,_0x4a8c96){const _0x3fc1ec=a0_0x329c20;try{const _0x570a10=_0x291c89;log(_0x291c89,_0x3fc1ec(0x204)+JSON[_0x3fc1ec(0x22f)](_0x291c89),null,'i');if(getAllProfiles[_0x3fc1ec(0x1ca)]==='n'){const _0x49af3a=getAllProfiles[_0x3fc1ec(0x1e3)][_0x3fc1ec(0x1d6)]('x');parseInt(_0x49af3a[0x0])>=0x0&&parseInt(_0x49af3a[0x1])>=0x0?(_0x4a8c96['x']=parseInt(_0x49af3a[0x0]),_0x4a8c96['y']=parseInt(_0x49af3a[0x1])):(_0x4a8c96['x']=0x0,_0x4a8c96['y']=0x0),log(_0x291c89,'[OpenBrowser]:force\x20set\x20Position:\x20'+_0x4a8c96['x']+'x'+_0x4a8c96['y'],null,'w');}const _0x397d50=await genlogin[_0x3fc1ec(0x1bf)](_0x291c89,getAllProfiles,_0xb6e1d7,_0x4a8c96);log(_0x291c89,_0x3fc1ec(0x219)+JSON['stringify'](_0x397d50),null,'i'),await delay(0x1388);if(_0x397d50){let _0x232236=0x0;const _0x41eabf=0xa;while(_0x232236<_0x41eabf){_0x232236++;const _0x35f77b=await genlogin[_0x3fc1ec(0x1de)](_0x291c89,_0x397d50);if(_0x35f77b<=0x1)return log(_0x291c89,_0x3fc1ec(0x1ef)+_0x35f77b+_0x3fc1ec(0x20a),null,'i'),_0x397d50;const _0x573bb7=await genlogin[_0x3fc1ec(0x1b1)](_0x291c89,_0x397d50,_0x35f77b-0x1,0xbb8);if(!_0x573bb7){log(_0x291c89,_0x3fc1ec(0x1ee),null,![]);continue;}log(_0x291c89,_0x3fc1ec(0x1a0)),await delay(0xbb8);continue;}}return log(_0x291c89,'[OpenBrowser]:\x20Lỗi\x20khi\x20mở\x20browser:\x20'+JSON[_0x3fc1ec(0x22f)](_0x291c89)),null;}catch(_0x4183dd){throw new Error(_0x3fc1ec(0x1bd)+_0x4183dd[_0x3fc1ec(0x259)]);}}async function checkTeleWebOpen(_0x5628b8,_0x270413,_0x313a52,_0x12e2ca,_0x134e4c){const _0x43ff84=a0_0x329c20;let _0x252007,_0x2a019e;try{_0x2a019e=await genlogin[_0x43ff84(0x1b8)](_0x313a52,_0x134e4c,0x0,getAllProfiles[_0x43ff84(0x23c)],_0x12e2ca[_0x43ff84(0x1f4)]);if(_0x270413!='W'){const _0x1bfe08=await genlogin[_0x43ff84(0x1c7)](_0x313a52,_0x2a019e,_0x270413[_0x43ff84(0x1c1)],0x7d0);!_0x1bfe08&&(await genlogin[_0x43ff84(0x1fb)](_0x313a52,_0x2a019e,_0x43ff84(0x1fa),0xea60),await delay(0x7d0),await genlogin['openUrl'](_0x313a52,_0x2a019e,_0x270413['FistUrl'],0xea60),await genlogin[_0x43ff84(0x24e)](_0x313a52,_0x2a019e,_0x313a52),await delay(0x1388));}else _0x270413='W',await genlogin[_0x43ff84(0x1fb)](_0x313a52,_0x2a019e,'https://www.google.com',0xea60),await delay(0x7d0),await genlogin[_0x43ff84(0x1fb)](_0x313a52,_0x2a019e,_0x5628b8[_0x43ff84(0x250)],0xea60),await genlogin[_0x43ff84(0x24e)](_0x313a52,_0x2a019e,_0x313a52),await delay(0x1388);log(_0x313a52,_0x43ff84(0x1d5),null,'i');const _0x4967b3=await genlogin[_0x43ff84(0x190)](_0x313a52),_0x2181fd=await http[_0x43ff84(0x1e5)](_0x313a52,_0x313a52,_0x5628b8[_0x43ff84(0x1bc)],_0x4967b3[_0x43ff84(0x253)],'',_0x43ff84(0x1a6),_0x43ff84(0x1a9));_0x252007=_0x2181fd['ID'];const _0x498cf4={'firstPage':_0x2a019e,'bot':_0x5628b8,'profileNameId':_0x313a52,'getAks':_0x270413,'genlogin':genlogin,'http':http,'browser':_0x134e4c,'dataId':_0x2181fd['ID'],'taskIndex':taskInfo[_0x43ff84(0x1ec)],'screenDataBuffer2':screenDataBuffer1,'tasksDataBuffer2':tasksDataBuffer1};let _0x266ff9=null;log(_0x313a52,'[checkTeleWebOpen]:\x20dataId:\x20'+json(_0x252007),null,'i');if(timgame&&_0x270413!='W'){await http['updateData'](_0x313a52,_0x313a52,_0x252007,_0x43ff84(0x1f2));const _0x36eb23=await loadGame(_0x43ff84(0x22e),_0x498cf4,_0x266ff9,_0x252007,_0x313a52);if(_0x36eb23[_0x43ff84(0x1a4)]==_0x43ff84(0x23b))return log(_0x313a52,_0x43ff84(0x213)+_0x5628b8[_0x43ff84(0x1bc)]+_0x43ff84(0x1d9),null,'i'),await http[_0x43ff84(0x1a1)](_0x313a52,_0x313a52,_0x252007,_0x43ff84(0x1e6)),_0x43ff84(0x23b);else{if(!_0x36eb23)return log(_0x313a52,_0x43ff84(0x258)+_0x5628b8[_0x43ff84(0x1bc)],null,![]),await http['updateData'](_0x313a52,_0x313a52,_0x252007,_0x43ff84(0x1f9),_0x43ff84(0x1f9)),null;}_0x36eb23[_0x43ff84(0x1cc)]&&(_0x266ff9=_0x36eb23[_0x43ff84(0x1cc)]);}await http[_0x43ff84(0x1a1)](_0x313a52,_0x313a52,_0x252007,_0x43ff84(0x235));const _0x213fd6=await loadGame(_0x5628b8[_0x43ff84(0x1bc)],_0x498cf4,_0x266ff9,_0x252007,_0x313a52);if(!_0x213fd6[_0x43ff84(0x1a4)])return log(_0x313a52,_0x43ff84(0x238)+_0x5628b8[_0x43ff84(0x1bc)],null,![]),log(_0x313a52,_0x43ff84(0x1c8)+json(_0x213fd6),null,![]),await http[_0x43ff84(0x1a1)](_0x313a52,_0x313a52,_0x252007,_0x43ff84(0x1f9),'Fail'),null;else{if(_0x213fd6[_0x43ff84(0x1a4)]==_0x43ff84(0x23b))return log(_0x313a52,_0x43ff84(0x213)+_0x5628b8['name']+_0x43ff84(0x1d9),null,'i'),await http[_0x43ff84(0x1a1)](_0x313a52,_0x313a52,_0x252007,_0x43ff84(0x23b)),_0x43ff84(0x23b);}return await http[_0x43ff84(0x20b)](_0x313a52,_0x313a52,_0x5628b8['id'],_0x213fd6[_0x43ff84(0x212)],_0x213fd6[_0x43ff84(0x22b)]),await http[_0x43ff84(0x1a1)](_0x313a52,_0x313a52,_0x252007,'Ok','Done',_0x213fd6[_0x43ff84(0x24d)],_0x213fd6[_0x43ff84(0x212)]),log(_0x313a52,'[checkTeleWebOpen]:\x20Thực\x20thi\x20script\x20'+_0x5628b8[_0x43ff84(0x1bc)]+_0x43ff84(0x1ea)),await delay(0x7d0),_0x252007=null,_0x2a019e=null,!![];}catch(_0x27bd74){return log(_0x313a52,_0x43ff84(0x191)+_0x27bd74,null,![]),await http[_0x43ff84(0x1a1)](_0x313a52,_0x313a52,_0x252007,_0x43ff84(0x1f9),'Fail'),_0x252007=null,_0x2a019e=null,null;}}async function loadGame(_0x371d8c,_0x1bc888,_0x4e0d33,_0x305484,_0x51d2c8){const _0x3bb910=a0_0x329c20;try{const _0x31c745=pathToFileURL(a0_0x3fc5ad[_0x3bb910(0x254)](__dirname,_0x3bb910(0x1df),_0x371d8c+_0x3bb910(0x1da)))[_0x3bb910(0x223)];log(_0x51d2c8,_0x3bb910(0x1af)+_0x31c745);const _0x12132f=await import(_0x31c745);if(typeof _0x12132f[_0x3bb910(0x24f)]===_0x3bb910(0x19e)){const _0x2f2183=await _0x12132f[_0x3bb910(0x24f)](_0x1bc888,_0x4e0d33);await delay(0x3e8);if(!_0x2f2183['status'])return log(_0x51d2c8,_0x3bb910(0x197)+_0x371d8c+_0x3bb910(0x241),null,![]),null;else return _0x2f2183[_0x3bb910(0x1a4)]===_0x3bb910(0x23b)?(log(_0x51d2c8,_0x3bb910(0x237)+_0x371d8c+_0x3bb910(0x1d9),null,'i'),_0x2f2183):(log(_0x51d2c8,'[loadGame]:\x20Chạy\x20'+_0x371d8c+'\x20'+_0x2f2183[_0x3bb910(0x1a4)],null,'i'),_0x2f2183);}else return await delay(0x3e8),log(_0x51d2c8,'[loadGame]:\x20Script\x20'+_0x371d8c+_0x3bb910(0x19b),null,![]),null;}catch(_0x1f67e0){return log(_0x51d2c8,_0x3bb910(0x203)+_0x371d8c+':\x20'+_0x1f67e0,null,![]),teleId&&await http[_0x3bb910(0x1b3)](_0x51d2c8,teleId,'['+_0x51d2c8+']['+_0x371d8c+_0x3bb910(0x221)+_0x1f67e0),null;}}async function closeBrowser(_0x4b31da='',_0x407043){const _0x544e63=a0_0x329c20;try{if(_0x407043){if(_0x407043[_0x544e63(0x1d7)]){for(const _0x126a29 of await _0x407043['pages']()){await _0x126a29[_0x544e63(0x211)]();}return await _0x407043['close'](),_0x407043=null,global['gc']&&(global['gc'](),log(_0x544e63(0x1a8),_0x544e63(0x1d3),null,'i','+')),log(_0x4b31da,_0x544e63(0x1cb)+_0x4b31da+_0x544e63(0x1ea),null,'w'),!![];}}else log(_0x4b31da,_0x544e63(0x1a5),null,'i');return null;}catch(_0x663a62){return log(_0x4b31da,_0x544e63(0x228)+_0x4b31da+':\x20'+_0x663a62,null,![]),null;}}async function procScreenArr(_0x217221,_0x451415,_0x48ce61){const _0x5a0746=a0_0x329c20;try{await acquireLock(screenData);let _0x3167c6={};log(_0x48ce61,_0x5a0746(0x234)+_0x217221+_0x5a0746(0x1e0)+json(_0x451415),null,'w','-');if(_0x217221===_0x5a0746(0x1e4)){log(_0x48ce61,_0x5a0746(0x1f7),null,'w'),_0x3167c6[_0x5a0746(0x1f4)]=Atomics[_0x5a0746(0x1f3)](screenData,0x1)/0xf4240,_0x3167c6[_0x5a0746(0x20d)]=Atomics[_0x5a0746(0x1f3)](screenData,0x2),_0x3167c6[_0x5a0746(0x194)]=Atomics[_0x5a0746(0x1f3)](screenData,0x3);for(let _0x1a99af=0xa;_0x1a99af<screenData[_0x5a0746(0x24c)]-0x1;_0x1a99af=_0x1a99af+0x3){const _0x51c02b=Atomics['load'](screenData,_0x1a99af);if(_0x51c02b===0x2)return Atomics[_0x5a0746(0x201)](screenData,_0x1a99af,0x1),_0x3167c6[_0x5a0746(0x24f)]=0x0,_0x3167c6['x']=Atomics[_0x5a0746(0x1f3)](screenData,_0x1a99af+0x1),_0x3167c6['y']=Atomics[_0x5a0746(0x1f3)](screenData,_0x1a99af+0x2),log(_0x48ce61,_0x5a0746(0x216)+_0x1a99af+_0x5a0746(0x23f)+json(_0x3167c6),null,'w'),await releaseLock(screenData),_0x3167c6;if(_0x51c02b===0x0)return Atomics[_0x5a0746(0x201)](screenData,_0x1a99af,0x1),_0x3167c6['default']=0x1,_0x3167c6['x']=0x0,_0x3167c6['y']=0x0,log(_0x48ce61,_0x5a0746(0x216)+_0x1a99af+_0x5a0746(0x192)+json(_0x3167c6),null,'w'),await releaseLock(screenData),_0x3167c6;}await releaseLock(screenData);throw new Error(_0x5a0746(0x236));}else{if(_0x217221===_0x5a0746(0x211)&&_0x451415['x']>=0x0&&_0x451415['y']>=0x0){log(_0x48ce61,_0x5a0746(0x198),null,'w');if(_0x451415['default']===0x1)return log(_0x48ce61,_0x5a0746(0x209),null,'w'),await releaseLock(screenData),!![];for(let _0x40e967=0xa;_0x40e967<screenData[_0x5a0746(0x24c)]-0x1;_0x40e967+=0x3){const _0xfdb841=Atomics[_0x5a0746(0x1f3)](screenData,_0x40e967);if(_0xfdb841===0x1){const _0x5e1e18=Atomics[_0x5a0746(0x1f3)](screenData,_0x40e967+0x1),_0x3ae4be=Atomics[_0x5a0746(0x1f3)](screenData,_0x40e967+0x2);if(_0x5e1e18===_0x451415['x']&&_0x3ae4be===_0x451415['y'])return Atomics['store'](screenData,_0x40e967,0x2),log(_0x48ce61,_0x5a0746(0x216)+_0x40e967+'\x20set\x20close\x20ok',null,'w'),Atomics[_0x5a0746(0x1be)](screenData,_0x40e967),await releaseLock(screenData),!![];}}await releaseLock(screenData);throw new Error(_0x5a0746(0x199)+_0x217221+_0x5a0746(0x1e0)+json(_0x451415));}else return log(_0x48ce61,_0x5a0746(0x1e7)+json(_0x451415)+'\x20Action:'+_0x217221,null,'w'),await releaseLock(screenData),!![];}}catch(_0x17a7b5){return log(_0x48ce61,_0x5a0746(0x1ab)+_0x17a7b5+'\x20action:\x20'+_0x217221+_0x5a0746(0x1e0)+json(_0x451415),null,![]),await releaseLock(screenData),![];}}async function acquireLock(_0x33a251,_0x39e781=0x7530){const _0x3de319=a0_0x329c20,_0x111d84=Date['now']();while(Atomics[_0x3de319(0x224)](_0x33a251,0x8,0x0,0x1)!==0x0){if(Date[_0x3de319(0x1c4)]()-_0x111d84>_0x39e781)throw new Error('Timeout\x20while\x20acquiring\x20lock');Atomics[_0x3de319(0x21c)](_0x33a251,0x8,0x1,_0x39e781);}}function a0_0x3536(_0x2a0fd2,_0x3347fb){const _0x23239d=a0_0x2323();return a0_0x3536=function(_0x35364a,_0x39583f){_0x35364a=_0x35364a-0x18f;let _0x310a74=_0x23239d[_0x35364a];return _0x310a74;},a0_0x3536(_0x2a0fd2,_0x3347fb);}async function releaseLock(_0x1516d1){Atomics['store'](_0x1516d1,0x8,0x0),Atomics['notify'](_0x1516d1,0x8);}async function xoaTimeout(_0x547a94){const _0x42c49f=a0_0x329c20;try{clearTimeout(_0x547a94),log(_0x42c49f(0x19d)+_0x547a94,null,'i',_0x42c49f(0x1d4));}catch(_0x2cae90){log(_0x42c49f(0x248)+_0x2cae90,null,![]);}}async function xoaInterval(_0xe9575f){const _0x4ec1bf=a0_0x329c20;try{clearInterval(_0xe9575f),log(_0x4ec1bf(0x1aa)+_0xe9575f,null,'i','clrInterval');}catch(_0x39f5ae){log(_0x4ec1bf(0x248)+_0x39f5ae,null,![]);}}async function delay(_0x2c49b9){return new Promise(async _0x347c5d=>{setTimeout(_0x347c5d,_0x2c49b9);});}async function eTimeout(){const _0x5a2b00=a0_0x329c20;return log(_0x5a2b00(0x23e),null,'w'),Atomics[_0x5a2b00(0x201)](tasksData,taskInfo[_0x5a2b00(0x1ec)],0x1),!![];}async function cTimeout(){const _0x377865=a0_0x329c20;if(Atomics[_0x377865(0x1f3)](tasksData,taskInfo[_0x377865(0x1ec)])===0x1)return!![];return null;}async function rstTimeout(){const _0x1acaee=a0_0x329c20;return log(_0x1acaee(0x1f6),null,'w'),Atomics['compareExchange'](tasksData,taskInfo[_0x1acaee(0x1ec)],0x1,0x2),!![];}