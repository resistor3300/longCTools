const a0_0x5e74df=a0_0x343e;(function(_0x10dc1e,_0x5df031){const _0x4110d4=a0_0x343e,_0x52b8ee=_0x10dc1e();while(!![]){try{const _0x538ef1=-parseInt(_0x4110d4(0x18b))/0x1+-parseInt(_0x4110d4(0x1da))/0x2+parseInt(_0x4110d4(0x217))/0x3*(-parseInt(_0x4110d4(0x1f6))/0x4)+-parseInt(_0x4110d4(0x203))/0x5*(-parseInt(_0x4110d4(0x21c))/0x6)+-parseInt(_0x4110d4(0x1b9))/0x7+-parseInt(_0x4110d4(0x1fd))/0x8*(parseInt(_0x4110d4(0x21d))/0x9)+parseInt(_0x4110d4(0x19a))/0xa*(parseInt(_0x4110d4(0x21e))/0xb);if(_0x538ef1===_0x5df031)break;else _0x52b8ee['push'](_0x52b8ee['shift']());}catch(_0x118362){_0x52b8ee['push'](_0x52b8ee['shift']());}}}(a0_0x5a22,0x8a1b3));import'dotenv/config';import a0_0x437a16 from'os';import a0_0x13b236 from'fs';import a0_0xe085d4 from'path';import{fileURLToPath}from'url';function a0_0x343e(_0x24fbb0,_0x558cc1){const _0x5a227c=a0_0x5a22();return a0_0x343e=function(_0x343ef4,_0x1e124a){_0x343ef4=_0x343ef4-0x177;let _0x5c8004=_0x5a227c[_0x343ef4];return _0x5c8004;},a0_0x343e(_0x24fbb0,_0x558cc1);}import a0_0x3f244f from'./modules/Genlogin.js';import a0_0x3ede9b from'./modules/http.js';import{log,json}from'./modules/logger.js';import a0_0xa5accd from'node-machine-id';import{spawn,Thread,Worker}from'threads';import{exec}from'child_process';import a0_0x22b7cc from'p-queue';function a0_0x5a22(){const _0x320e7d=['checkDisk','[processTasks]:\x20currentTime.timestamp:\x20','độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20','timestamp','[xoaTimeout]main:\x20Xóa\x20timeout:','string','catch','screens','Dung\x20lượng\x20trống\x20ổ\x20C:\x20không\x20đủ!\x20','Stderr:\x20','[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:','\x20MB','getAllProfiles','utf-8','timeout','4974081aecoah','APIKEY','taskMode','userInfo','split','genDataProfiles','worker1','browserWidthHeight','[processTasks]:\x20task.status:\x20','heapUsed','chưa\x20có\x20task\x20mới','Tự\x20động\x20tắt\x20genlogin','url','Users','message','error','wmic\x20logicaldisk\x20get\x20caption,freespace','tọa\x20độ\x20hiển\x20thị\x20trình\x20duyệt\x20','[main]\x20Task\x20Status:\x20','api','reduce','round','nextrun','\x20set\x20timeout:\x20','entries','./worker-api1.js','Không\x20thể\x20tạo\x20worker','promises','dirname','[processTasks]:\x20task.nextrunstamp:\x20','cols','screenData','status','790178QUJgDp','rows','floor','\x20treo\x20đang\x20chạy\x20từ\x20','join','thư\x20mục\x20chứa\x20data\x20genlogin','APIKEY\x20not\x20found!','parse','OK\x20rồi\x20man.\x20tắt\x20genlogin\x20đi\x20bro','[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20','Lỗi\x20while:\x20','số\x20màn\x20hình:\x20','Memory','1920x1080','tự\x20động\x20sắp\x20xếp\x20vị\x20trí\x20hiển\x20thị\x20trình\x20duyệt\x20','[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20','Đã\x20có\x20phiên\x20bản\x20mới:\x20','❌\x20Lỗi\x20kiểm\x20tra\x20ổ\x20đĩa:\x20','running','nextrunstamp','[createWorkerPromise]:\x20','[processTasks]:\x20screens:','Task\x20phải\x20là\x20một\x20đối\x20tượng','terminate','Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro','[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20','Drive\x20not\x20found','1100dHBFGr','.genlogin','rss',',\x20mỗi\x20cột:\x20','games','maxTime','pending','223296UohlLZ','[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20','[checkUpdate]Lỗi\x20khi\x20đọc\x20file\x20package.json:\x20','httpGet','Kiểm\x20tra\x20task\x20sau\x2060\x20giây','Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro','4750435woxjjR','taskIndex','TA\x20ĐI\x20ĐÂY','0x0','success','\x20MB,\x20Ta\x20OUT\x20đây!','[checkUpdate]Bạn\x20đang\x20chạy\x20phiên\x20bản\x20mới\x20nhất','Lỗi\x20App\x20genlogin\x20nhé\x20bro!','[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','profileThreads','exit','Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy','value','https://raw.githubusercontent.com/resistor3300/longCTools/refs/heads/main/package.json','size','height','input','completed','screenWidthHeight','\x20vào\x20hàng\x20đợi','2595HEBIZL','log','set','Start\x20App:\x20','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20','6HZDjPM','126SpMzOx','18200666DSrNjf','[processTasks]:\x20Phát\x20Hiện\x20','Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ','[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý','map','[checkUpdate]\x20Lỗi\x20parse\x20JSON:\x20','Lỗi\x20không\x20xác\x20định','[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20','[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20','[processTasks]:','store','Garbage\x20Collector\x20đã\x20chạy!','substring','length','trim','scale','env','profiles','from','nowTime','object','[createWorkerPromise]:\x20main\x20','getAllProfiles.value\x20OK','name','\x20with\x20data:\x20','width','[createWorkerPromise]:\x20main\x20kết\x20thúc\x20worker','tele','BYE\x20BYE','Lỗi:\x20','nextRun','304695QyYDDd','taskkill\x20/IM\x20genLogin.exe\x20/F','updateTask','No\x20task\x20found','tele_id','getListProfiles','get','[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task','version','add','[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20','[eTimeout]main:\x20turn\x20on\x20timeout\x20flag','\x20MB,\x20RSS:\x20','compareExchange','10lrrkEj','\x20task\x20đang\x20chạy','SERVER_HOST','now','[checkUpdate]Có\x20phiên\x20bản\x20mới:\x20','Heap\x20Used:\x20','maxTask','has','Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro','checkbox','[processTask]:\x20Xử\x20lý\x20task:\x20','race','tắt\x20genlogin\x20ok','main','push','toFixed'];a0_0x5a22=function(){return _0x320e7d;};return a0_0x5a22();}const MIN_FREE_SPACE_MB=0x384;let tasksDataBuffer,tasksData,screenData,screenDataBuffer;const __filename=fileURLToPath(import.meta[a0_0x5e74df(0x1c5)]),__dirname=a0_0xe085d4[a0_0x5e74df(0x1d5)](__filename),{machine_id,machineIdSync}=a0_0xa5accd,machineId=machineIdSync()[a0_0x5e74df(0x178)](0x0,0x8),appName='LongCAutoAirdrop'+'-'+machineId,nameFile='genProfiles'+'-'+machineId,genDataFile='genDataProfiles'+'-'+machineId,appSetings={'maxTaskThreads':{'type':a0_0x5e74df(0x213),'value':0x3,'note':'Số\x20lượng\x20task\x20chạy\x20song\x20song'},'screens':{'type':a0_0x5e74df(0x213),'value':0x1,'note':'Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị'},'screenWidthHeight':{'type':a0_0x5e74df(0x213),'value':a0_0x5e74df(0x1e7),'note':a0_0x5e74df(0x1ac)},'browserWidthHeight':{'type':a0_0x5e74df(0x213),'value':'400x900','note':'kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20'},'autoSetBrowserPosition':{'type':a0_0x5e74df(0x1a3),'value':'y','note':a0_0x5e74df(0x1e8)},'customBrowserPosition':{'type':a0_0x5e74df(0x213),'value':a0_0x5e74df(0x206),'note':a0_0x5e74df(0x1ca)},'genDataFolder':{'type':a0_0x5e74df(0x213),'value':a0_0xe085d4[a0_0x5e74df(0x1de)]('C:',a0_0x5e74df(0x1c6),a0_0x437a16[a0_0x5e74df(0x1bc)]()['username'],a0_0x5e74df(0x1f7)),'note':a0_0x5e74df(0x1df)}};let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,firstRun=!![],appStatus=0x0,tele_id,version,prevTime,prevTimeCkDisk;async function main(){const _0x4dcc39=a0_0x5e74df;try{log('main',_0x4dcc39(0x21a)+appName,null,'w','='),await delay(0x3e8);if(!process[_0x4dcc39(0x17c)][_0x4dcc39(0x1ba)]){log(_0x4dcc39(0x1a7),_0x4dcc39(0x1e0),null,![]),log(_0x4dcc39(0x1a7),_0x4dcc39(0x1f3),null,'w'),log(_0x4dcc39(0x1a7),_0x4dcc39(0x1a2),null,'w'),log(_0x4dcc39(0x1a7),_0x4dcc39(0x188),null,'w'),log(_0x4dcc39(0x1a7),_0x4dcc39(0x205),null,'w','=');return;}genlogin=new a0_0x3f244f('',!![]),http=new a0_0x3ede9b(process[_0x4dcc39(0x17c)][_0x4dcc39(0x19c)],process['env'][_0x4dcc39(0x1ba)],!![]),tele_id=await http['getTeleId'](_0x4dcc39(0x1a7)),version=await checkUpdate(),prevTime=Date[_0x4dcc39(0x19d)](),prevTimeCkDisk=Date[_0x4dcc39(0x19d)]();tele_id[_0x4dcc39(0x18f)]&&await http[_0x4dcc39(0x187)](_0x4dcc39(0x1a7),tele_id[_0x4dcc39(0x18f)],_0x4dcc39(0x21a)+appName+'\x20nè\x20bro!');let _0x1ca912,_0x176f87=0x1,_0x3cdade=0x1,_0x2a332c=0x0,_0x1bdd64;while(!![]){try{appStatus=0x1;if(_0x176f87){if(!_0x2a332c){GenDataProfile=null;_0x3cdade&&(_0x1bdd64=null,_0x1bdd64=await genlogin['getListProfiles'](_0x4dcc39(0x1a7)));if(!_0x1bdd64||!_0x3cdade){const _0x591d34=await http[_0x4dcc39(0x1be)](_0x4dcc39(0x1a7),genDataFile);!_0x591d34['value']?(log(_0x4dcc39(0x1a7),_0x4dcc39(0x202),null,'w'),log(_0x4dcc39(0x1a7),'Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro',null,'w'),log(_0x4dcc39(0x1a7),''+_0x591d34[_0x4dcc39(0x1c8)],null,![]),log(_0x4dcc39(0x1a7),'chờ\x2030\x20giây\x20rồi\x20thử\x20lại',null,'i'),tele_id&&tele_id[_0x4dcc39(0x18f)]&&await http[_0x4dcc39(0x187)]('main',tele_id[_0x4dcc39(0x18f)],_0x4dcc39(0x20a))):GenDataProfile=_0x591d34[_0x4dcc39(0x20f)];}else{GenDataProfile=await _0x1bdd64[_0x4dcc39(0x17d)],await http[_0x4dcc39(0x1be)]('main',genDataFile,GenDataProfile),_0x3cdade=0x0;continue;}}if(await genlogin[_0x4dcc39(0x190)]('main')){log('main',_0x4dcc39(0x1e2),null,'w'),_0x2a332c=0x1,await closeGenlogin(),await delay(0xbb8);continue;}_0x176f87=0x0;}await delay(0x3e8),getAllProfiles=await http[_0x4dcc39(0x1b6)]('main',appName,nameFile,GenDataProfile,appSetings);if(!getAllProfiles['value']||!getAllProfiles||getAllProfiles[_0x4dcc39(0x20f)]['length']<=0x0){log(_0x4dcc39(0x1a7),_0x4dcc39(0x20e),null,![]),log(_0x4dcc39(0x1a7),'chờ\x2030\x20giây\x20rồi\x20thử\x20lại',null,'i');throw new Error(_0x4dcc39(0x18e));}log('main',_0x4dcc39(0x182));const _0x446e35=Object[_0x4dcc39(0x1d1)](getAllProfiles['value']);maxTask=parseInt(getAllProfiles[_0x4dcc39(0x1a0)]);const _0x11cbc3=await processTasks(_0x446e35);if(taskQueue[_0x4dcc39(0x1fc)]>0x0){const _0x1bf289=await getRunningTasks(taskStatus,_0x4dcc39(0x1ed));log(_0x4dcc39(0x1a7),taskQueue[_0x4dcc39(0x211)]+'\x20task\x20trong\x20hàng\x20đợi',null,'w'),log(_0x4dcc39(0x1a7),taskQueue[_0x4dcc39(0x1fc)]+_0x4dcc39(0x19b),null,'w'),log(_0x4dcc39(0x1a7),'Running\x20Task:'+_0x1bf289,null,'w');}else!_0x11cbc3&&log('main',_0x4dcc39(0x1c3),null,'w');log('main',_0x4dcc39(0x1cb)+Array[_0x4dcc39(0x17e)](taskStatus['entries']()),null,'c'),log(_0x4dcc39(0x1a7),_0x4dcc39(0x201),null,'i'),Date['now']()-prevTime>=0x5265c00&&(prevTime=Date[_0x4dcc39(0x19d)](),checkUpdate()),Date[_0x4dcc39(0x19d)]()-prevTimeCkDisk>=0x493e0&&(prevTimeCkDisk=Date['now'](),checkDisk()),logMemoryUsage(),getAllProfiles=null,await delay(0x7530);}catch(_0x4605fb){log('main',_0x4dcc39(0x1e4)+_0x4605fb,null,![]),log('main','Chờ\x2060\x20giây',null,'i'),tele_id&&tele_id[_0x4dcc39(0x18f)]&&await http[_0x4dcc39(0x187)]('main',tele_id['tele_id'],appName+'\x20Lỗi\x20'+_0x4605fb+'\x20rồi\x20bro!'),await delay(0x7530);}}}catch(_0x47200e){log('main','Lỗi\x20chung:\x20'+_0x47200e,null,![]),appStatus=0x0;}}main()[a0_0x5e74df(0x1b0)](console[a0_0x5e74df(0x1c8)]);async function processTasks(_0x43c0a4){const _0x9eaa49=a0_0x5e74df;try{if(firstRun){log(_0x9eaa49(0x1a7),'[processTasks]:\x20FirstRun',null,'c','*'),taskQueue=new a0_0x22b7cc({'concurrency':maxTask}),tasksDataBuffer=new SharedArrayBuffer(_0x43c0a4[_0x9eaa49(0x179)]*0x4),tasksData=new Int32Array(tasksDataBuffer);for(var _0x58d741=0x0;_0x58d741<tasksData['length'];_0x58d741++){Atomics[_0x9eaa49(0x228)](tasksData,_0x58d741,0x2);}firstRun=![],taskStatus=new Map();let _0x36ba66=0x0;for(const [_0x32a202,_0x14ac09]of _0x43c0a4){_0x32a202<parseInt(getAllProfiles['maxTask'])&&(_0x36ba66+=parseInt(_0x14ac09[_0x9eaa49(0x20c)]));}screenDataBuffer=new SharedArrayBuffer((parseInt(_0x36ba66)*0x3+0xd)*0x4),screenData=new Int32Array(screenDataBuffer);let _0x408755=[];for(let _0x361004=0x0;_0x361004<parseInt(getAllProfiles[_0x9eaa49(0x1b1)]);_0x361004++){const _0x4659dc=getAllProfiles[_0x9eaa49(0x215)]['split']('x');_0x408755[_0x9eaa49(0x1a8)]({'width':parseInt(_0x4659dc[0x0]),'height':parseInt(_0x4659dc[0x1])});}const _0x45c255=getAllProfiles[_0x9eaa49(0x1c0)]['split']('x'),_0x499afb=parseInt(_0x45c255[0x0]),_0x58d348=parseInt(_0x45c255[0x1]),_0x4c3cc4=_0x36ba66,_0x35d2e1=_0x408755[_0x9eaa49(0x1cd)]((_0x4c87e4,_0x33269a)=>_0x4c87e4+_0x33269a[_0x9eaa49(0x185)],0x0),_0x335726=Math['max'](..._0x408755[_0x9eaa49(0x222)](_0x53ad64=>_0x53ad64[_0x9eaa49(0x212)])),_0x5cd5f5=await calScreenArr(_0x499afb,_0x58d348,_0x35d2e1,_0x335726,_0x36ba66);screenData=_0x5cd5f5[_0x9eaa49(0x1d8)],log(_0x9eaa49(0x1a7),_0x9eaa49(0x1e5)+getAllProfiles[_0x9eaa49(0x1b1)],null,'w'),log(_0x9eaa49(0x1a7),_0x9eaa49(0x21b)+_0x35d2e1+'x'+_0x335726,null,'w'),log(_0x9eaa49(0x1a7),'Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20'+_0x5cd5f5[_0x9eaa49(0x1db)]+_0x9eaa49(0x1f9)+_0x5cd5f5[_0x9eaa49(0x1d7)],null,'w'),log(_0x9eaa49(0x1a7),'Tỷ\x20lệ\x20thu\x20nhỏ:\x20'+_0x5cd5f5[_0x9eaa49(0x17b)],null,'w'),log('main',_0x9eaa49(0x1f0)+getAllProfiles[_0x9eaa49(0x1b1)]+'|screenWidthHeight:'+getAllProfiles['screenWidthHeight'],null,'w'),await delay(0x3e8);}const _0x112184=[];for(const [_0x1ea6fc,_0x5832fa]of _0x43c0a4){_0x5832fa[_0x9eaa49(0x204)]=_0x1ea6fc;const _0x126848=await genlogin[_0x9eaa49(0x17f)]('main');log(_0x9eaa49(0x1a7),_0x9eaa49(0x1ab)+_0x126848['timestamp'],null,'i'),log(_0x9eaa49(0x1a7),_0x9eaa49(0x1d6)+_0x5832fa['nextrunstamp'],null,'i'),log('main',_0x9eaa49(0x1c1)+_0x5832fa[_0x9eaa49(0x1d9)],null,'i'),log(_0x9eaa49(0x1a7),_0x9eaa49(0x227)+_0x126848[_0x9eaa49(0x1ad)]+'|'+(parseInt(_0x5832fa['nextrunstamp'])+parseInt(_0x5832fa[_0x9eaa49(0x1fb)]))+'|'+parseInt(_0x5832fa[_0x9eaa49(0x1d9)]),null,'w');if(_0x126848[_0x9eaa49(0x1ad)]>=_0x5832fa[_0x9eaa49(0x1ee)]&&parseInt(_0x5832fa[_0x9eaa49(0x1d9)])===0x0){log(_0x9eaa49(0x1a7),'[processTasks]:\x20Thêm\x20task\x20'+_0x5832fa[_0x9eaa49(0x183)]+_0x9eaa49(0x216),null,'i'),taskStatus['set'](_0x5832fa[_0x9eaa49(0x183)],_0x9eaa49(0x1fc));const _0x51a2b3=await updateTask(_0x5832fa[_0x9eaa49(0x183)],{'status':0x1,'nextRun':0x1});_0x112184['push'](taskQueue[_0x9eaa49(0x195)](()=>processTask(_0x5832fa))),taskStatus[_0x9eaa49(0x219)](_0x5832fa[_0x9eaa49(0x183)],_0x9eaa49(0x1ed)),await delay(0x7d0);}else{if(_0x126848[_0x9eaa49(0x1ad)]>parseInt(_0x5832fa[_0x9eaa49(0x1ee)])+parseInt(_0x5832fa['maxTime'])&&parseInt(_0x5832fa[_0x9eaa49(0x1d9)])===0x1&&(taskStatus[_0x9eaa49(0x191)](_0x5832fa[_0x9eaa49(0x183)])===_0x9eaa49(0x214)||!taskStatus[_0x9eaa49(0x1a1)](_0x5832fa[_0x9eaa49(0x183)]))){log('main',_0x9eaa49(0x21f)+_0x5832fa['name']+_0x9eaa49(0x1dd)+_0x5832fa[_0x9eaa49(0x1cf)],null,'w','*');const _0x5311ca=await updateTask(_0x5832fa[_0x9eaa49(0x183)],{'status':0x0,'nextRun':0x1});log(_0x9eaa49(0x1a7),_0x9eaa49(0x1f4)+_0x5832fa[_0x9eaa49(0x183)],null,'i','*');}}}return _0x112184['length']>0x0?!![]:(log(_0x9eaa49(0x1a7),_0x9eaa49(0x221),null,'w'),null);}catch(_0x2fae30){return log(_0x9eaa49(0x1a7),_0x9eaa49(0x20b)+_0x2fae30,null,![]),null;}}async function processTask(_0x5e2954){const _0xf433e6=a0_0x5e74df;try{log(_0xf433e6(0x1a7),_0xf433e6(0x1a4)+_0x5e2954[_0xf433e6(0x183)],null,'i','=');if(!_0x5e2954||typeof _0x5e2954!=='object')throw new Error(_0xf433e6(0x1f1));const _0x4abf26=createWorkerPromise(_0x5e2954),_0x12d321=await _0x4abf26;log(_0xf433e6(0x1a7),'[processTask]:\x20DONE\x20TASK\x20'+_0x5e2954[_0xf433e6(0x183)],null,'w','DT');const _0x3f1aea=await updateTask(_0x5e2954['name'],{'status':0x0,'nextRun':0x1});return taskStatus['set'](_0x5e2954[_0xf433e6(0x183)],_0xf433e6(0x214)),await delay(0x1388),_0x12d321;}catch(_0x5d9459){return log('main',_0xf433e6(0x1e9)+_0x5d9459,null,![]),await updateTask(_0x5e2954[_0xf433e6(0x183)],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x233993){const _0x216c29=a0_0x5e74df;return log(_0x216c29(0x1a7),_0x216c29(0x192)+_0x233993[_0x216c29(0x183)],null,'i','-'),new Promise(async(_0x3de853,_0x1c81b4)=>{const _0x217193=_0x216c29;let _0x24af57;try{if(!_0x233993||typeof _0x233993!==_0x217193(0x180))return _0x1c81b4(new Error('Task\x20phải\x20là\x20một\x20đối\x20tượng'));const _0xc0f8=_0x233993[_0x217193(0x1bb)]===_0x217193(0x1cc)?_0x217193(0x1d2):'./workerBrowser.js';_0x24af57=await spawn(new Worker(_0xc0f8)),log(_0x217193(0x1a7),'[createWorkerPromise]:\x20'+_0xc0f8,null,'i');if(!_0x24af57)return _0x1c81b4(new Error(_0x217193(0x1d3)));const _0x274a2f=parseInt(_0x233993[_0x217193(0x1fb)])*0x3e8;if(isNaN(_0x274a2f))return _0x1c81b4(new Error(_0x217193(0x220)));const _0x19083c=setTimeout(async()=>{const _0x645a7f=_0x217193;log(_0x645a7f(0x1a7),_0x645a7f(0x1e3)+_0x233993[_0x645a7f(0x183)],null,'w',_0x645a7f(0x1b8)),await eTimeout(_0x233993[_0x645a7f(0x204)]),xoaTimeout(_0x19083c),await _0x24af57[_0x645a7f(0x1bf)]({'timeout':!![],'task':_0x233993,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'tele_id':tele_id});},_0x274a2f);log(_0x217193(0x1a7),_0x217193(0x1ef)+_0x233993[_0x217193(0x183)]+_0x217193(0x1d0)+_0x274a2f+'\x20Timeout\x20ID:\x20'+_0x19083c,null,'w');const _0x149acb=async _0x4a3c8c=>{const _0x2eec12=_0x217193;try{if(_0x4a3c8c[_0x2eec12(0x207)]){log('main',_0x2eec12(0x1ea)+_0x233993[_0x2eec12(0x183)],null,'i'),xoaTimeout(_0x19083c),_0x3de853(!![]);return;}else{if(!_0x4a3c8c[_0x2eec12(0x207)]){log(_0x2eec12(0x1a7),_0x2eec12(0x1fe)+_0x233993['name']+':\x20'+_0x4a3c8c['error'],null,![]),_0x1c81b4(new Error(_0x4a3c8c['error']||_0x2eec12(0x224)));return;}else{log(_0x2eec12(0x1a7),_0x2eec12(0x226)+_0x233993['name']+':\x20'+json(_0x4a3c8c),null,'c','x'),log('main',_0x2eec12(0x196)+_0x233993[_0x2eec12(0x183)]+':\x20'+_0x4a3c8c[_0x2eec12(0x1c8)],null,![]),_0x1c81b4(new Error(_0x4a3c8c[_0x2eec12(0x1c8)]||'Lỗi\x20không\x20xác\x20định'));return;}}}catch(_0x4aa149){log(_0x2eec12(0x1a7),_0x2eec12(0x225)+_0x233993[_0x2eec12(0x183)]+':\x20'+_0x4aa149[_0x2eec12(0x1c7)],null,![]),xoaTimeout(_0x19083c),_0x1c81b4(_0x4aa149);return;}},_0x21f71a=new Promise(async(_0x30c5ce,_0x32acc7)=>{const _0x2e551a=_0x217193;try{const _0x60422e=await _0x24af57[_0x2e551a(0x1bf)]({'version0':version,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'task':_0x233993,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame,'tele_id':tele_id}),_0x35246f=await _0x149acb(_0x60422e);_0x30c5ce(_0x35246f);}catch(_0x50a992){_0x32acc7(_0x50a992);}}),_0x2d3c2a=await Promise[_0x217193(0x1a5)]([_0x21f71a]);log(_0x217193(0x1a7),_0x217193(0x181)+json(_0x2d3c2a),null,'w','@'),log('main',_0x217193(0x186),null,'w','-');_0x24af57&&Thread[_0x217193(0x1f2)]in _0x24af57?await Thread['terminate'](_0x24af57):log(_0x217193(0x1a7),_0x217193(0x1b4),null,![],'x');_0x3de853(_0x2d3c2a);return;}catch(_0x53613f){log('main','[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20'+_0x53613f['message'],null,![]),_0x24af57&&Thread[_0x217193(0x1f2)]in _0x24af57?await Thread[_0x217193(0x1f2)](_0x24af57):log(_0x217193(0x1a7),'[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:',null,![],'x'),_0x1c81b4(_0x53613f);}});}async function updateTask(_0xe976ee,_0x33ab88){const _0x505352=a0_0x5e74df;if(!http||typeof http['updateTask']!=='function'){log('main',_0x505352(0x193),null,![]);return;}return log('main','[updateTask]:\x20update\x20task\x20'+_0xe976ee+_0x505352(0x184)+_0x33ab88[_0x505352(0x1d9)]+'|'+_0x33ab88[_0x505352(0x18a)],null,'i'),await http[_0x505352(0x18d)](_0x505352(0x1a7),_0xe976ee,_0x33ab88);}async function processProfile(_0x51b388){const _0xbfba8a=a0_0x5e74df;console[_0xbfba8a(0x218)](_0xbfba8a(0x1a7),'Processing\x20profile:\x20'+_0x51b388[_0xbfba8a(0x183)]);const _0x2c15bd=_0x51b388[_0xbfba8a(0x1fa)];for(const _0x38bf16 of _0x2c15bd){await gameQueue['add'](()=>processGame(_0x38bf16));}}async function getRunningTasks(_0x1348f2,_0x5423a3){const _0x43fec3=[];for(const [_0x2a44fe,_0x362a99]of _0x1348f2['entries']()){_0x362a99===_0x362a99&&_0x43fec3['push'](_0x2a44fe);}return _0x43fec3;}async function calScreenArr(_0x390f68,_0x25392e,_0xa6ea44,_0x4b57ee,_0x505ad8,_0x2a79cb=0x1){const _0x190ab6=a0_0x5e74df,_0x56cf24=0x0;let _0x2e1cf8=_0x390f68,_0x334b05=_0x25392e,_0x2e5cf8,_0x160fef,_0x1852e3=0x1;while(!![]){_0x160fef=Math[_0x190ab6(0x1dc)](_0xa6ea44/_0x2e1cf8),_0x2e5cf8=Math['ceil'](_0x505ad8/_0x160fef);if(_0x2e5cf8*_0x334b05<=_0x4b57ee)break;_0x1852e3*=0.95,_0x2e1cf8=Math[_0x190ab6(0x1dc)](_0x390f68*_0x1852e3),_0x334b05=Math['floor'](_0x25392e*_0x1852e3);}_0x2e1cf8=Math[_0x190ab6(0x1dc)](_0x2e1cf8*1.26);const _0x28ae94=[];let _0x3f98c9=0x0;for(let _0x395fc7=0x0;_0x395fc7<_0x2a79cb;_0x395fc7++){const _0x20ec6e=Math[_0x190ab6(0x1ce)](_0x1852e3*0xf4240);Atomics[_0x190ab6(0x228)](screenData,0x0,_0x395fc7),Atomics[_0x190ab6(0x228)](screenData,0x1,_0x20ec6e),Atomics[_0x190ab6(0x228)](screenData,0x2,_0x390f68),Atomics[_0x190ab6(0x228)](screenData,0x3,_0x25392e),Atomics[_0x190ab6(0x228)](screenData,0x4,_0x2e1cf8),Atomics[_0x190ab6(0x228)](screenData,0x5,_0x334b05);let _0x562984=0xa;for(let _0x59bbad=0x0;_0x59bbad<_0x2e5cf8;_0x59bbad++){const _0xf5a2a9=[];for(let _0x92eafc=0x0;_0x92eafc<_0x160fef;_0x92eafc++){if(_0x3f98c9>=_0x505ad8)break;const _0x410858=Math['floor'](_0x92eafc*_0x2e1cf8),_0x57bddb=Math[_0x190ab6(0x1dc)](_0x59bbad*_0x334b05);if(_0x410858>_0xa6ea44||_0x57bddb>_0x4b57ee)continue;Atomics[_0x190ab6(0x228)](screenData,_0x562984++,0x2),Atomics[_0x190ab6(0x228)](screenData,_0x562984++,_0x410858),Atomics[_0x190ab6(0x228)](screenData,_0x562984++,_0x57bddb),_0x3f98c9++;}if(_0x3f98c9>=_0x505ad8)break;}break;}return{'screenData':screenData,'scale':_0x1852e3,'rows':_0x2e5cf8,'cols':_0x160fef,'total':_0x3f98c9,'positions':_0x28ae94};}async function xoaTimeout(_0x438b04){const _0x375892=a0_0x5e74df;try{clearTimeout(_0x438b04),log(_0x375892(0x1a7),_0x375892(0x1ae)+_0x438b04,null,'w','clrTimeout');}catch(_0x1fffad){log(_0x375892(0x1a7),'[xoaTimeout]main:\x20'+_0x1fffad,null,![]);}}async function delay(_0x4d0cda){return new Promise(_0x9b2374=>{setTimeout(_0x9b2374,_0x4d0cda);});}async function eTimeout(_0x4e1c64){const _0x1f3e65=a0_0x5e74df;return log(_0x1f3e65(0x1a7),_0x1f3e65(0x197),null,'w'),Atomics[_0x1f3e65(0x228)](tasksData,_0x4e1c64,0x1),!![];}async function rstTimeout(_0x1d0d54){const _0x466cfb=a0_0x5e74df;return log(_0x466cfb(0x1a7),'[eTimeout]main:\x20reset\x20timeout',null,'w'),Atomics[_0x466cfb(0x199)](tasksData,_0x1d0d54,0x1,0x2),!![];}async function closeGenlogin(){const _0x3bfc58=a0_0x5e74df;try{log('main',_0x3bfc58(0x1c4),null,'w','-'),exec(_0x3bfc58(0x18c),(_0x23b78,_0x3058b5,_0x48b53a)=>{const _0x31cba6=_0x3bfc58;if(_0x23b78){log(_0x31cba6(0x1a7),_0x31cba6(0x189)+_0x23b78['message'],null,![]);return;}if(_0x48b53a){log(_0x31cba6(0x1a7),_0x31cba6(0x1b3)+_0x48b53a,null,![]);return;}log(_0x31cba6(0x1a7),_0x31cba6(0x1a6));});}catch(_0x1a1906){log(_0x3bfc58(0x1a7),'closeGenlogin:\x20'+_0x1a1906,null,![]);}}async function checkUpdate(){const _0x256c75=a0_0x5e74df;try{const _0x3b566f=_0x256c75(0x210),_0x32b686=a0_0xe085d4[_0x256c75(0x1de)](process['cwd'](),'package.json'),_0xf0ef13=await a0_0x13b236[_0x256c75(0x1d4)]['readFile'](_0x32b686,_0x256c75(0x1b7)),_0x56237c=JSON[_0x256c75(0x1e1)](_0xf0ef13),_0xa04a6b=_0x56237c[_0x256c75(0x194)];log(_0x256c75(0x1a7),'[checkUpdate]Version:\x20'+_0xa04a6b,null,'w','-');const _0x5acc3c=await http[_0x256c75(0x200)](_0x256c75(0x1a7),_0x3b566f);await delay(0x3e8);if(_0x5acc3c)try{const _0x5e9cfc=typeof _0x5acc3c===_0x256c75(0x1af)?JSON[_0x256c75(0x1e1)](_0x5acc3c):_0x5acc3c,_0x1a63a5=_0x5e9cfc[_0x256c75(0x194)];await delay(0x3e8),_0x1a63a5!=_0xa04a6b?(log(_0x256c75(0x1a7),_0x256c75(0x19e)+_0x1a63a5,null,'w'),tele_id&&tele_id[_0x256c75(0x18f)]&&await http[_0x256c75(0x187)]('main',tele_id[_0x256c75(0x18f)],_0x256c75(0x1eb)+_0x1a63a5)):log('main',_0x256c75(0x209),null,'w');}catch(_0x3f11f8){log(_0x256c75(0x1a7),_0x256c75(0x223)+_0x3f11f8[_0x256c75(0x1c7)],null,![]);}return _0xa04a6b;}catch(_0x41dcfd){return log(_0x256c75(0x1a7),_0x256c75(0x1ff)+_0x41dcfd,null,![]),null;}}async function checkDisk(){const _0x401399=a0_0x5e74df;try{const _0x11eeeb=await checkDiskSpace('C:');log(_0x401399(0x1aa),'🟢\x20Dung\x20lượng\x20trống:\x20'+_0x11eeeb[_0x401399(0x1a9)](0x2)+_0x401399(0x1b5),null,'w','+'),_0x11eeeb<=MIN_FREE_SPACE_MB&&(log(_0x401399(0x1aa),'❌\x20Dung\x20lượng\x20trống\x20không\x20đủ!',null,'w','+'),tele_id['tele_id']&&await http[_0x401399(0x187)]('checkDisk',tele_id[_0x401399(0x18f)],_0x401399(0x1b2)+_0x11eeeb['toFixed'](0x2)+_0x401399(0x208)),process[_0x401399(0x20d)]());}catch(_0x2d698f){log(_0x401399(0x1aa),_0x401399(0x1ec)+_0x2d698f[_0x401399(0x1c7)],null,'w','+');}}function checkDiskSpace(_0x42cfdc='C:'){return new Promise((_0x2e3725,_0x3c126b)=>{const _0x18cf62=a0_0x343e;exec(_0x18cf62(0x1c9),(_0xfe6cbe,_0x2e7051)=>{const _0x2a4fba=_0x18cf62;if(_0xfe6cbe){_0x3c126b(_0xfe6cbe);return;}const _0x354c9b=_0x2e7051[_0x2a4fba(0x17a)]()[_0x2a4fba(0x1bd)]('\x0a');for(const _0x186117 of _0x354c9b){const _0xa744fd=_0x186117[_0x2a4fba(0x17a)]()[_0x2a4fba(0x1bd)](/\s+/);if(_0xa744fd[0x0]===_0x42cfdc){const _0x242db9=Math['round'](parseInt(_0xa744fd[0x1],0xa)/0x400/0x400);_0x2e3725(_0x242db9);return;}}_0x3c126b(new Error(_0x2a4fba(0x1f5)));});});}async function logMemoryUsage(){const _0x1a64f7=a0_0x5e74df,_0x45dd26=process['memoryUsage']();log(_0x1a64f7(0x1e6),_0x1a64f7(0x19f)+(_0x45dd26[_0x1a64f7(0x1c2)]/0x400/0x400)['toFixed'](0x2)+_0x1a64f7(0x198)+(_0x45dd26[_0x1a64f7(0x1f8)]/0x400/0x400)[_0x1a64f7(0x1a9)](0x2)+_0x1a64f7(0x1b5),null,'w','+'),_0x45dd26[_0x1a64f7(0x1f8)]>0x400*0x400*0x400*0x5&&(log(_0x1a64f7(0x1e6),'Bộ\x20nhớ\x20vượt\x20quá\x201GB!\x20Thu\x20hồi...',null,'w','+'),global['gc']&&(global['gc'](),log(_0x1a64f7(0x1e6),_0x1a64f7(0x177),null,'i','+')));}