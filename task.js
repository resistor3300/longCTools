const a0_0x2c7b78=a0_0x460e;(function(_0x46f170,_0x583c6d){const _0x6ac076=a0_0x460e,_0x3b6737=_0x46f170();while(!![]){try{const _0x2a0d76=-parseInt(_0x6ac076(0x1c5))/0x1*(parseInt(_0x6ac076(0x1a5))/0x2)+-parseInt(_0x6ac076(0x16c))/0x3*(parseInt(_0x6ac076(0x158))/0x4)+-parseInt(_0x6ac076(0x12a))/0x5+-parseInt(_0x6ac076(0x1a6))/0x6*(parseInt(_0x6ac076(0x1db))/0x7)+parseInt(_0x6ac076(0x197))/0x8+parseInt(_0x6ac076(0x12c))/0x9*(-parseInt(_0x6ac076(0x1d9))/0xa)+parseInt(_0x6ac076(0x194))/0xb*(parseInt(_0x6ac076(0x185))/0xc);if(_0x2a0d76===_0x583c6d)break;else _0x3b6737['push'](_0x3b6737['shift']());}catch(_0x2a6add){_0x3b6737['push'](_0x3b6737['shift']());}}}(a0_0x30b3,0x6e71c));import'dotenv/config';import a0_0x321d62 from'os';import a0_0x14e569 from'fs';import a0_0x5587da from'path';function a0_0x460e(_0x4bee6c,_0x3220b9){const _0x30b3bf=a0_0x30b3();return a0_0x460e=function(_0x460e51,_0x37c2b1){_0x460e51=_0x460e51-0x127;let _0x144834=_0x30b3bf[_0x460e51];return _0x144834;},a0_0x460e(_0x4bee6c,_0x3220b9);}import{fileURLToPath}from'url';import a0_0x4b2cb5 from'./modules/Genlogin.js';import a0_0x22c131 from'./modules/http.js';import{log,json}from'./modules/logger.js';import a0_0x534693 from'node-machine-id';import{spawn,Thread,Worker}from'threads';import{exec}from'child_process';import a0_0x5b5b65 from'p-queue';const MIN_FREE_SPACE_MB=0x384;let tasksDataBuffer,tasksData,screenData,screenDataBuffer;const __filename=fileURLToPath(import.meta[a0_0x2c7b78(0x195)]),__dirname=a0_0x5587da['dirname'](__filename),{machine_id,machineIdSync}=a0_0x534693,machineId=machineIdSync()[a0_0x2c7b78(0x15b)](0x0,0x8),appName='LongCAutoAirdrop'+'-'+machineId,nameFile=a0_0x2c7b78(0x150)+'-'+machineId,genDataFile=a0_0x2c7b78(0x1dc)+'-'+machineId,appSetings={'maxTaskThreads':{'type':a0_0x2c7b78(0x132),'value':0x3,'note':a0_0x2c7b78(0x1c0)},'screens':{'type':a0_0x2c7b78(0x132),'value':0x1,'note':a0_0x2c7b78(0x166)},'screenWidthHeight':{'type':a0_0x2c7b78(0x132),'value':a0_0x2c7b78(0x1a7),'note':'độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20'},'browserWidthHeight':{'type':a0_0x2c7b78(0x132),'value':a0_0x2c7b78(0x169),'note':a0_0x2c7b78(0x19b)},'autoSetBrowserPosition':{'type':'checkbox','value':'y','note':a0_0x2c7b78(0x168)},'customBrowserPosition':{'type':'input','value':a0_0x2c7b78(0x1c6),'note':a0_0x2c7b78(0x17e)},'genDataFolder':{'type':'input','value':a0_0x5587da['join']('C:',a0_0x2c7b78(0x14a),a0_0x321d62['userInfo']()[a0_0x2c7b78(0x1ba)],a0_0x2c7b78(0x1cc)),'note':a0_0x2c7b78(0x1b0)}};let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,firstRun=!![],appStatus=0x0,tele_id,version,prevTime,prevTimeCkDisk;async function main(){const _0xa736f8=a0_0x2c7b78;try{log('main','Start\x20App:\x20'+appName,null,'w','='),await delay(0x3e8);if(!process['env'][_0xa736f8(0x1af)]){log(_0xa736f8(0x164),_0xa736f8(0x1bd),null,![]),log('main','Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro',null,'w'),log('main',_0xa736f8(0x1d3),null,'w'),log('main','BYE\x20BYE',null,'w'),log(_0xa736f8(0x164),_0xa736f8(0x18b),null,'w','=');return;}genlogin=new a0_0x4b2cb5('',!![]),http=new a0_0x22c131(process['env'][_0xa736f8(0x1b5)],process[_0xa736f8(0x193)][_0xa736f8(0x1af)],!![]),tele_id=await http[_0xa736f8(0x16f)]('main'),version=await checkUpdate(),prevTime=Date[_0xa736f8(0x135)](),prevTimeCkDisk=Date[_0xa736f8(0x135)]();tele_id[_0xa736f8(0x1a8)]&&await http[_0xa736f8(0x18d)](_0xa736f8(0x164),tele_id[_0xa736f8(0x1a8)],_0xa736f8(0x1a1)+appName+'\x20nè\x20bro!');let _0x8aeecc,_0x487d81=0x1,_0x48ae17=0x1,_0x5b6c0a=0x0,_0x5dce4c;while(!![]){try{appStatus=0x1;if(_0x487d81){if(!_0x5b6c0a){GenDataProfile=null;_0x48ae17&&(_0x5dce4c=null,_0x5dce4c=await genlogin[_0xa736f8(0x128)]('main'));if(!_0x5dce4c||!_0x48ae17){const _0x4ed087=await http[_0xa736f8(0x1dc)](_0xa736f8(0x164),genDataFile);!_0x4ed087[_0xa736f8(0x14c)]?(log(_0xa736f8(0x164),'Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro',null,'w'),log(_0xa736f8(0x164),_0xa736f8(0x133),null,'w'),log(_0xa736f8(0x164),''+_0x4ed087[_0xa736f8(0x1ae)],null,![]),log(_0xa736f8(0x164),_0xa736f8(0x1dd),null,'i'),tele_id&&tele_id['tele_id']&&await http[_0xa736f8(0x18d)]('main',tele_id['tele_id'],_0xa736f8(0x1d6))):GenDataProfile=_0x4ed087['value'];}else{GenDataProfile=await _0x5dce4c['profiles'],await http[_0xa736f8(0x1dc)](_0xa736f8(0x164),genDataFile,GenDataProfile),_0x48ae17=0x0;continue;}}if(await genlogin['getListProfiles']('main')){log(_0xa736f8(0x164),_0xa736f8(0x147),null,'w'),_0x5b6c0a=0x1,await closeGenlogin(),await delay(0xbb8);continue;}_0x487d81=0x0;}await delay(0x3e8),getAllProfiles=await http[_0xa736f8(0x172)](_0xa736f8(0x164),appName,nameFile,GenDataProfile,appSetings);if(!getAllProfiles['value']||!getAllProfiles||getAllProfiles[_0xa736f8(0x14c)][_0xa736f8(0x1d4)]<=0x0){log(_0xa736f8(0x164),_0xa736f8(0x12d),null,![]),log(_0xa736f8(0x164),_0xa736f8(0x1dd),null,'i');throw new Error('No\x20task\x20found');}log(_0xa736f8(0x164),_0xa736f8(0x190));const _0xb048ea=Object['entries'](getAllProfiles[_0xa736f8(0x14c)]);maxTask=parseInt(getAllProfiles['maxTask']);const _0x23e542=await processTasks(_0xb048ea);if(taskQueue[_0xa736f8(0x198)]>0x0){const _0x6e45af=await getRunningTasks(taskStatus,_0xa736f8(0x131));log('main',taskQueue[_0xa736f8(0x179)]+'\x20task\x20trong\x20hàng\x20đợi',null,'w'),log(_0xa736f8(0x164),taskQueue['pending']+_0xa736f8(0x1d5),null,'w'),log('main',_0xa736f8(0x196)+_0x6e45af,null,'w');}else!_0x23e542&&log('main',_0xa736f8(0x18a),null,'w');log('main',_0xa736f8(0x1cb)+Array[_0xa736f8(0x154)](taskStatus['entries']()),null,'c'),log(_0xa736f8(0x164),'Kiểm\x20tra\x20task\x20sau\x2060\x20giây',null,'i'),Date[_0xa736f8(0x135)]()-prevTime>=0x5265c00&&(prevTime=Date['now'](),checkUpdate()),Date['now']()-prevTimeCkDisk>=0x493e0&&(prevTimeCkDisk=Date[_0xa736f8(0x135)](),checkDisk()),logMemoryUsage(),getAllProfiles=null,await delay(0x7530);}catch(_0x159b4b){log(_0xa736f8(0x164),_0xa736f8(0x13e)+_0x159b4b,null,![]),log(_0xa736f8(0x164),_0xa736f8(0x180),null,'i'),tele_id&&tele_id[_0xa736f8(0x1a8)]&&await http[_0xa736f8(0x18d)](_0xa736f8(0x164),tele_id[_0xa736f8(0x1a8)],appName+_0xa736f8(0x14d)+_0x159b4b+_0xa736f8(0x184)),await delay(0x7530);}}}catch(_0x5ac6e8){log(_0xa736f8(0x164),_0xa736f8(0x19a)+_0x5ac6e8,null,![]),appStatus=0x0;}}main()[a0_0x2c7b78(0x16a)](console[a0_0x2c7b78(0x1ae)]);async function processTasks(_0x509d61){const _0x5569de=a0_0x2c7b78;try{if(firstRun){log(_0x5569de(0x164),'[processTasks]:\x20FirstRun',null,'c','*'),taskQueue=new a0_0x5b5b65({'concurrency':maxTask}),tasksDataBuffer=new SharedArrayBuffer(_0x509d61[_0x5569de(0x1d4)]*0x4),tasksData=new Int32Array(tasksDataBuffer);for(var _0x5cedbc=0x0;_0x5cedbc<tasksData[_0x5569de(0x1d4)];_0x5cedbc++){Atomics[_0x5569de(0x1d8)](tasksData,_0x5cedbc,0x2);}firstRun=![],taskStatus=new Map();let _0x1ac338=0x0;for(const [_0x56a05e,_0x2bd265]of _0x509d61){_0x56a05e<parseInt(getAllProfiles['maxTask'])&&(_0x1ac338+=parseInt(_0x2bd265[_0x5569de(0x188)]));}screenDataBuffer=new SharedArrayBuffer((parseInt(_0x1ac338)*0x3+0xd)*0x4),screenData=new Int32Array(screenDataBuffer);let _0x27241d=[];for(let _0xf48187=0x0;_0xf48187<parseInt(getAllProfiles[_0x5569de(0x17d)]);_0xf48187++){const _0x5e9209=getAllProfiles['screenWidthHeight'][_0x5569de(0x162)]('x');_0x27241d[_0x5569de(0x13c)]({'width':parseInt(_0x5e9209[0x0]),'height':parseInt(_0x5e9209[0x1])});}const _0x2969d0=getAllProfiles[_0x5569de(0x175)]['split']('x'),_0x5a758d=parseInt(_0x2969d0[0x0]),_0x54cfe7=parseInt(_0x2969d0[0x1]),_0x2bf00b=_0x1ac338,_0x4f0f4d=_0x27241d['reduce']((_0x2c4e41,_0x75997b)=>_0x2c4e41+_0x75997b[_0x5569de(0x186)],0x0),_0x56d297=Math[_0x5569de(0x160)](..._0x27241d[_0x5569de(0x1cd)](_0x517888=>_0x517888[_0x5569de(0x1bc)])),_0x2d2b37=await calScreenArr(_0x5a758d,_0x54cfe7,_0x4f0f4d,_0x56d297,_0x1ac338);screenData=_0x2d2b37[_0x5569de(0x170)],log('main',_0x5569de(0x146)+getAllProfiles[_0x5569de(0x17d)],null,'w'),log('main',_0x5569de(0x1da)+_0x4f0f4d+'x'+_0x56d297,null,'w'),log(_0x5569de(0x164),_0x5569de(0x144)+_0x2d2b37['rows']+_0x5569de(0x16b)+_0x2d2b37[_0x5569de(0x17c)],null,'w'),log(_0x5569de(0x164),_0x5569de(0x1d2)+_0x2d2b37[_0x5569de(0x1ad)],null,'w'),log(_0x5569de(0x164),_0x5569de(0x1ce)+getAllProfiles[_0x5569de(0x17d)]+'|screenWidthHeight:'+getAllProfiles[_0x5569de(0x157)],null,'w'),await delay(0x3e8);}const _0x19b4b3=[];for(const [_0x312854,_0xcb5fa1]of _0x509d61){_0xcb5fa1['taskIndex']=_0x312854;const _0x110369=await genlogin[_0x5569de(0x137)](_0x5569de(0x164));log(_0x5569de(0x164),'[processTasks]:\x20currentTime.timestamp:\x20'+_0x110369[_0x5569de(0x1b8)],null,'i'),log(_0x5569de(0x164),_0x5569de(0x183)+_0xcb5fa1[_0x5569de(0x130)],null,'i'),log('main','[processTasks]:\x20task.status:\x20'+_0xcb5fa1[_0x5569de(0x165)],null,'i'),log(_0x5569de(0x164),_0x5569de(0x13b)+_0x110369[_0x5569de(0x1b8)]+'|'+(parseInt(_0xcb5fa1[_0x5569de(0x130)])+parseInt(_0xcb5fa1[_0x5569de(0x19e)]))+'|'+parseInt(_0xcb5fa1['status']),null,'w');if(_0x110369[_0x5569de(0x1b8)]>=_0xcb5fa1[_0x5569de(0x130)]&&parseInt(_0xcb5fa1[_0x5569de(0x165)])===0x0){log(_0x5569de(0x164),_0x5569de(0x1a0)+_0xcb5fa1[_0x5569de(0x163)]+'\x20vào\x20hàng\x20đợi',null,'i'),taskStatus[_0x5569de(0x1b6)](_0xcb5fa1[_0x5569de(0x163)],'pending');const _0x516bce=await updateTask(_0xcb5fa1['name'],{'status':0x1,'nextRun':0x1});_0x19b4b3['push'](taskQueue[_0x5569de(0x13d)](()=>processTask(_0xcb5fa1))),taskStatus[_0x5569de(0x1b6)](_0xcb5fa1['name'],_0x5569de(0x131)),await delay(0x7d0);}else{if(_0x110369[_0x5569de(0x1b8)]>parseInt(_0xcb5fa1[_0x5569de(0x130)])+parseInt(_0xcb5fa1[_0x5569de(0x19e)])&&parseInt(_0xcb5fa1[_0x5569de(0x165)])===0x1&&(taskStatus[_0x5569de(0x1d1)](_0xcb5fa1[_0x5569de(0x163)])===_0x5569de(0x149)||!taskStatus[_0x5569de(0x12f)](_0xcb5fa1[_0x5569de(0x163)]))){log(_0x5569de(0x164),_0x5569de(0x1b1)+_0xcb5fa1[_0x5569de(0x163)]+_0x5569de(0x151)+_0xcb5fa1[_0x5569de(0x145)],null,'w','*');const _0x13de7e=await updateTask(_0xcb5fa1[_0x5569de(0x163)],{'status':0x0,'nextRun':0x1});log('main',_0x5569de(0x12b)+_0xcb5fa1[_0x5569de(0x163)],null,'i','*');}}}return _0x19b4b3[_0x5569de(0x1d4)]>0x0?!![]:(log(_0x5569de(0x164),_0x5569de(0x13f),null,'w'),null);}catch(_0x58283c){return log('main',_0x5569de(0x15c)+_0x58283c,null,![]),null;}}async function processTask(_0x2e61f5){const _0x4ba302=a0_0x2c7b78;try{log('main','[processTask]:\x20Xử\x20lý\x20task:\x20'+_0x2e61f5['name'],null,'i','=');if(!_0x2e61f5||typeof _0x2e61f5!==_0x4ba302(0x14e))throw new Error(_0x4ba302(0x136));const _0x1db646=createWorkerPromise(_0x2e61f5),_0x1f3cff=await _0x1db646;log(_0x4ba302(0x164),'[processTask]:\x20DONE\x20TASK\x20'+_0x2e61f5[_0x4ba302(0x163)],null,'w','DT');const _0x50464b=await updateTask(_0x2e61f5[_0x4ba302(0x163)],{'status':0x0,'nextRun':0x1});return taskStatus[_0x4ba302(0x1b6)](_0x2e61f5[_0x4ba302(0x163)],_0x4ba302(0x149)),await delay(0x1388),_0x1f3cff;}catch(_0x323ca9){return log(_0x4ba302(0x164),_0x4ba302(0x1a4)+_0x323ca9,null,![]),await updateTask(_0x2e61f5[_0x4ba302(0x163)],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x486479){const _0x5e5517=a0_0x2c7b78;return log(_0x5e5517(0x164),_0x5e5517(0x15d)+_0x486479['name'],null,'i','-'),new Promise(async(_0x329698,_0x135deb)=>{const _0x5347a4=_0x5e5517;let _0x1b9448;try{if(!_0x486479||typeof _0x486479!==_0x5347a4(0x14e))return _0x135deb(new Error('Task\x20phải\x20là\x20một\x20đối\x20tượng'));const _0x41b10c=_0x486479[_0x5347a4(0x18f)]===_0x5347a4(0x177)?_0x5347a4(0x1b3):_0x5347a4(0x134);_0x1b9448=await spawn(new Worker(_0x41b10c)),log(_0x5347a4(0x164),'[createWorkerPromise]:\x20'+_0x41b10c,null,'i');if(!_0x1b9448)return _0x135deb(new Error(_0x5347a4(0x19f)));const _0x4b0550=parseInt(_0x486479[_0x5347a4(0x19e)])*0x3e8;if(isNaN(_0x4b0550))return _0x135deb(new Error(_0x5347a4(0x1c3)));const _0x20e1dc=setTimeout(async()=>{const _0x2da373=_0x5347a4;log(_0x2da373(0x164),_0x2da373(0x139)+_0x486479[_0x2da373(0x163)],null,'w',_0x2da373(0x12e)),await eTimeout(_0x486479['taskIndex']),xoaTimeout(_0x20e1dc),await _0x1b9448[_0x2da373(0x171)]({'timeout':!![],'task':_0x486479,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'tele_id':tele_id});},_0x4b0550);log(_0x5347a4(0x164),_0x5347a4(0x156)+_0x486479[_0x5347a4(0x163)]+'\x20set\x20timeout:\x20'+_0x4b0550+'\x20Timeout\x20ID:\x20'+_0x20e1dc,null,'w');const _0x3133cb=async _0x43cbd8=>{const _0x1bb922=_0x5347a4;try{if(_0x43cbd8[_0x1bb922(0x1b4)]){log(_0x1bb922(0x164),_0x1bb922(0x1cf)+_0x486479[_0x1bb922(0x163)],null,'i'),xoaTimeout(_0x20e1dc),_0x329698(!![]);return;}else{if(!_0x43cbd8[_0x1bb922(0x1b4)]){log(_0x1bb922(0x164),_0x1bb922(0x1aa)+_0x486479[_0x1bb922(0x163)]+':\x20'+_0x43cbd8['error'],null,![]),_0x135deb(new Error(_0x43cbd8[_0x1bb922(0x1ae)]||_0x1bb922(0x1d7)));return;}else{log(_0x1bb922(0x164),_0x1bb922(0x178)+_0x486479[_0x1bb922(0x163)]+':\x20'+json(_0x43cbd8),null,'c','x'),log(_0x1bb922(0x164),'[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20'+_0x486479['name']+':\x20'+_0x43cbd8[_0x1bb922(0x1ae)],null,![]),_0x135deb(new Error(_0x43cbd8[_0x1bb922(0x1ae)]||_0x1bb922(0x1d7)));return;}}}catch(_0x46e097){log('main',_0x1bb922(0x1c1)+_0x486479[_0x1bb922(0x163)]+':\x20'+_0x46e097[_0x1bb922(0x173)],null,![]),xoaTimeout(_0x20e1dc),_0x135deb(_0x46e097);return;}},_0x59699a=new Promise(async(_0x5f393a,_0x1247f7)=>{const _0x399f8b=_0x5347a4;try{const _0x18ab7c=await _0x1b9448[_0x399f8b(0x171)]({'version0':version,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'task':_0x486479,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame,'tele_id':tele_id}),_0x5083c7=await _0x3133cb(_0x18ab7c);_0x5f393a(_0x5083c7);}catch(_0x2de8df){_0x1247f7(_0x2de8df);}}),_0x5ad5ca=await Promise[_0x5347a4(0x17b)]([_0x59699a]);log('main',_0x5347a4(0x1a3)+json(_0x5ad5ca),null,'w','@'),log('main',_0x5347a4(0x142),null,'w','-');_0x1b9448&&Thread[_0x5347a4(0x161)]in _0x1b9448?await Thread[_0x5347a4(0x161)](_0x1b9448):log(_0x5347a4(0x164),'[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:',null,![],'x');_0x329698(_0x5ad5ca);return;}catch(_0x17042c){log('main',_0x5347a4(0x181)+_0x17042c['message'],null,![]),_0x1b9448&&Thread[_0x5347a4(0x161)]in _0x1b9448?await Thread['terminate'](_0x1b9448):log(_0x5347a4(0x164),_0x5347a4(0x1c7),null,![],'x'),_0x135deb(_0x17042c);}});}async function updateTask(_0x2308c4,_0x52fb68){const _0x4dcc29=a0_0x2c7b78;if(!http||typeof http[_0x4dcc29(0x143)]!==_0x4dcc29(0x19c)){log('main',_0x4dcc29(0x129),null,![]);return;}return log('main',_0x4dcc29(0x159)+_0x2308c4+_0x4dcc29(0x1bb)+_0x52fb68[_0x4dcc29(0x165)]+'|'+_0x52fb68['nextRun'],null,'i'),await http['updateTask'](_0x4dcc29(0x164),_0x2308c4,_0x52fb68);}async function processProfile(_0x26e762){const _0x5273bc=a0_0x2c7b78;console[_0x5273bc(0x1b9)](_0x5273bc(0x164),_0x5273bc(0x1de)+_0x26e762['name']);const _0x3b8723=_0x26e762[_0x5273bc(0x16e)];for(const _0x4e0a84 of _0x3b8723){await gameQueue[_0x5273bc(0x13d)](()=>processGame(_0x4e0a84));}}async function getRunningTasks(_0x5d5b50,_0xa02fa7){const _0x2f6cbd=a0_0x2c7b78,_0x46acef=[];for(const [_0xc437cd,_0x364c31]of _0x5d5b50[_0x2f6cbd(0x153)]()){_0x364c31===_0x364c31&&_0x46acef[_0x2f6cbd(0x13c)](_0xc437cd);}return _0x46acef;}async function calScreenArr(_0x429830,_0x38c72c,_0x3b5996,_0x139a5e,_0x11d18c,_0x11b8f8=0x1){const _0x133877=a0_0x2c7b78,_0x417df4=0x0;let _0x54b72a=_0x429830,_0x40bff4=_0x38c72c,_0x3140a2,_0x36a581,_0x16b789=0x1;while(!![]){_0x36a581=Math['floor'](_0x3b5996/_0x54b72a),_0x3140a2=Math['ceil'](_0x11d18c/_0x36a581);if(_0x3140a2*_0x40bff4<=_0x139a5e)break;_0x16b789*=0.95,_0x54b72a=Math['floor'](_0x429830*_0x16b789),_0x40bff4=Math[_0x133877(0x1bf)](_0x38c72c*_0x16b789);}_0x54b72a=Math['floor'](_0x54b72a*1.26);const _0x1e403c=[];let _0x4cfeb7=0x0;for(let _0x3b9a02=0x0;_0x3b9a02<_0x11b8f8;_0x3b9a02++){const _0x3a813a=Math[_0x133877(0x187)](_0x16b789*0xf4240);Atomics[_0x133877(0x1d8)](screenData,0x0,_0x3b9a02),Atomics['store'](screenData,0x1,_0x3a813a),Atomics[_0x133877(0x1d8)](screenData,0x2,_0x429830),Atomics[_0x133877(0x1d8)](screenData,0x3,_0x38c72c),Atomics['store'](screenData,0x4,_0x54b72a),Atomics[_0x133877(0x1d8)](screenData,0x5,_0x40bff4);let _0x13f97c=0xa;for(let _0x54d010=0x0;_0x54d010<_0x3140a2;_0x54d010++){const _0x28a26f=[];for(let _0x27cac6=0x0;_0x27cac6<_0x36a581;_0x27cac6++){if(_0x4cfeb7>=_0x11d18c)break;const _0x4b8d93=Math[_0x133877(0x1bf)](_0x27cac6*_0x54b72a),_0x531159=Math[_0x133877(0x1bf)](_0x54d010*_0x40bff4);if(_0x4b8d93>_0x3b5996||_0x531159>_0x139a5e)continue;Atomics[_0x133877(0x1d8)](screenData,_0x13f97c++,0x2),Atomics[_0x133877(0x1d8)](screenData,_0x13f97c++,_0x4b8d93),Atomics['store'](screenData,_0x13f97c++,_0x531159),_0x4cfeb7++;}if(_0x4cfeb7>=_0x11d18c)break;}break;}return{'screenData':screenData,'scale':_0x16b789,'rows':_0x3140a2,'cols':_0x36a581,'total':_0x4cfeb7,'positions':_0x1e403c};}async function xoaTimeout(_0x277877){const _0x59e1ec=a0_0x2c7b78;try{clearTimeout(_0x277877),log('main','[xoaTimeout]main:\x20Xóa\x20timeout:'+_0x277877,null,'w','clrTimeout');}catch(_0x2675e0){log(_0x59e1ec(0x164),'[xoaTimeout]main:\x20'+_0x2675e0,null,![]);}}async function delay(_0x37638e){return new Promise(_0x366c21=>{setTimeout(_0x366c21,_0x37638e);});}async function eTimeout(_0x878dbf){const _0x2aae04=a0_0x2c7b78;return log('main',_0x2aae04(0x1be),null,'w'),Atomics[_0x2aae04(0x1d8)](tasksData,_0x878dbf,0x1),!![];}async function rstTimeout(_0x25e78e){const _0x58cecb=a0_0x2c7b78;return log(_0x58cecb(0x164),_0x58cecb(0x152),null,'w'),Atomics[_0x58cecb(0x191)](tasksData,_0x25e78e,0x1,0x2),!![];}async function closeGenlogin(){const _0x38606b=a0_0x2c7b78;try{log(_0x38606b(0x164),'Tự\x20động\x20tắt\x20genlogin',null,'w','-'),exec(_0x38606b(0x1c4),(_0x520afc,_0x4fd58e,_0x409e32)=>{const _0x4eacf9=_0x38606b;if(_0x520afc){log('main',_0x4eacf9(0x138)+_0x520afc[_0x4eacf9(0x173)],null,![]);return;}if(_0x409e32){log(_0x4eacf9(0x164),_0x4eacf9(0x19d)+_0x409e32,null,![]);return;}log(_0x4eacf9(0x164),'tắt\x20genlogin\x20ok');});}catch(_0x43d0f7){log(_0x38606b(0x164),_0x38606b(0x141)+_0x43d0f7,null,![]);}}async function checkUpdate(){const _0x5c8c0f=a0_0x2c7b78;try{const _0x550e01=_0x5c8c0f(0x14f),_0x4325e3=a0_0x5587da['join'](process[_0x5c8c0f(0x15e)](),_0x5c8c0f(0x155)),_0x5df0db=await a0_0x14e569[_0x5c8c0f(0x1ca)][_0x5c8c0f(0x1a9)](_0x4325e3,_0x5c8c0f(0x148)),_0xcdf18c=JSON['parse'](_0x5df0db),_0x4ae9b5=_0xcdf18c['version'];log('main',_0x5c8c0f(0x140)+_0x4ae9b5,null,'w','-');const _0x3b9d35=await http[_0x5c8c0f(0x16d)](_0x5c8c0f(0x164),_0x550e01);await delay(0x3e8);if(_0x3b9d35)try{const _0x166de4=typeof _0x3b9d35===_0x5c8c0f(0x17a)?JSON[_0x5c8c0f(0x199)](_0x3b9d35):_0x3b9d35,_0x4984fc=_0x166de4[_0x5c8c0f(0x1c8)];await delay(0x3e8),_0x4984fc!=_0x4ae9b5?(log('main',_0x5c8c0f(0x1ab)+_0x4984fc,null,'w'),tele_id&&tele_id[_0x5c8c0f(0x1a8)]&&await http[_0x5c8c0f(0x18d)]('main',tele_id[_0x5c8c0f(0x1a8)],_0x5c8c0f(0x127)+_0x4984fc)):log('main',_0x5c8c0f(0x167),null,'w');}catch(_0x52ff19){log(_0x5c8c0f(0x164),_0x5c8c0f(0x17f)+_0x52ff19[_0x5c8c0f(0x173)],null,![]);}return _0x4ae9b5;}catch(_0xda24c7){return log(_0x5c8c0f(0x164),'[checkUpdate]Lỗi\x20khi\x20đọc\x20file\x20package.json:\x20'+_0xda24c7,null,![]),null;}}async function checkDisk(){const _0xba7e40=a0_0x2c7b78;try{const _0x4f698e=await checkDiskSpace('C:');log(_0xba7e40(0x15f),_0xba7e40(0x1ac)+_0x4f698e[_0xba7e40(0x182)](0x2)+_0xba7e40(0x18e),null,'w','+'),_0x4f698e<=MIN_FREE_SPACE_MB&&(log(_0xba7e40(0x15f),_0xba7e40(0x14b),null,'w','+'),tele_id[_0xba7e40(0x1a8)]&&await http['tele'](_0xba7e40(0x15f),tele_id['tele_id'],_0xba7e40(0x1b2)+_0x4f698e[_0xba7e40(0x182)](0x2)+_0xba7e40(0x1c9)),process['exit']());}catch(_0x5846b0){log(_0xba7e40(0x15f),_0xba7e40(0x1b7)+_0x5846b0[_0xba7e40(0x173)],null,'w','+');}}function checkDiskSpace(_0x2147d1='C:'){return new Promise((_0xcf0f25,_0x4d42ed)=>{exec('wmic\x20logicaldisk\x20get\x20caption,freespace',(_0x3b980b,_0x303f73)=>{const _0x4da3e2=a0_0x460e;if(_0x3b980b){_0x4d42ed(_0x3b980b);return;}const _0x1e7119=_0x303f73['trim']()[_0x4da3e2(0x162)]('\x0a');for(const _0x21f409 of _0x1e7119){const _0x1662b1=_0x21f409[_0x4da3e2(0x13a)]()[_0x4da3e2(0x162)](/\s+/);if(_0x1662b1[0x0]===_0x2147d1){const _0x96b4ae=Math[_0x4da3e2(0x187)](parseInt(_0x1662b1[0x1],0xa)/0x400/0x400);_0xcf0f25(_0x96b4ae);return;}}_0x4d42ed(new Error(_0x4da3e2(0x1d0)));});});}function a0_0x30b3(){const _0x5c4c03=['[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20','852615jKFqpX','Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy','timeout','has','nextrunstamp','running','input','Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro','./workerBrowser.js','now','Task\x20phải\x20là\x20một\x20đối\x20tượng','nowTime','Lỗi:\x20','[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20','trim','[processTasks]:','push','add','Lỗi\x20while:\x20','[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý','[checkUpdate]Version:\x20','closeGenlogin:\x20','[createWorkerPromise]:\x20main\x20kết\x20thúc\x20worker','updateTask','Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20','nextrun','số\x20màn\x20hình:\x20','OK\x20rồi\x20man.\x20tắt\x20genlogin\x20đi\x20bro','utf-8','completed','Users','❌\x20Dung\x20lượng\x20trống\x20không\x20đủ!','value','\x20Lỗi\x20','object','https://raw.githubusercontent.com/resistor3300/longCTools/refs/heads/main/package.json','genProfiles','\x20treo\x20đang\x20chạy\x20từ\x20','[eTimeout]main:\x20reset\x20timeout','entries','from','package.json','[createWorkerPromise]:\x20','screenWidthHeight','176OAGTGO','[updateTask]:\x20update\x20task\x20','rss','substring','[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20','cwd','checkDisk','max','terminate','split','name','main','status','Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị','[checkUpdate]Bạn\x20đang\x20chạy\x20phiên\x20bản\x20mới\x20nhất','tự\x20động\x20sắp\x20xếp\x20vị\x20trí\x20hiển\x20thị\x20trình\x20duyệt\x20','400x900','catch',',\x20mỗi\x20cột:\x20','26547WxnaSD','httpGet','games','getTeleId','screenData','worker1','getAllProfiles','message','heapUsed','browserWidthHeight','Memory','api','[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20','size','string','race','cols','screens','tọa\x20độ\x20hiển\x20thị\x20trình\x20duyệt\x20','[checkUpdate]\x20Lỗi\x20parse\x20JSON:\x20','Chờ\x2060\x20giây','[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20','toFixed','[processTasks]:\x20task.nextrunstamp:\x20','\x20rồi\x20bro!','1380UYpUda','width','round','profileThreads','\x20MB,\x20RSS:\x20','chưa\x20có\x20task\x20mới','TA\x20ĐI\x20ĐÂY','Garbage\x20Collector\x20đã\x20chạy!','tele','\x20MB','taskMode','getAllProfiles.value\x20OK','compareExchange','Heap\x20Used:\x20','env','191631TdHeCo','url','Running\x20Task:','3577936QxsKCJ','pending','parse','Lỗi\x20chung:\x20','kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20','function','Stderr:\x20','maxTime','Không\x20thể\x20tạo\x20worker','[processTasks]:\x20Thêm\x20task\x20','Start\x20App:\x20','Bộ\x20nhớ\x20vượt\x20quá\x201GB!\x20Thu\x20hồi...','[createWorkerPromise]:\x20main\x20','[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','32818PbFtfu','1307640gikyIk','1920x1080','tele_id','readFile','[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20','[checkUpdate]Có\x20phiên\x20bản\x20mới:\x20','🟢\x20Dung\x20lượng\x20trống:\x20','scale','error','APIKEY','thư\x20mục\x20chứa\x20data\x20genlogin','[processTasks]:\x20Phát\x20Hiện\x20','Dung\x20lượng\x20trống\x20ổ\x20C:\x20không\x20đủ!\x20','./worker-api1.js','success','SERVER_HOST','set','❌\x20Lỗi\x20kiểm\x20tra\x20ổ\x20đĩa:\x20','timestamp','log','username','\x20with\x20data:\x20','height','APIKEY\x20not\x20found!','[eTimeout]main:\x20turn\x20on\x20timeout\x20flag','floor','Số\x20lượng\x20task\x20chạy\x20song\x20song','[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20','memoryUsage','Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ','taskkill\x20/IM\x20genLogin.exe\x20/F','29AeRwHN','0x0','[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:','version','\x20MB,\x20Ta\x20OUT\x20đây!','promises','[main]\x20Task\x20Status:\x20','.genlogin','map','[processTasks]:\x20screens:','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20','Drive\x20not\x20found','get','Tỷ\x20lệ\x20thu\x20nhỏ:\x20','Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro','length','\x20task\x20đang\x20chạy','Lỗi\x20App\x20genlogin\x20nhé\x20bro!','Lỗi\x20không\x20xác\x20định','store','50WEQrPk','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20','14JlcdYT','genDataProfiles','chờ\x2030\x20giây\x20rồi\x20thử\x20lại','Processing\x20profile:\x20','Đã\x20có\x20phiên\x20bản\x20mới:\x20','getListProfiles','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task','1117525hLRWcW'];a0_0x30b3=function(){return _0x5c4c03;};return a0_0x30b3();}async function logMemoryUsage(){const _0x591d53=a0_0x2c7b78,_0x1d07d2=process[_0x591d53(0x1c2)]();log('Memory',_0x591d53(0x192)+(_0x1d07d2[_0x591d53(0x174)]/0x400/0x400)['toFixed'](0x2)+_0x591d53(0x189)+(_0x1d07d2[_0x591d53(0x15a)]/0x400/0x400)[_0x591d53(0x182)](0x2)+_0x591d53(0x18e),null,'w','+'),_0x1d07d2[_0x591d53(0x15a)]>0x400*0x400*0x400*0x5&&(log('Memory',_0x591d53(0x1a2),null,'w','+'),global['gc']&&(global['gc'](),log(_0x591d53(0x176),_0x591d53(0x18c),null,'i','+')));}