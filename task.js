const a0_0x53c0a0=a0_0x48cc;(function(_0x31a233,_0xa6b0ed){const _0x53ddee=a0_0x48cc,_0x776eaa=_0x31a233();while(!![]){try{const _0xbf09bd=-parseInt(_0x53ddee(0x1a5))/0x1+-parseInt(_0x53ddee(0x10e))/0x2+-parseInt(_0x53ddee(0x175))/0x3+-parseInt(_0x53ddee(0x120))/0x4+parseInt(_0x53ddee(0x11b))/0x5*(parseInt(_0x53ddee(0x193))/0x6)+-parseInt(_0x53ddee(0x161))/0x7*(-parseInt(_0x53ddee(0x128))/0x8)+-parseInt(_0x53ddee(0x197))/0x9*(-parseInt(_0x53ddee(0x12f))/0xa);if(_0xbf09bd===_0xa6b0ed)break;else _0x776eaa['push'](_0x776eaa['shift']());}catch(_0x5ec5b2){_0x776eaa['push'](_0x776eaa['shift']());}}}(a0_0x3515,0xd492d));import'dotenv/config';import a0_0x32d47a from'os';import a0_0x2095e from'fs';import a0_0x3361c4 from'path';import{fileURLToPath}from'url';import a0_0x39736f from'./modules/Genlogin.js';import a0_0x58a08c from'./modules/http.js';import{log,json}from'./modules/logger.js';import a0_0x446aa0 from'node-machine-id';import{spawn,Thread,Worker}from'threads';import{exec}from'child_process';import a0_0x100e99 from'p-queue';const MIN_FREE_SPACE_MB=0x384;let tasksDataBuffer,tasksData,screenData,screenDataBuffer;const __filename=fileURLToPath(import.meta[a0_0x53c0a0(0x14a)]),__dirname=a0_0x3361c4[a0_0x53c0a0(0x136)](__filename),{machine_id,machineIdSync}=a0_0x446aa0,machineId=machineIdSync()[a0_0x53c0a0(0x187)](0x0,0x8),appName=a0_0x53c0a0(0x16f)+'-'+machineId,nameFile=a0_0x53c0a0(0x107)+'-'+machineId,genDataFile=a0_0x53c0a0(0x18a)+'-'+machineId,appSetings={'maxTaskThreads':{'type':a0_0x53c0a0(0x14d),'value':0x3,'note':a0_0x53c0a0(0x13d)},'screens':{'type':a0_0x53c0a0(0x14d),'value':0x1,'note':a0_0x53c0a0(0x133)},'screenWidthHeight':{'type':a0_0x53c0a0(0x14d),'value':'1920x1080','note':a0_0x53c0a0(0x15b)},'browserWidthHeight':{'type':a0_0x53c0a0(0x14d),'value':'400x900','note':a0_0x53c0a0(0x18b)},'autoSetBrowserPosition':{'type':a0_0x53c0a0(0x17e),'value':'y','note':'tự\x20động\x20sắp\x20xếp\x20vị\x20trí\x20hiển\x20thị\x20trình\x20duyệt\x20'},'customBrowserPosition':{'type':'input','value':a0_0x53c0a0(0x170),'note':a0_0x53c0a0(0xfa)},'genDataFolder':{'type':a0_0x53c0a0(0x14d),'value':a0_0x3361c4[a0_0x53c0a0(0x18d)]('C:',a0_0x53c0a0(0x196),a0_0x32d47a['userInfo']()[a0_0x53c0a0(0x144)],a0_0x53c0a0(0x100)),'note':'thư\x20mục\x20chứa\x20data\x20genlogin'}};let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,firstRun=!![],appStatus=0x0,tele_id,version,prevTime,prevTimeCkDisk;async function main(){const _0x5c8e33=a0_0x53c0a0;try{log(_0x5c8e33(0x1a0),_0x5c8e33(0x145)+appName,null,'w','='),await delay(0x3e8);if(!process['env'][_0x5c8e33(0x121)]){log(_0x5c8e33(0x1a0),_0x5c8e33(0x125),null,![]),log(_0x5c8e33(0x1a0),_0x5c8e33(0x192),null,'w'),log(_0x5c8e33(0x1a0),_0x5c8e33(0x105),null,'w'),log(_0x5c8e33(0x1a0),_0x5c8e33(0x189),null,'w'),log('main','TA\x20ĐI\x20ĐÂY',null,'w','=');return;}genlogin=new a0_0x39736f('',!![]),http=new a0_0x58a08c(process[_0x5c8e33(0x19a)]['SERVER_HOST'],process[_0x5c8e33(0x19a)][_0x5c8e33(0x121)],!![]),tele_id=await http['getTeleId'](_0x5c8e33(0x1a0)),version=await checkUpdate(),prevTime=Date[_0x5c8e33(0x153)](),prevTimeCkDisk=Date[_0x5c8e33(0x153)]();tele_id[_0x5c8e33(0x14f)]&&await http['tele']('main',tele_id[_0x5c8e33(0x14f)],'Start\x20App:\x20'+appName+'\x20nè\x20bro!');let _0x56043d,_0x2fefd1=0x1,_0x483e65=0x1,_0x29eaa7=0x0,_0x5d92a5;while(!![]){try{appStatus=0x1;if(_0x2fefd1){if(!_0x29eaa7){GenDataProfile=null;_0x483e65&&(_0x5d92a5=null,_0x5d92a5=await genlogin[_0x5c8e33(0x19c)]('main'));if(!_0x5d92a5||!_0x483e65){const _0x58894e=await http[_0x5c8e33(0x18a)](_0x5c8e33(0x1a0),genDataFile);!_0x58894e[_0x5c8e33(0xf6)]?(log(_0x5c8e33(0x1a0),_0x5c8e33(0x130),null,'w'),log('main',_0x5c8e33(0x101),null,'w'),log('main',''+_0x58894e['error'],null,![]),log('main',_0x5c8e33(0x102),null,'i'),tele_id&&tele_id[_0x5c8e33(0x14f)]&&await http[_0x5c8e33(0x19d)](_0x5c8e33(0x1a0),tele_id[_0x5c8e33(0x14f)],'Lỗi\x20App\x20genlogin\x20nhé\x20bro!')):GenDataProfile=_0x58894e[_0x5c8e33(0xf6)];}else{GenDataProfile=await _0x5d92a5[_0x5c8e33(0x141)],await http[_0x5c8e33(0x18a)]('main',genDataFile,GenDataProfile),_0x483e65=0x0;continue;}}if(await genlogin[_0x5c8e33(0x19c)](_0x5c8e33(0x1a0))){log('main',_0x5c8e33(0x1a7),null,'w'),_0x29eaa7=0x1,await closeGenlogin(),await delay(0xbb8);continue;}_0x2fefd1=0x0;}await delay(0x3e8),getAllProfiles=await http[_0x5c8e33(0x151)]('main',appName,nameFile,GenDataProfile,appSetings);if(!getAllProfiles[_0x5c8e33(0xf6)]||!getAllProfiles||getAllProfiles[_0x5c8e33(0xf6)][_0x5c8e33(0x13f)]<=0x0){log(_0x5c8e33(0x1a0),_0x5c8e33(0x16e),null,![]),log(_0x5c8e33(0x1a0),_0x5c8e33(0x102),null,'i');throw new Error('No\x20task\x20found');}log('main',_0x5c8e33(0x155));const _0x4e0ff4=Object[_0x5c8e33(0x17f)](getAllProfiles['value']);maxTask=parseInt(getAllProfiles[_0x5c8e33(0x198)]);const _0x38a347=await processTasks(_0x4e0ff4);if(taskQueue[_0x5c8e33(0x15d)]>0x0){const _0x75ca05=await getRunningTasks(taskStatus,_0x5c8e33(0x138));log(_0x5c8e33(0x1a0),taskQueue[_0x5c8e33(0x14c)]+_0x5c8e33(0x160),null,'w'),log(_0x5c8e33(0x1a0),taskQueue[_0x5c8e33(0x15d)]+_0x5c8e33(0x114),null,'w'),log(_0x5c8e33(0x1a0),_0x5c8e33(0x164)+_0x75ca05,null,'w');}else!_0x38a347&&log(_0x5c8e33(0x1a0),_0x5c8e33(0xfb),null,'w');log('main',_0x5c8e33(0x149)+Array[_0x5c8e33(0x174)](taskStatus[_0x5c8e33(0x17f)]()),null,'c'),log(_0x5c8e33(0x1a0),_0x5c8e33(0x15a),null,'i'),Date[_0x5c8e33(0x153)]()-prevTime>=0x5265c00&&(prevTime=Date[_0x5c8e33(0x153)](),checkUpdate()),Date[_0x5c8e33(0x153)]()-prevTimeCkDisk>=0x493e0&&(prevTimeCkDisk=Date[_0x5c8e33(0x153)](),checkDisk()),logMemoryUsage(),getAllProfiles=null,await delay(0x7530);}catch(_0x51c535){log(_0x5c8e33(0x1a0),_0x5c8e33(0x156)+_0x51c535,null,![]),log(_0x5c8e33(0x1a0),_0x5c8e33(0x13c),null,'i'),tele_id&&tele_id[_0x5c8e33(0x14f)]&&await http[_0x5c8e33(0x19d)]('main',tele_id[_0x5c8e33(0x14f)],appName+_0x5c8e33(0x1a1)+_0x51c535+_0x5c8e33(0x11f)),await delay(0x7530);}}}catch(_0x2eff8c){log(_0x5c8e33(0x1a0),'Lỗi\x20chung:\x20'+_0x2eff8c,null,![]),appStatus=0x0;}}main()[a0_0x53c0a0(0x18f)](console['error']);async function processTasks(_0xf524aa){const _0x56820f=a0_0x53c0a0;try{if(firstRun){log(_0x56820f(0x1a0),_0x56820f(0x143),null,'c','*'),taskQueue=new a0_0x100e99({'concurrency':maxTask}),tasksDataBuffer=new SharedArrayBuffer(_0xf524aa['length']*0x4),tasksData=new Int32Array(tasksDataBuffer);for(var _0x4d0816=0x0;_0x4d0816<tasksData[_0x56820f(0x13f)];_0x4d0816++){Atomics[_0x56820f(0x116)](tasksData,_0x4d0816,0x2);}firstRun=![],taskStatus=new Map();let _0x36901e=0x0;for(const [_0xbc17b2,_0x3ef2a6]of _0xf524aa){_0xbc17b2<parseInt(getAllProfiles[_0x56820f(0x198)])&&(_0x36901e+=parseInt(_0x3ef2a6[_0x56820f(0x13b)]));}screenDataBuffer=new SharedArrayBuffer((parseInt(_0x36901e)*0x3+0xd)*0x4),screenData=new Int32Array(screenDataBuffer);let _0x2a8768=[];for(let _0x3cd71f=0x0;_0x3cd71f<parseInt(getAllProfiles[_0x56820f(0x13e)]);_0x3cd71f++){const _0x4d629a=getAllProfiles['screenWidthHeight'][_0x56820f(0x19b)]('x');_0x2a8768[_0x56820f(0x12e)]({'width':parseInt(_0x4d629a[0x0]),'height':parseInt(_0x4d629a[0x1])});}const _0x27e9e2=getAllProfiles[_0x56820f(0x16c)][_0x56820f(0x19b)]('x'),_0x1d1f47=parseInt(_0x27e9e2[0x0]),_0x815dd5=parseInt(_0x27e9e2[0x1]),_0x257de2=_0x36901e,_0x12592f=_0x2a8768[_0x56820f(0x14e)]((_0x103cb6,_0x28e61a)=>_0x103cb6+_0x28e61a[_0x56820f(0x188)],0x0),_0x10d503=Math[_0x56820f(0x169)](..._0x2a8768[_0x56820f(0x148)](_0x402ec8=>_0x402ec8[_0x56820f(0x1a3)])),_0x5376a5=await calScreenArr(_0x1d1f47,_0x815dd5,_0x12592f,_0x10d503,_0x36901e);screenData=_0x5376a5[_0x56820f(0x132)],log(_0x56820f(0x1a0),_0x56820f(0x199)+getAllProfiles[_0x56820f(0x13e)],null,'w'),log('main','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20'+_0x12592f+'x'+_0x10d503,null,'w'),log(_0x56820f(0x1a0),_0x56820f(0x112)+_0x5376a5[_0x56820f(0xf5)]+_0x56820f(0x150)+_0x5376a5[_0x56820f(0x167)],null,'w'),log(_0x56820f(0x1a0),_0x56820f(0x142)+_0x5376a5[_0x56820f(0x176)],null,'w'),log(_0x56820f(0x1a0),_0x56820f(0x185)+getAllProfiles[_0x56820f(0x13e)]+_0x56820f(0x178)+getAllProfiles[_0x56820f(0x158)],null,'w'),await delay(0x3e8);}const _0x212647=[];for(const [_0xe6cc1c,_0x104b92]of _0xf524aa){_0x104b92[_0x56820f(0x181)]=_0xe6cc1c;const _0x287d19=await genlogin[_0x56820f(0x104)](_0x56820f(0x1a0));log(_0x56820f(0x1a0),_0x56820f(0x10f)+_0x287d19[_0x56820f(0x10c)],null,'i'),log('main','[processTasks]:\x20task.nextrunstamp:\x20'+_0x104b92['nextrunstamp'],null,'i'),log(_0x56820f(0x1a0),_0x56820f(0x10d)+_0x104b92['status'],null,'i'),log('main',_0x56820f(0x15f)+_0x287d19[_0x56820f(0x10c)]+'|'+(parseInt(_0x104b92[_0x56820f(0x172)])+parseInt(_0x104b92[_0x56820f(0xff)]))+'|'+parseInt(_0x104b92[_0x56820f(0x135)]),null,'w');if(_0x287d19[_0x56820f(0x10c)]>=_0x104b92[_0x56820f(0x172)]&&parseInt(_0x104b92[_0x56820f(0x135)])===0x0){log('main',_0x56820f(0x11e)+_0x104b92['name']+'\x20vào\x20hàng\x20đợi',null,'i'),taskStatus['set'](_0x104b92[_0x56820f(0x190)],_0x56820f(0x15d));const _0x4b882c=await updateTask(_0x104b92[_0x56820f(0x190)],{'status':0x1,'nextRun':0x1});_0x212647[_0x56820f(0x12e)](taskQueue[_0x56820f(0x10b)](()=>processTask(_0x104b92))),taskStatus['set'](_0x104b92['name'],_0x56820f(0x138)),await delay(0x7d0);}else{if(_0x287d19[_0x56820f(0x10c)]>parseInt(_0x104b92[_0x56820f(0x172)])+parseInt(_0x104b92[_0x56820f(0xff)])&&parseInt(_0x104b92[_0x56820f(0x135)])===0x1&&(taskStatus['get'](_0x104b92[_0x56820f(0x190)])===_0x56820f(0x154)||!taskStatus[_0x56820f(0x168)](_0x104b92['name']))){log('main','[processTasks]:\x20Phát\x20Hiện\x20'+_0x104b92['name']+_0x56820f(0x12c)+_0x104b92[_0x56820f(0x180)],null,'w','*');const _0x47e245=await updateTask(_0x104b92[_0x56820f(0x190)],{'status':0x0,'nextRun':0x1});log(_0x56820f(0x1a0),_0x56820f(0x15e)+_0x104b92[_0x56820f(0x190)],null,'i','*');}}}return _0x212647[_0x56820f(0x13f)]>0x0?!![]:(log(_0x56820f(0x1a0),'[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý',null,'w'),null);}catch(_0x5a937f){return log(_0x56820f(0x1a0),_0x56820f(0x1a9)+_0x5a937f,null,![]),null;}}async function processTask(_0x2630a2){const _0x5e811f=a0_0x53c0a0;try{log(_0x5e811f(0x1a0),_0x5e811f(0x162)+_0x2630a2[_0x5e811f(0x190)],null,'i','=');if(!_0x2630a2||typeof _0x2630a2!==_0x5e811f(0x1aa))throw new Error(_0x5e811f(0x191));const _0x2c06ac=createWorkerPromise(_0x2630a2),_0x37c06c=await _0x2c06ac;log(_0x5e811f(0x1a0),_0x5e811f(0x16d)+_0x2630a2[_0x5e811f(0x190)],null,'w','DT');const _0x48e5ad=await updateTask(_0x2630a2[_0x5e811f(0x190)],{'status':0x0,'nextRun':0x1});return taskStatus[_0x5e811f(0xf8)](_0x2630a2[_0x5e811f(0x190)],'completed'),await delay(0x1388),_0x37c06c;}catch(_0x267000){return log('main',_0x5e811f(0x183)+_0x267000,null,![]),await updateTask(_0x2630a2['name'],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x4906a3){const _0x39dd11=a0_0x53c0a0;return log(_0x39dd11(0x1a0),_0x39dd11(0x11c)+_0x4906a3[_0x39dd11(0x190)],null,'i','-'),new Promise(async(_0x5c82ed,_0x128595)=>{const _0x2e40df=_0x39dd11;let _0x34d981;try{if(!_0x4906a3||typeof _0x4906a3!==_0x2e40df(0x1aa))return _0x128595(new Error('Task\x20phải\x20là\x20một\x20đối\x20tượng'));const _0x4328a8=_0x4906a3[_0x2e40df(0x16b)]===_0x2e40df(0x182)?_0x2e40df(0x173):_0x2e40df(0x18e);_0x34d981=await spawn(new Worker(_0x4328a8)),log(_0x2e40df(0x1a0),_0x2e40df(0x159)+_0x4328a8,null,'i');if(!_0x34d981)return _0x128595(new Error(_0x2e40df(0x171)));const _0x1989db=parseInt(_0x4906a3[_0x2e40df(0xff)])*0x3e8;if(isNaN(_0x1989db))return _0x128595(new Error(_0x2e40df(0x110)));const _0x5e8365=setTimeout(async()=>{const _0x1e8c3e=_0x2e40df;log(_0x1e8c3e(0x1a0),_0x1e8c3e(0x12a)+_0x4906a3[_0x1e8c3e(0x190)],null,'w','timeout'),await eTimeout(_0x4906a3[_0x1e8c3e(0x181)]),xoaTimeout(_0x5e8365),await _0x34d981[_0x1e8c3e(0x152)]({'timeout':!![],'task':_0x4906a3,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'tele_id':tele_id});},_0x1989db);log(_0x2e40df(0x1a0),'[createWorkerPromise]:\x20'+_0x4906a3[_0x2e40df(0x190)]+'\x20set\x20timeout:\x20'+_0x1989db+_0x2e40df(0x13a)+_0x5e8365,null,'w');const _0xe1051=async _0x2fec86=>{const _0x547b4b=_0x2e40df;try{if(_0x2fec86[_0x547b4b(0xf7)]){log(_0x547b4b(0x1a0),_0x547b4b(0x177)+_0x4906a3[_0x547b4b(0x190)],null,'i'),xoaTimeout(_0x5e8365),_0x5c82ed(!![]);return;}else{if(!_0x2fec86[_0x547b4b(0xf7)]){log('main',_0x547b4b(0x129)+_0x4906a3[_0x547b4b(0x190)]+':\x20'+_0x2fec86[_0x547b4b(0x1a4)],null,![]),_0x128595(new Error(_0x2fec86[_0x547b4b(0x1a4)]||'Lỗi\x20không\x20xác\x20định'));return;}else{log(_0x547b4b(0x1a0),_0x547b4b(0x1a2)+_0x4906a3[_0x547b4b(0x190)]+':\x20'+json(_0x2fec86),null,'c','x'),log(_0x547b4b(0x1a0),_0x547b4b(0x157)+_0x4906a3[_0x547b4b(0x190)]+':\x20'+_0x2fec86[_0x547b4b(0x1a4)],null,![]),_0x128595(new Error(_0x2fec86[_0x547b4b(0x1a4)]||_0x547b4b(0xfc)));return;}}}catch(_0x2f8d4a){log(_0x547b4b(0x1a0),'[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20'+_0x4906a3[_0x547b4b(0x190)]+':\x20'+_0x2f8d4a[_0x547b4b(0x17d)],null,![]),xoaTimeout(_0x5e8365),_0x128595(_0x2f8d4a);return;}},_0x5449da=new Promise(async(_0x45923d,_0x51f35c)=>{const _0x117b3e=_0x2e40df;try{const _0x407436=await _0x34d981[_0x117b3e(0x152)]({'version0':version,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'task':_0x4906a3,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame,'tele_id':tele_id}),_0x4d89b4=await _0xe1051(_0x407436);_0x45923d(_0x4d89b4);}catch(_0x4ad20f){_0x51f35c(_0x4ad20f);}}),_0x401750=await Promise[_0x2e40df(0x126)]([_0x5449da]);log(_0x2e40df(0x1a0),_0x2e40df(0x113)+json(_0x401750),null,'w','@'),log('main','[createWorkerPromise]:\x20main\x20kết\x20thúc\x20worker',null,'w','-');_0x34d981&&Thread[_0x2e40df(0x17b)]in _0x34d981?await Thread['terminate'](_0x34d981):log(_0x2e40df(0x1a0),'[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:',null,![],'x');_0x5c82ed(_0x401750);return;}catch(_0x26598f){log(_0x2e40df(0x1a0),_0x2e40df(0x12b)+_0x26598f[_0x2e40df(0x17d)],null,![]),_0x34d981&&Thread['terminate']in _0x34d981?await Thread['terminate'](_0x34d981):log(_0x2e40df(0x1a0),_0x2e40df(0x179),null,![],'x'),_0x128595(_0x26598f);}});}async function updateTask(_0xe85765,_0x363a78){const _0x3f3682=a0_0x53c0a0;if(!http||typeof http[_0x3f3682(0x1a6)]!=='function'){log(_0x3f3682(0x1a0),_0x3f3682(0x15c),null,![]);return;}return log(_0x3f3682(0x1a0),_0x3f3682(0x165)+_0xe85765+_0x3f3682(0x111)+_0x363a78[_0x3f3682(0x135)]+'|'+_0x363a78['nextRun'],null,'i'),await http['updateTask']('main',_0xe85765,_0x363a78);}async function processProfile(_0x2a26c5){const _0x91b802=a0_0x53c0a0;console[_0x91b802(0x10a)](_0x91b802(0x1a0),'Processing\x20profile:\x20'+_0x2a26c5[_0x91b802(0x190)]);const _0x132c3c=_0x2a26c5[_0x91b802(0x195)];for(const _0x127c2a of _0x132c3c){await gameQueue[_0x91b802(0x10b)](()=>processGame(_0x127c2a));}}async function getRunningTasks(_0x3b66f5,_0x453bb4){const _0x55892b=a0_0x53c0a0,_0x4046fc=[];for(const [_0x1a1a59,_0x7e4d74]of _0x3b66f5[_0x55892b(0x17f)]()){_0x7e4d74===_0x7e4d74&&_0x4046fc['push'](_0x1a1a59);}return _0x4046fc;}function a0_0x48cc(_0x4bde79,_0x4a94d0){const _0x351521=a0_0x3515();return a0_0x48cc=function(_0x48cced,_0x7ff54b){_0x48cced=_0x48cced-0xf5;let _0x46e3ee=_0x351521[_0x48cced];return _0x46e3ee;},a0_0x48cc(_0x4bde79,_0x4a94d0);}async function calScreenArr(_0x49af1a,_0x1b5a87,_0x2e8d9c,_0x441665,_0x325702,_0x512783=0x1){const _0xe034b8=a0_0x53c0a0,_0x1ff6e2=0x0;let _0x41e1cd=_0x49af1a,_0x281377=_0x1b5a87,_0x366119,_0x1e3765,_0x5d9b34=0x1;while(!![]){_0x1e3765=Math[_0xe034b8(0x186)](_0x2e8d9c/_0x41e1cd),_0x366119=Math['ceil'](_0x325702/_0x1e3765);if(_0x366119*_0x281377<=_0x441665)break;_0x5d9b34*=0.95,_0x41e1cd=Math['floor'](_0x49af1a*_0x5d9b34),_0x281377=Math['floor'](_0x1b5a87*_0x5d9b34);}_0x41e1cd=Math[_0xe034b8(0x186)](_0x41e1cd*1.26);const _0x13c499=[];let _0x4054bb=0x0;for(let _0x1c6924=0x0;_0x1c6924<_0x512783;_0x1c6924++){const _0x1b5dc4=Math[_0xe034b8(0x163)](_0x5d9b34*0xf4240);Atomics[_0xe034b8(0x116)](screenData,0x0,_0x1c6924),Atomics[_0xe034b8(0x116)](screenData,0x1,_0x1b5dc4),Atomics[_0xe034b8(0x116)](screenData,0x2,_0x49af1a),Atomics[_0xe034b8(0x116)](screenData,0x3,_0x1b5a87),Atomics[_0xe034b8(0x116)](screenData,0x4,_0x41e1cd),Atomics[_0xe034b8(0x116)](screenData,0x5,_0x281377);let _0x7876ce=0xa;for(let _0x3069c0=0x0;_0x3069c0<_0x366119;_0x3069c0++){const _0x573b2d=[];for(let _0x6a788b=0x0;_0x6a788b<_0x1e3765;_0x6a788b++){if(_0x4054bb>=_0x325702)break;const _0x419789=Math[_0xe034b8(0x186)](_0x6a788b*_0x41e1cd),_0x437090=Math[_0xe034b8(0x186)](_0x3069c0*_0x281377);if(_0x419789>_0x2e8d9c||_0x437090>_0x441665)continue;Atomics[_0xe034b8(0x116)](screenData,_0x7876ce++,0x2),Atomics[_0xe034b8(0x116)](screenData,_0x7876ce++,_0x419789),Atomics[_0xe034b8(0x116)](screenData,_0x7876ce++,_0x437090),_0x4054bb++;}if(_0x4054bb>=_0x325702)break;}break;}return{'screenData':screenData,'scale':_0x5d9b34,'rows':_0x366119,'cols':_0x1e3765,'total':_0x4054bb,'positions':_0x13c499};}async function xoaTimeout(_0x25bdec){const _0x1c1d32=a0_0x53c0a0;try{clearTimeout(_0x25bdec),log(_0x1c1d32(0x1a0),_0x1c1d32(0xfe)+_0x25bdec,null,'w',_0x1c1d32(0x137));}catch(_0x591130){log('main',_0x1c1d32(0x115)+_0x591130,null,![]);}}async function delay(_0x126547){return new Promise(_0x3d9603=>{setTimeout(_0x3d9603,_0x126547);});}async function eTimeout(_0x5bfd1c){const _0x512a0b=a0_0x53c0a0;return log('main',_0x512a0b(0x12d),null,'w'),Atomics['store'](tasksData,_0x5bfd1c,0x1),!![];}async function rstTimeout(_0x389137){const _0x5661b1=a0_0x53c0a0;return log('main',_0x5661b1(0x17c),null,'w'),Atomics[_0x5661b1(0x1a8)](tasksData,_0x389137,0x1,0x2),!![];}async function closeGenlogin(){const _0x594e5f=a0_0x53c0a0;try{log(_0x594e5f(0x1a0),_0x594e5f(0x16a),null,'w','-'),exec('taskkill\x20/IM\x20genLogin.exe\x20/F',(_0x4c0343,_0x5c56cc,_0x67b9f4)=>{const _0x139b5b=_0x594e5f;if(_0x4c0343){log(_0x139b5b(0x1a0),_0x139b5b(0x139)+_0x4c0343[_0x139b5b(0x17d)],null,![]);return;}if(_0x67b9f4){log(_0x139b5b(0x1a0),_0x139b5b(0x131)+_0x67b9f4,null,![]);return;}log(_0x139b5b(0x1a0),_0x139b5b(0x146));});}catch(_0x24d176){log(_0x594e5f(0x1a0),_0x594e5f(0x124)+_0x24d176,null,![]);}}async function checkUpdate(){const _0x592a79=a0_0x53c0a0;try{const _0x1449b7='https://raw.githubusercontent.com/resistor3300/longCTools/refs/heads/main/package.json',_0x4871a4=a0_0x3361c4[_0x592a79(0x18d)](process[_0x592a79(0x11a)](),_0x592a79(0x123)),_0x5a9539=await a0_0x2095e[_0x592a79(0x11d)][_0x592a79(0x118)](_0x4871a4,_0x592a79(0x108)),_0x53d44b=JSON['parse'](_0x5a9539),_0x27fc9f=_0x53d44b[_0x592a79(0x117)];log(_0x592a79(0x1a0),_0x592a79(0xfd)+_0x27fc9f,null,'w','-');const _0x3b66bc=await http[_0x592a79(0x106)](_0x592a79(0x1a0),_0x1449b7);await delay(0x3e8);if(_0x3b66bc)try{const _0x4847df=typeof _0x3b66bc==='string'?JSON[_0x592a79(0x19e)](_0x3b66bc):_0x3b66bc,_0xe8c68d=_0x4847df['version'];await delay(0x3e8),_0xe8c68d!=_0x27fc9f?(log('main','[checkUpdate]Có\x20phiên\x20bản\x20mới:\x20'+_0xe8c68d,null,'w'),tele_id&&tele_id[_0x592a79(0x14f)]&&await http[_0x592a79(0x19d)]('main',tele_id[_0x592a79(0x14f)],_0x592a79(0x184)+_0xe8c68d)):log('main','[checkUpdate]Bạn\x20đang\x20chạy\x20phiên\x20bản\x20mới\x20nhất',null,'w');}catch(_0x3e0c79){log(_0x592a79(0x1a0),_0x592a79(0xf9)+_0x3e0c79[_0x592a79(0x17d)],null,![]);}return _0x27fc9f;}catch(_0x28d793){return log(_0x592a79(0x1a0),_0x592a79(0x17a)+_0x28d793,null,![]),null;}}async function checkDisk(){const _0x52db98=a0_0x53c0a0;try{const _0x305c62=await checkDiskSpace('C:');log(_0x52db98(0x19f),_0x52db98(0x119)+_0x305c62[_0x52db98(0x147)](0x2)+_0x52db98(0x134),null,'w','+'),_0x305c62<=MIN_FREE_SPACE_MB&&process['exit']();}catch(_0x548bfc){log(_0x52db98(0x19f),_0x52db98(0x140)+_0x548bfc[_0x52db98(0x17d)],null,'w','+');}}function a0_0x3515(){const _0x194870=['package.json','closeGenlogin:\x20','APIKEY\x20not\x20found!','race','\x20MB,/1GB!:\x20Thu\x20hồi\x20nhanh\x20còn\x20kịp','41432JmsWaL','[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20','[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20','[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20','\x20treo\x20đang\x20chạy\x20từ\x20','[eTimeout]main:\x20turn\x20on\x20timeout\x20flag','push','10iRBtum','Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro','Stderr:\x20','screenData','Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị','\x20MB','status','dirname','clrTimeout','running','Lỗi:\x20','\x20Timeout\x20ID:\x20','profileThreads','Chờ\x2060\x20giây','Số\x20lượng\x20task\x20chạy\x20song\x20song','screens','length','❌\x20Lỗi\x20kiểm\x20tra\x20ổ\x20đĩa:\x20','profiles','Tỷ\x20lệ\x20thu\x20nhỏ:\x20','[processTasks]:\x20FirstRun','username','Start\x20App:\x20','tắt\x20genlogin\x20ok','toFixed','map','[main]\x20Task\x20Status:\x20','url','heapUsed','size','input','reduce','tele_id',',\x20mỗi\x20cột:\x20','getAllProfiles','worker1','now','completed','getAllProfiles.value\x20OK','Lỗi\x20while:\x20','[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20','screenWidthHeight','[createWorkerPromise]:\x20','Kiểm\x20tra\x20task\x20sau\x2060\x20giây','độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task','pending','[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20','[processTasks]:','\x20task\x20trong\x20hàng\x20đợi','2023BZGKTv','[processTask]:\x20Xử\x20lý\x20task:\x20','round','Running\x20Task:','[updateTask]:\x20update\x20task\x20','Memory','cols','has','max','Tự\x20động\x20tắt\x20genlogin','taskMode','browserWidthHeight','[processTask]:\x20DONE\x20TASK\x20','Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy','LongCAutoAirdrop','0x0','Không\x20thể\x20tạo\x20worker','nextrunstamp','./worker-api1.js','from','189402XnVTdq','scale','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20','|screenWidthHeight:','[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:','[checkUpdate]Lỗi\x20khi\x20đọc\x20file\x20package.json:\x20','terminate','[eTimeout]main:\x20reset\x20timeout','message','checkbox','entries','nextrun','taskIndex','api','[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','Đã\x20có\x20phiên\x20bản\x20mới:\x20','[processTasks]:\x20screens:','floor','substring','width','BYE\x20BYE','genDataProfiles','kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20','\x20MB,\x20RSS:\x20','join','./workerBrowser.js','catch','name','Task\x20phải\x20là\x20một\x20đối\x20tượng','Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro','1095522zMBQva','wmic\x20logicaldisk\x20get\x20caption,freespace','games','Users','13886604rmnrUT','maxTask','số\x20màn\x20hình:\x20','env','split','getListProfiles','tele','parse','checkDisk','main','\x20Lỗi\x20','[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20','height','error','351179bLDMen','updateTask','OK\x20rồi\x20man.\x20tắt\x20genlogin\x20đi\x20bro','compareExchange','[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','object','rows','value','success','set','[checkUpdate]\x20Lỗi\x20parse\x20JSON:\x20','tọa\x20độ\x20hiển\x20thị\x20trình\x20duyệt\x20','chưa\x20có\x20task\x20mới','Lỗi\x20không\x20xác\x20định','[checkUpdate]Version:\x20','[xoaTimeout]main:\x20Xóa\x20timeout:','maxTime','.genlogin','Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro','chờ\x2030\x20giây\x20rồi\x20thử\x20lại','rss','nowTime','Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro','httpGet','genProfiles','utf-8','trim','log','add','timestamp','[processTasks]:\x20task.status:\x20','2876896feXGvj','[processTasks]:\x20currentTime.timestamp:\x20','Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ','\x20with\x20data:\x20','Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20','[createWorkerPromise]:\x20main\x20','\x20task\x20đang\x20chạy','[xoaTimeout]main:\x20','store','version','readFile','🟢\x20Dung\x20lượng\x20trống:\x20','cwd','10ONNQso','[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20','promises','[processTasks]:\x20Thêm\x20task\x20','\x20rồi\x20bro!','2725596UCKJWm','APIKEY','Bộ\x20nhớ\x20vượt\x20quá\x20Heap\x20Used:\x20'];a0_0x3515=function(){return _0x194870;};return a0_0x3515();}function checkDiskSpace(_0x5e3595='C:'){return new Promise((_0x581cc4,_0x5665ae)=>{const _0x3e3e53=a0_0x48cc;exec(_0x3e3e53(0x194),(_0x5ca3b9,_0x2ce7ac)=>{const _0x48a403=_0x3e3e53;if(_0x5ca3b9){_0x5665ae(_0x5ca3b9);return;}const _0x3d3fa3=_0x2ce7ac['trim']()[_0x48a403(0x19b)]('\x0a');for(const _0x5b5018 of _0x3d3fa3){const _0x369b42=_0x5b5018[_0x48a403(0x109)]()[_0x48a403(0x19b)](/\s+/);if(_0x369b42[0x0]===_0x5e3595){const _0x2e5c2b=Math[_0x48a403(0x163)](parseInt(_0x369b42[0x1],0xa)/0x400/0x400);_0x581cc4(_0x2e5c2b);return;}}_0x5665ae(new Error('Drive\x20not\x20found'));});});}async function logMemoryUsage(){const _0x3299bd=a0_0x53c0a0,_0x67de3=process['memoryUsage']();log(_0x3299bd(0x166),'Heap\x20Used:\x20'+(_0x67de3[_0x3299bd(0x14b)]/0x400/0x400)[_0x3299bd(0x147)](0x2)+_0x3299bd(0x18c)+(_0x67de3[_0x3299bd(0x103)]/0x400/0x400)['toFixed'](0x2)+_0x3299bd(0x134),null,'w','+'),_0x67de3[_0x3299bd(0x103)]>0x400*0x400*0x400*0x5&&(tele_id[_0x3299bd(0x14f)]&&await http[_0x3299bd(0x19d)](_0x3299bd(0x166),tele_id[_0x3299bd(0x14f)],_0x3299bd(0x122)+(_0x67de3[_0x3299bd(0x14b)]/0x400/0x400)[_0x3299bd(0x147)](0x2)+_0x3299bd(0x127)),log(_0x3299bd(0x166),'Bộ\x20nhớ\x20vượt\x20quá\x201GB!\x20Thu\x20hồi...',null,'w','+'),global['gc']&&(global['gc'](),log(_0x3299bd(0x166),'Garbage\x20Collector\x20đã\x20chạy!',null,'i','+')));}