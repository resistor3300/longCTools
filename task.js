const a0_0x2b73e9=a0_0x4037;(function(_0x5cd2d0,_0x41a1a9){const _0x3b41ca=a0_0x4037,_0x36f038=_0x5cd2d0();while(!![]){try{const _0x57954f=-parseInt(_0x3b41ca(0x101))/0x1+-parseInt(_0x3b41ca(0xe1))/0x2+parseInt(_0x3b41ca(0x133))/0x3+parseInt(_0x3b41ca(0x147))/0x4+-parseInt(_0x3b41ca(0x114))/0x5+parseInt(_0x3b41ca(0xbd))/0x6*(-parseInt(_0x3b41ca(0xf5))/0x7)+parseInt(_0x3b41ca(0x149))/0x8;if(_0x57954f===_0x41a1a9)break;else _0x36f038['push'](_0x36f038['shift']());}catch(_0x1ca57a){_0x36f038['push'](_0x36f038['shift']());}}}(a0_0x2013,0x6b6e2));import'dotenv/config';import a0_0x3d51d5 from'os';import a0_0xcfc9eb from'fs';import a0_0x3f8179 from'path';import{fileURLToPath}from'url';import a0_0xb15680 from'./modules/Genlogin.js';import a0_0x36f5b0 from'./modules/http.js';import{log,json}from'./modules/logger.js';import a0_0x1f32ce from'node-machine-id';import{spawn,Thread,Worker}from'threads';import{exec}from'child_process';import a0_0x143d00 from'p-queue';function a0_0x4037(_0xa05d5b,_0x25c80d){const _0x2013e7=a0_0x2013();return a0_0x4037=function(_0x403700,_0x3cba45){_0x403700=_0x403700-0xaa;let _0x10437c=_0x2013e7[_0x403700];return _0x10437c;},a0_0x4037(_0xa05d5b,_0x25c80d);}const MIN_FREE_SPACE_MB=0x384;let tasksDataBuffer,tasksData,screenData,screenDataBuffer;const __filename=fileURLToPath(import.meta[a0_0x2b73e9(0xe8)]),__dirname=a0_0x3f8179['dirname'](__filename),{machine_id,machineIdSync}=a0_0x1f32ce,machineId=machineIdSync()[a0_0x2b73e9(0xbb)](0x0,0x8),appName=a0_0x2b73e9(0x123)+'-'+machineId,nameFile=a0_0x2b73e9(0x103)+'-'+machineId,genDataFile=a0_0x2b73e9(0xd0)+'-'+machineId,appSetings={'maxTaskThreads':{'type':a0_0x2b73e9(0x14a),'value':0x3,'note':a0_0x2b73e9(0xad)},'screens':{'type':a0_0x2b73e9(0x14a),'value':0x1,'note':a0_0x2b73e9(0x136)},'screenWidthHeight':{'type':'input','value':a0_0x2b73e9(0x10c),'note':a0_0x2b73e9(0xbf)},'browserWidthHeight':{'type':a0_0x2b73e9(0x14a),'value':'400x900','note':a0_0x2b73e9(0x134)},'autoSetBrowserPosition':{'type':a0_0x2b73e9(0x126),'value':'y','note':a0_0x2b73e9(0x122)},'customBrowserPosition':{'type':a0_0x2b73e9(0x14a),'value':a0_0x2b73e9(0x152),'note':a0_0x2b73e9(0xe6)},'genDataFolder':{'type':a0_0x2b73e9(0x14a),'value':a0_0x3f8179[a0_0x2b73e9(0x13e)]('C:',a0_0x2b73e9(0xb2),a0_0x3d51d5[a0_0x2b73e9(0x11d)]()['username'],a0_0x2b73e9(0x130)),'note':'thư\x20mục\x20chứa\x20data\x20genlogin'}};let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,firstRun=!![],appStatus=0x0,tele_id,version,prevTime,prevTimeCkDisk;async function main(){const _0x514c49=a0_0x2b73e9;try{log(_0x514c49(0xc4),'Start\x20App:\x20'+appName,null,'w','='),await delay(0x3e8);if(!process[_0x514c49(0x135)][_0x514c49(0xcc)]){log('main','APIKEY\x20not\x20found!',null,![]),log(_0x514c49(0xc4),'Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro',null,'w'),log(_0x514c49(0xc4),_0x514c49(0xc3),null,'w'),log(_0x514c49(0xc4),'BYE\x20BYE',null,'w'),log(_0x514c49(0xc4),_0x514c49(0xaa),null,'w','=');return;}genlogin=new a0_0xb15680('',!![]),http=new a0_0x36f5b0(process['env'][_0x514c49(0x14c)],process[_0x514c49(0x135)][_0x514c49(0xcc)],!![]),tele_id=await http['getTeleId']('main'),version=await checkUpdate(),prevTime=Date[_0x514c49(0x10a)](),prevTimeCkDisk=Date[_0x514c49(0x10a)]();tele_id[_0x514c49(0xb3)]&&await http[_0x514c49(0xf4)](_0x514c49(0xc4),tele_id[_0x514c49(0xb3)],_0x514c49(0x12a)+appName+_0x514c49(0xc6));let _0x527511,_0x2130cc=0x1,_0x267059=0x1,_0x564538=0x0,_0x3f8e17;while(!![]){try{appStatus=0x1;if(_0x2130cc){if(!_0x564538){GenDataProfile=null;_0x267059&&(_0x3f8e17=null,_0x3f8e17=await genlogin[_0x514c49(0x128)]('main'));if(!_0x3f8e17||!_0x267059){const _0x191d21=await http[_0x514c49(0xd0)](_0x514c49(0xc4),genDataFile);!_0x191d21[_0x514c49(0xef)]?(log(_0x514c49(0xc4),_0x514c49(0xc1),null,'w'),log(_0x514c49(0xc4),_0x514c49(0xc9),null,'w'),log(_0x514c49(0xc4),''+_0x191d21[_0x514c49(0x107)],null,![]),log(_0x514c49(0xc4),_0x514c49(0x12c),null,'i'),tele_id&&tele_id['tele_id']&&await http[_0x514c49(0xf4)](_0x514c49(0xc4),tele_id['tele_id'],_0x514c49(0xfc))):GenDataProfile=_0x191d21[_0x514c49(0xef)];}else{GenDataProfile=await _0x3f8e17['profiles'],await http['genDataProfiles'](_0x514c49(0xc4),genDataFile,GenDataProfile),_0x267059=0x0;continue;}}if(await genlogin[_0x514c49(0x128)]('main')){log(_0x514c49(0xc4),_0x514c49(0x121),null,'w'),_0x564538=0x1,await closeGenlogin(),await delay(0xbb8);continue;}_0x2130cc=0x0;}await delay(0x3e8),getAllProfiles=await http['getAllProfiles'](_0x514c49(0xc4),appName,nameFile,GenDataProfile,appSetings);if(!getAllProfiles[_0x514c49(0xef)]||!getAllProfiles||getAllProfiles[_0x514c49(0xef)]['length']<=0x0){log(_0x514c49(0xc4),'Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy',null,![]),log(_0x514c49(0xc4),_0x514c49(0x12c),null,'i');throw new Error(_0x514c49(0xbe));}log(_0x514c49(0xc4),_0x514c49(0x139));const _0x3f86a6=Object['entries'](getAllProfiles[_0x514c49(0xef)]);maxTask=parseInt(getAllProfiles[_0x514c49(0x12f)]);const _0x3cd653=await processTasks(_0x3f86a6);if(taskQueue[_0x514c49(0x110)]>0x0){const _0x2699ec=await getRunningTasks(taskStatus,_0x514c49(0xf7));log(_0x514c49(0xc4),taskQueue[_0x514c49(0xfd)]+_0x514c49(0x124),null,'w'),log(_0x514c49(0xc4),taskQueue[_0x514c49(0x110)]+_0x514c49(0xe9),null,'w'),log('main',_0x514c49(0x132)+_0x2699ec,null,'w');}else!_0x3cd653&&log('main','chưa\x20có\x20task\x20mới',null,'w');log(_0x514c49(0xc4),'[main]\x20Task\x20Status:\x20'+Array['from'](taskStatus[_0x514c49(0xc2)]()),null,'c'),log(_0x514c49(0xc4),_0x514c49(0x104),null,'i'),Date[_0x514c49(0x10a)]()-prevTime>=0x5265c00&&(prevTime=Date[_0x514c49(0x10a)](),checkUpdate()),Date[_0x514c49(0x10a)]()-prevTimeCkDisk>=0x493e0&&(prevTimeCkDisk=Date['now'](),checkDisk()),logMemoryUsage(),await delay(0x7530);}catch(_0x38dec1){log(_0x514c49(0xc4),_0x514c49(0xeb)+_0x38dec1,null,![]),log(_0x514c49(0xc4),'Chờ\x2060\x20giây',null,'i'),tele_id&&tele_id[_0x514c49(0xb3)]&&await http['tele'](_0x514c49(0xc4),tele_id[_0x514c49(0xb3)],appName+'\x20Lỗi\x20'+_0x38dec1+_0x514c49(0x10f)),await delay(0x7530);}}}catch(_0xff9ef){log(_0x514c49(0xc4),_0x514c49(0x100)+_0xff9ef,null,![]),appStatus=0x0;}}main()[a0_0x2b73e9(0xe0)](console[a0_0x2b73e9(0x107)]);async function processTasks(_0x1dfd6b){const _0x44c509=a0_0x2b73e9;try{if(firstRun){log(_0x44c509(0xc4),_0x44c509(0x12e),null,'c','*'),taskQueue=new a0_0x143d00({'concurrency':maxTask}),tasksDataBuffer=new SharedArrayBuffer(_0x1dfd6b[_0x44c509(0x108)]*0x4),tasksData=new Int32Array(tasksDataBuffer);for(var _0x10612e=0x0;_0x10612e<tasksData['length'];_0x10612e++){Atomics['store'](tasksData,_0x10612e,0x2);}firstRun=![],taskStatus=new Map();let _0x4f5363=0x0;for(const [_0x3ae143,_0x3b3c32]of _0x1dfd6b){_0x3ae143<parseInt(getAllProfiles[_0x44c509(0x12f)])&&(_0x4f5363+=parseInt(_0x3b3c32[_0x44c509(0x10d)]));}screenDataBuffer=new SharedArrayBuffer((parseInt(_0x4f5363)*0x3+0xd)*0x4),screenData=new Int32Array(screenDataBuffer);let _0x41e396=[];for(let _0x5193f0=0x0;_0x5193f0<parseInt(getAllProfiles['screens']);_0x5193f0++){const _0x54d1ec=getAllProfiles[_0x44c509(0x116)]['split']('x');_0x41e396[_0x44c509(0xb1)]({'width':parseInt(_0x54d1ec[0x0]),'height':parseInt(_0x54d1ec[0x1])});}const _0xcba72a=getAllProfiles[_0x44c509(0x13d)][_0x44c509(0xe3)]('x'),_0x37825d=parseInt(_0xcba72a[0x0]),_0x3e23f9=parseInt(_0xcba72a[0x1]),_0x73dcad=_0x4f5363,_0x15aefb=_0x41e396['reduce']((_0x4bc57e,_0x42e96e)=>_0x4bc57e+_0x42e96e['width'],0x0),_0x2863c1=Math['max'](..._0x41e396['map'](_0x5f41d1=>_0x5f41d1[_0x44c509(0x142)])),_0x468cab=await calScreenArr(_0x37825d,_0x3e23f9,_0x15aefb,_0x2863c1,_0x4f5363);screenData=_0x468cab[_0x44c509(0xdd)],log(_0x44c509(0xc4),_0x44c509(0xf3)+getAllProfiles[_0x44c509(0xd9)],null,'w'),log(_0x44c509(0xc4),_0x44c509(0xcd)+_0x15aefb+'x'+_0x2863c1,null,'w'),log(_0x44c509(0xc4),'Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20'+_0x468cab[_0x44c509(0xfb)]+',\x20mỗi\x20cột:\x20'+_0x468cab[_0x44c509(0x127)],null,'w'),log(_0x44c509(0xc4),_0x44c509(0xc0)+_0x468cab[_0x44c509(0x125)],null,'w'),log('main',_0x44c509(0xb6)+getAllProfiles[_0x44c509(0xd9)]+_0x44c509(0xb0)+getAllProfiles['screenWidthHeight'],null,'w'),await delay(0x3e8);}const _0x2a3e19=[];for(const [_0x4a8774,_0x5b3df5]of _0x1dfd6b){_0x5b3df5[_0x44c509(0xea)]=_0x4a8774;const _0x176ebc=await genlogin[_0x44c509(0xf6)](_0x44c509(0xc4));log(_0x44c509(0xc4),_0x44c509(0x106)+_0x176ebc[_0x44c509(0x14b)],null,'i'),log('main',_0x44c509(0xec)+_0x5b3df5['nextrunstamp'],null,'i'),log(_0x44c509(0xc4),_0x44c509(0xae)+_0x5b3df5['status'],null,'i'),log(_0x44c509(0xc4),'[processTasks]:'+_0x176ebc[_0x44c509(0x14b)]+'|'+(parseInt(_0x5b3df5[_0x44c509(0xba)])+parseInt(_0x5b3df5[_0x44c509(0x102)]))+'|'+parseInt(_0x5b3df5[_0x44c509(0xed)]),null,'w');if(_0x176ebc[_0x44c509(0x14b)]>=_0x5b3df5[_0x44c509(0xba)]&&parseInt(_0x5b3df5[_0x44c509(0xed)])===0x0){log(_0x44c509(0xc4),'[processTasks]:\x20Thêm\x20task\x20'+_0x5b3df5[_0x44c509(0x138)]+'\x20vào\x20hàng\x20đợi',null,'i'),taskStatus['set'](_0x5b3df5['name'],'pending');const _0x4e6113=await updateTask(_0x5b3df5[_0x44c509(0x138)],{'status':0x1,'nextRun':0x1});_0x2a3e19[_0x44c509(0xb1)](taskQueue[_0x44c509(0x118)](()=>processTask(_0x5b3df5))),taskStatus[_0x44c509(0x105)](_0x5b3df5[_0x44c509(0x138)],'running'),await delay(0x7d0);}else{if(_0x176ebc['timestamp']>parseInt(_0x5b3df5['nextrunstamp'])+parseInt(_0x5b3df5[_0x44c509(0x102)])&&parseInt(_0x5b3df5['status'])===0x1&&(taskStatus[_0x44c509(0x13f)](_0x5b3df5[_0x44c509(0x138)])===_0x44c509(0xe4)||!taskStatus['has'](_0x5b3df5[_0x44c509(0x138)]))){log(_0x44c509(0xc4),_0x44c509(0x11b)+_0x5b3df5[_0x44c509(0x138)]+_0x44c509(0xac)+_0x5b3df5['nextrun'],null,'w','*');const _0x5d8a51=await updateTask(_0x5b3df5[_0x44c509(0x138)],{'status':0x0,'nextRun':0x1});log(_0x44c509(0xc4),_0x44c509(0x144)+_0x5b3df5[_0x44c509(0x138)],null,'i','*');}}}return _0x2a3e19[_0x44c509(0x108)]>0x0?!![]:(log(_0x44c509(0xc4),'[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý',null,'w'),null);}catch(_0x1640b5){return log(_0x44c509(0xc4),_0x44c509(0x10e)+_0x1640b5,null,![]),null;}}async function processTask(_0x5f010f){const _0xc19f94=a0_0x2b73e9;try{log(_0xc19f94(0xc4),'[processTask]:\x20Xử\x20lý\x20task:\x20'+_0x5f010f[_0xc19f94(0x138)],null,'i','=');if(!_0x5f010f||typeof _0x5f010f!==_0xc19f94(0xc7))throw new Error('Task\x20phải\x20là\x20một\x20đối\x20tượng');const _0x50400e=createWorkerPromise(_0x5f010f),_0x40fee8=await _0x50400e;log(_0xc19f94(0xc4),_0xc19f94(0xf1)+_0x5f010f[_0xc19f94(0x138)],null,'w','DT');const _0xad8673=await updateTask(_0x5f010f['name'],{'status':0x0,'nextRun':0x1});return taskStatus[_0xc19f94(0x105)](_0x5f010f[_0xc19f94(0x138)],_0xc19f94(0xe4)),await delay(0x1388),_0x40fee8;}catch(_0x1efb19){return log(_0xc19f94(0xc4),_0xc19f94(0xb4)+_0x1efb19,null,![]),await updateTask(_0x5f010f[_0xc19f94(0x138)],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x21c29f){const _0x25f469=a0_0x2b73e9;return log(_0x25f469(0xc4),_0x25f469(0x140)+_0x21c29f['name'],null,'i','-'),new Promise(async(_0x54bfbd,_0x4cad5d)=>{const _0x44b3bb=_0x25f469;let _0x374ea2;try{if(!_0x21c29f||typeof _0x21c29f!==_0x44b3bb(0xc7))return _0x4cad5d(new Error(_0x44b3bb(0xda)));const _0x479c52=_0x21c29f[_0x44b3bb(0xb5)]===_0x44b3bb(0xdc)?_0x44b3bb(0x141):'./workerBrowser.js';_0x374ea2=await spawn(new Worker(_0x479c52)),log(_0x44b3bb(0xc4),'[createWorkerPromise]:\x20'+_0x479c52,null,'i');if(!_0x374ea2)return _0x4cad5d(new Error('Không\x20thể\x20tạo\x20worker'));const _0x3e7df=parseInt(_0x21c29f[_0x44b3bb(0x102)])*0x3e8;if(isNaN(_0x3e7df))return _0x4cad5d(new Error(_0x44b3bb(0xee)));const _0x368490=setTimeout(async()=>{const _0x47ba3e=_0x44b3bb;log(_0x47ba3e(0xc4),'[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20'+_0x21c29f['name'],null,'w','timeout'),await eTimeout(_0x21c29f['taskIndex']),xoaTimeout(_0x368490),await _0x374ea2['worker1']({'timeout':!![],'task':_0x21c29f,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'tele_id':tele_id});},_0x3e7df);log('main',_0x44b3bb(0x11e)+_0x21c29f[_0x44b3bb(0x138)]+_0x44b3bb(0x14d)+_0x3e7df+_0x44b3bb(0xf8)+_0x368490,null,'w');const _0x3e2891=async _0x342802=>{const _0x4e1c0=_0x44b3bb;try{if(_0x342802[_0x4e1c0(0x131)]){log(_0x4e1c0(0xc4),_0x4e1c0(0x113)+_0x21c29f[_0x4e1c0(0x138)],null,'i'),xoaTimeout(_0x368490),_0x54bfbd(!![]);return;}else{if(!_0x342802[_0x4e1c0(0x131)]){log(_0x4e1c0(0xc4),_0x4e1c0(0xdb)+_0x21c29f[_0x4e1c0(0x138)]+':\x20'+_0x342802[_0x4e1c0(0x107)],null,![]),_0x4cad5d(new Error(_0x342802[_0x4e1c0(0x107)]||'Lỗi\x20không\x20xác\x20định'));return;}else{log('main',_0x4e1c0(0xd2)+_0x21c29f[_0x4e1c0(0x138)]+':\x20'+json(_0x342802),null,'c','x'),log(_0x4e1c0(0xc4),'[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20'+_0x21c29f[_0x4e1c0(0x138)]+':\x20'+_0x342802[_0x4e1c0(0x107)],null,![]),_0x4cad5d(new Error(_0x342802['error']||'Lỗi\x20không\x20xác\x20định'));return;}}}catch(_0x301daf){log(_0x4e1c0(0xc4),'[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20'+_0x21c29f[_0x4e1c0(0x138)]+':\x20'+_0x301daf['message'],null,![]),xoaTimeout(_0x368490),_0x4cad5d(_0x301daf);return;}},_0x1c1ccc=new Promise(async(_0x3bdfbb,_0x595dbc)=>{const _0x3e8f42=_0x44b3bb;try{const _0x4c2df9=await _0x374ea2[_0x3e8f42(0x117)]({'version0':version,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'task':_0x21c29f,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame,'tele_id':tele_id}),_0x19138b=await _0x3e2891(_0x4c2df9);_0x3bdfbb(_0x19138b);}catch(_0x28a9fa){_0x595dbc(_0x28a9fa);}}),_0x539357=await Promise['race']([_0x1c1ccc]);log('main',_0x44b3bb(0x119)+json(_0x539357),null,'w','@'),log('main',_0x44b3bb(0xd8),null,'w','-');_0x374ea2&&Thread[_0x44b3bb(0xce)]in _0x374ea2?await Thread['terminate'](_0x374ea2):log(_0x44b3bb(0xc4),_0x44b3bb(0xd7),null,![],'x');_0x54bfbd(_0x539357);return;}catch(_0x99b8b1){log('main',_0x44b3bb(0xb8)+_0x99b8b1[_0x44b3bb(0x13c)],null,![]),_0x374ea2&&Thread[_0x44b3bb(0xce)]in _0x374ea2?await Thread['terminate'](_0x374ea2):log(_0x44b3bb(0xc4),_0x44b3bb(0xd7),null,![],'x'),_0x4cad5d(_0x99b8b1);}});}async function updateTask(_0x3dcb83,_0x259ac4){const _0x28ee4f=a0_0x2b73e9;if(!http||typeof http[_0x28ee4f(0xdf)]!==_0x28ee4f(0xb7)){log(_0x28ee4f(0xc4),_0x28ee4f(0x14f),null,![]);return;}return log('main','[updateTask]:\x20update\x20task\x20'+_0x3dcb83+'\x20with\x20data:\x20'+_0x259ac4[_0x28ee4f(0xed)]+'|'+_0x259ac4[_0x28ee4f(0xd6)],null,'i'),await http[_0x28ee4f(0xdf)]('main',_0x3dcb83,_0x259ac4);}async function processProfile(_0xe3fbac){const _0x284648=a0_0x2b73e9;console['log'](_0x284648(0xc4),_0x284648(0x150)+_0xe3fbac[_0x284648(0x138)]);const _0x2a997d=_0xe3fbac['games'];for(const _0x5c80b1 of _0x2a997d){await gameQueue[_0x284648(0x118)](()=>processGame(_0x5c80b1));}}async function getRunningTasks(_0x267de6,_0x16d956){const _0x360e40=a0_0x2b73e9,_0x136b05=[];for(const [_0x2e1285,_0xdb2782]of _0x267de6[_0x360e40(0xc2)]()){_0xdb2782===_0xdb2782&&_0x136b05[_0x360e40(0xb1)](_0x2e1285);}return _0x136b05;}async function calScreenArr(_0x167eb5,_0x459570,_0x369df9,_0x222fdc,_0x5e29c5,_0x156e28=0x1){const _0x28895e=a0_0x2b73e9,_0x1ee9af=0x0;let _0x326422=_0x167eb5,_0x394548=_0x459570,_0x6d00f3,_0x59f186,_0x309096=0x1;while(!![]){_0x59f186=Math[_0x28895e(0xe5)](_0x369df9/_0x326422),_0x6d00f3=Math[_0x28895e(0xc8)](_0x5e29c5/_0x59f186);if(_0x6d00f3*_0x394548<=_0x222fdc)break;_0x309096*=0.95,_0x326422=Math[_0x28895e(0xe5)](_0x167eb5*_0x309096),_0x394548=Math[_0x28895e(0xe5)](_0x459570*_0x309096);}_0x326422=Math['floor'](_0x326422*1.26);const _0x166a66=[];let _0x5c30b1=0x0;for(let _0x47317a=0x0;_0x47317a<_0x156e28;_0x47317a++){const _0x1ea54a=Math['round'](_0x309096*0xf4240);Atomics[_0x28895e(0xbc)](screenData,0x0,_0x47317a),Atomics[_0x28895e(0xbc)](screenData,0x1,_0x1ea54a),Atomics['store'](screenData,0x2,_0x167eb5),Atomics[_0x28895e(0xbc)](screenData,0x3,_0x459570),Atomics[_0x28895e(0xbc)](screenData,0x4,_0x326422),Atomics['store'](screenData,0x5,_0x394548);let _0x4cc9db=0xa;for(let _0x4dc7ba=0x0;_0x4dc7ba<_0x6d00f3;_0x4dc7ba++){const _0x511e6a=[];for(let _0x47d16c=0x0;_0x47d16c<_0x59f186;_0x47d16c++){if(_0x5c30b1>=_0x5e29c5)break;const _0x2987c5=Math[_0x28895e(0xe5)](_0x47d16c*_0x326422),_0x4926cc=Math[_0x28895e(0xe5)](_0x4dc7ba*_0x394548);if(_0x2987c5>_0x369df9||_0x4926cc>_0x222fdc)continue;Atomics[_0x28895e(0xbc)](screenData,_0x4cc9db++,0x2),Atomics[_0x28895e(0xbc)](screenData,_0x4cc9db++,_0x2987c5),Atomics[_0x28895e(0xbc)](screenData,_0x4cc9db++,_0x4926cc),_0x5c30b1++;}if(_0x5c30b1>=_0x5e29c5)break;}break;}return{'screenData':screenData,'scale':_0x309096,'rows':_0x6d00f3,'cols':_0x59f186,'total':_0x5c30b1,'positions':_0x166a66};}async function xoaTimeout(_0x1af3b1){const _0x1b2071=a0_0x2b73e9;try{clearTimeout(_0x1af3b1),log(_0x1b2071(0xc4),_0x1b2071(0xca)+_0x1af3b1,null,'w',_0x1b2071(0xcf));}catch(_0x3db123){log('main',_0x1b2071(0x129)+_0x3db123,null,![]);}}async function delay(_0xcc5d8c){return new Promise(_0x213b05=>{setTimeout(_0x213b05,_0xcc5d8c);});}async function eTimeout(_0x219ec2){const _0x41c07a=a0_0x2b73e9;return log(_0x41c07a(0xc4),_0x41c07a(0xd5),null,'w'),Atomics['store'](tasksData,_0x219ec2,0x1),!![];}async function rstTimeout(_0x3e7fde){const _0x100a8d=a0_0x2b73e9;return log(_0x100a8d(0xc4),_0x100a8d(0x148),null,'w'),Atomics[_0x100a8d(0xff)](tasksData,_0x3e7fde,0x1,0x2),!![];}async function closeGenlogin(){const _0x18a01=a0_0x2b73e9;try{log(_0x18a01(0xc4),_0x18a01(0xe7),null,'w','-'),exec(_0x18a01(0x13a),(_0x1674b7,_0xb7a785,_0x553ce9)=>{const _0x35ff95=_0x18a01;if(_0x1674b7){log(_0x35ff95(0xc4),_0x35ff95(0x12b)+_0x1674b7[_0x35ff95(0x13c)],null,![]);return;}if(_0x553ce9){log(_0x35ff95(0xc4),'Stderr:\x20'+_0x553ce9,null,![]);return;}log(_0x35ff95(0xc4),_0x35ff95(0xd1));});}catch(_0x5fe2da){log(_0x18a01(0xc4),_0x18a01(0xf2)+_0x5fe2da,null,![]);}}async function checkUpdate(){const _0x16317d=a0_0x2b73e9;try{const _0x329d17=_0x16317d(0x11f),_0x56f976=a0_0x3f8179[_0x16317d(0x13e)](process['cwd'](),_0x16317d(0x112)),_0x4672c4=await a0_0xcfc9eb['promises'][_0x16317d(0x145)](_0x56f976,_0x16317d(0xcb)),_0x5902b4=JSON['parse'](_0x4672c4),_0x40a6eb=_0x5902b4[_0x16317d(0xfe)];log('main',_0x16317d(0xc5)+_0x40a6eb,null,'w','-');const _0x5a9fb6=await http[_0x16317d(0xf9)](_0x16317d(0xc4),_0x329d17);await delay(0x3e8);if(_0x5a9fb6)try{const _0x24799a=typeof _0x5a9fb6===_0x16317d(0x14e)?JSON[_0x16317d(0x13b)](_0x5a9fb6):_0x5a9fb6,_0x328daa=_0x24799a['version'];await delay(0x3e8),_0x328daa!=_0x40a6eb?(log(_0x16317d(0xc4),_0x16317d(0x143)+_0x328daa,null,'w'),tele_id&&tele_id[_0x16317d(0xb3)]&&await http[_0x16317d(0xf4)](_0x16317d(0xc4),tele_id[_0x16317d(0xb3)],'Đã\x20có\x20phiên\x20bản\x20mới:\x20'+_0x328daa)):log(_0x16317d(0xc4),'[checkUpdate]Bạn\x20đang\x20chạy\x20phiên\x20bản\x20mới\x20nhất',null,'w');}catch(_0x44fad9){log('main',_0x16317d(0x12d)+_0x44fad9[_0x16317d(0x13c)],null,![]);}return _0x40a6eb;}catch(_0x1210ad){return log(_0x16317d(0xc4),_0x16317d(0xe2)+_0x1210ad,null,![]),null;}}async function checkDisk(){const _0x1defc8=a0_0x2b73e9;try{const _0x3b7a67=await checkDiskSpace('C:');log('checkDisk',_0x1defc8(0x146)+_0x3b7a67['toFixed'](0x2)+'\x20MB',null,'w','+'),_0x3b7a67<=MIN_FREE_SPACE_MB&&(log(_0x1defc8(0xf0),_0x1defc8(0x11a),null,'w','+'),tele_id[_0x1defc8(0xb3)]&&await http[_0x1defc8(0xf4)](_0x1defc8(0xf0),tele_id[_0x1defc8(0xb3)],'Dung\x20lượng\x20trống\x20ổ\x20C:\x20không\x20đủ!\x20'+_0x3b7a67['toFixed'](0x2)+'\x20MB,\x20Ta\x20OUT\x20đây!'),process[_0x1defc8(0xb9)]());}catch(_0x245809){log(_0x1defc8(0xf0),_0x1defc8(0x115)+_0x245809[_0x1defc8(0x13c)],null,'w','+');}}function checkDiskSpace(_0x2e6176='C:'){return new Promise((_0x561c84,_0x158b1e)=>{const _0x3109eb=a0_0x4037;exec(_0x3109eb(0x10b),(_0x4f9ddd,_0x59c3b6)=>{const _0x11758b=_0x3109eb;if(_0x4f9ddd){_0x158b1e(_0x4f9ddd);return;}const _0x1b351c=_0x59c3b6[_0x11758b(0xab)]()[_0x11758b(0xe3)]('\x0a');for(const _0x2d098e of _0x1b351c){const _0x341d46=_0x2d098e[_0x11758b(0xab)]()[_0x11758b(0xe3)](/\s+/);if(_0x341d46[0x0]===_0x2e6176){const _0x463774=Math[_0x11758b(0xd4)](parseInt(_0x341d46[0x1],0xa)/0x400/0x400);_0x561c84(_0x463774);return;}}_0x158b1e(new Error(_0x11758b(0x109)));});});}async function logMemoryUsage(){const _0x44266d=a0_0x2b73e9,_0x536fe6=process[_0x44266d(0x11c)]();log(_0x44266d(0xd3),_0x44266d(0x151)+(_0x536fe6[_0x44266d(0x111)]/0x400/0x400)['toFixed'](0x2)+_0x44266d(0xde)+(_0x536fe6['rss']/0x400/0x400)[_0x44266d(0xfa)](0x2)+_0x44266d(0x120),null,'w','+'),_0x536fe6[_0x44266d(0xaf)]>0x400*0x400*0x400*0x5&&(log(_0x44266d(0xd3),_0x44266d(0x137),null,'w','+'),global['gc']&&(global['gc'](),log(_0x44266d(0xd3),'Garbage\x20Collector\x20đã\x20chạy!',null,'i','+')));}function a0_0x2013(){const _0xccaa14=['entries','Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro','main','[checkUpdate]Version:\x20','\x20nè\x20bro!','object','ceil','Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro','[xoaTimeout]main:\x20Xóa\x20timeout:','utf-8','APIKEY','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20','terminate','clrTimeout','genDataProfiles','tắt\x20genlogin\x20ok','[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20','Memory','round','[eTimeout]main:\x20turn\x20on\x20timeout\x20flag','nextRun','[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:','[createWorkerPromise]:\x20main\x20kết\x20thúc\x20worker','screens','Task\x20phải\x20là\x20một\x20đối\x20tượng','[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20','api','screenData','\x20MB,\x20RSS:\x20','updateTask','catch','216302JLhQrv','[checkUpdate]Lỗi\x20khi\x20đọc\x20file\x20package.json:\x20','split','completed','floor','tọa\x20độ\x20hiển\x20thị\x20trình\x20duyệt\x20','Tự\x20động\x20tắt\x20genlogin','url','\x20task\x20đang\x20chạy','taskIndex','Lỗi\x20while:\x20','[processTasks]:\x20task.nextrunstamp:\x20','status','Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ','value','checkDisk','[processTask]:\x20DONE\x20TASK\x20','closeGenlogin:\x20','số\x20màn\x20hình:\x20','tele','91SZjGTR','nowTime','running','\x20Timeout\x20ID:\x20','httpGet','toFixed','rows','Lỗi\x20App\x20genlogin\x20nhé\x20bro!','size','version','compareExchange','Lỗi\x20chung:\x20','185135QncBoR','maxTime','genProfiles','Kiểm\x20tra\x20task\x20sau\x2060\x20giây','set','[processTasks]:\x20currentTime.timestamp:\x20','error','length','Drive\x20not\x20found','now','wmic\x20logicaldisk\x20get\x20caption,freespace','1920x1080','profileThreads','[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','\x20rồi\x20bro!','pending','heapUsed','package.json','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20','4183355ceMRsj','❌\x20Lỗi\x20kiểm\x20tra\x20ổ\x20đĩa:\x20','screenWidthHeight','worker1','add','[createWorkerPromise]:\x20main\x20','❌\x20Dung\x20lượng\x20trống\x20không\x20đủ!','[processTasks]:\x20Phát\x20Hiện\x20','memoryUsage','userInfo','[createWorkerPromise]:\x20','https://raw.githubusercontent.com/resistor3300/longCTools/refs/heads/main/package.json','\x20MB','OK\x20rồi\x20man.\x20tắt\x20genlogin\x20đi\x20bro','tự\x20động\x20sắp\x20xếp\x20vị\x20trí\x20hiển\x20thị\x20trình\x20duyệt\x20','LongCAutoAirdrop','\x20task\x20trong\x20hàng\x20đợi','scale','checkbox','cols','getListProfiles','[xoaTimeout]main:\x20','Start\x20App:\x20','Lỗi:\x20','chờ\x2030\x20giây\x20rồi\x20thử\x20lại','[checkUpdate]\x20Lỗi\x20parse\x20JSON:\x20','[processTasks]:\x20FirstRun','maxTask','.genlogin','success','Running\x20Task:','2436939yAPStn','kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20','env','Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị','Bộ\x20nhớ\x20vượt\x20quá\x201GB!\x20Thu\x20hồi...','name','getAllProfiles.value\x20OK','taskkill\x20/IM\x20genLogin.exe\x20/F','parse','message','browserWidthHeight','join','get','[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20','./worker-api1.js','height','[checkUpdate]Có\x20phiên\x20bản\x20mới:\x20','[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20','readFile','🟢\x20Dung\x20lượng\x20trống:\x20','2843200kfCTHm','[eTimeout]main:\x20reset\x20timeout','7347496PVQbuK','input','timestamp','SERVER_HOST','\x20set\x20timeout:\x20','string','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task','Processing\x20profile:\x20','Heap\x20Used:\x20','0x0','TA\x20ĐI\x20ĐÂY','trim','\x20treo\x20đang\x20chạy\x20từ\x20','Số\x20lượng\x20task\x20chạy\x20song\x20song','[processTasks]:\x20task.status:\x20','rss','|screenWidthHeight:','push','Users','tele_id','[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','taskMode','[processTasks]:\x20screens:','function','[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20','exit','nextrunstamp','substring','store','402258kYbvMF','No\x20task\x20found','độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20','Tỷ\x20lệ\x20thu\x20nhỏ:\x20','Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro'];a0_0x2013=function(){return _0xccaa14;};return a0_0x2013();}