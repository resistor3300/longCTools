const a0_0x2ec0f3=a0_0x2755;(function(_0x37e0c3,_0x1e6a50){const _0x52b89d=a0_0x2755,_0x522b47=_0x37e0c3();while(!![]){try{const _0x2b4b8f=parseInt(_0x52b89d(0x197))/0x1+-parseInt(_0x52b89d(0x17f))/0x2*(parseInt(_0x52b89d(0x189))/0x3)+-parseInt(_0x52b89d(0x198))/0x4+-parseInt(_0x52b89d(0x155))/0x5*(-parseInt(_0x52b89d(0x1d3))/0x6)+-parseInt(_0x52b89d(0x1b6))/0x7*(-parseInt(_0x52b89d(0x152))/0x8)+-parseInt(_0x52b89d(0x1a9))/0x9+-parseInt(_0x52b89d(0x195))/0xa*(parseInt(_0x52b89d(0x1bd))/0xb);if(_0x2b4b8f===_0x1e6a50)break;else _0x522b47['push'](_0x522b47['shift']());}catch(_0xf2fa35){_0x522b47['push'](_0x522b47['shift']());}}}(a0_0x3867,0x6f83e));import'dotenv/config';import a0_0x113f85 from'os';import a0_0x2391b5 from'fs';import a0_0x70e41b from'path';import{fileURLToPath}from'url';import a0_0x40fb7c from'./modules/Genlogin.js';function a0_0x3867(){const _0xe1a23e=['[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','\x20vào\x20hàng\x20đợi','add','api','pending','now','128VrbZvx','nowTime','tọa\x20độ\x20hiển\x20thị\x20trình\x20duyệt\x20','35iAfErM','thư\x20mục\x20chứa\x20data\x20genlogin','[checkUpdate]Có\x20phiên\x20bản\x20mới:\x20','400x900','[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20','[main]\x20Task\x20Status:\x20',',\x20mỗi\x20cột:\x20','message','[checkUpdate]Lỗi\x20khi\x20đọc\x20file\x20package.json:\x20','push','set','[checkUpdate]Version:\x20','Kiểm\x20tra\x20task\x20sau\x2060\x20giây','checkbox','1920x1080','[processTasks]:\x20Phát\x20Hiện\x20','updateTask','SERVER_HOST','chờ\x2030\x20giây\x20rồi\x20thử\x20lại','main','Không\x20thể\x20tạo\x20worker','[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20','browserWidthHeight','timestamp','log','taskMode','[processTasks]:','Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ','getAllProfiles.value\x20OK','Lỗi\x20chung:\x20','[xoaTimeout]main:\x20','\x20Timeout\x20ID:\x20','genProfiles','Running\x20Task:','genDataProfiles','screenWidthHeight','0x0','screens','./worker-api1.js','nextRun','cwd','82Rftobn','Lỗi:\x20','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task','tele_id','readFile','reduce','Lỗi\x20không\x20xác\x20định','status','Start\x20App:\x20','object','7758tnyQBF','[eTimeout]main:\x20reset\x20timeout','Chờ\x2060\x20giây','tele','taskIndex','url','join','Users','worker1','Stderr:\x20','getTeleId','value','1240ZQhaCH','clrTimeout','828279DGVOze','808484ZEMaqa','số\x20màn\x20hình:\x20','[processTasks]:\x20task.nextrunstamp:\x20','[processTasks]:\x20currentTime.timestamp:\x20','version','name','error','[processTask]:\x20Xử\x20lý\x20task:\x20','https://raw.githubusercontent.com/resistor3300/longCTools/refs/heads/main/package.json','timeout','độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20','function','tự\x20động\x20sắp\x20xếp\x20vị\x20trí\x20hiển\x20thị\x20trình\x20duyệt\x20','env','[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý','[createWorkerPromise]:\x20','store','5304879zmnYCZ','games','[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20','size','length','input','\x20nè\x20bro!','nextrun','\x20treo\x20đang\x20chạy\x20từ\x20','[updateTask]:\x20update\x20task\x20','getAllProfiles','[createWorkerPromise]:\x20main\x20kết\x20thúc\x20worker','maxTime','303695UWGbRy','./workerBrowser.js','race','.genlogin','Đã\x20có\x20phiên\x20bản\x20mới:\x20','success','profileThreads','24002ixZasn','running','Tự\x20động\x20tắt\x20genlogin','terminate','screenData','Lỗi\x20App\x20genlogin\x20nhé\x20bro!','Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro','Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20','[createWorkerPromise]:\x20main\x20','[checkUpdate]\x20Lỗi\x20parse\x20JSON:\x20','[xoaTimeout]main:\x20Xóa\x20timeout:','\x20Lỗi\x20','[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20','entries','max','[checkUpdate]Bạn\x20đang\x20chạy\x20phiên\x20bản\x20mới\x20nhất','\x20with\x20data:\x20','kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20','BYE\x20BYE','Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro','rows','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20','87834AQJcym','nextrunstamp','dirname','floor','Tỷ\x20lệ\x20thu\x20nhỏ:\x20','\x20task\x20đang\x20chạy','maxTask','promises','width','TA\x20ĐI\x20ĐÂY','[processTasks]:\x20FirstRun','APIKEY','Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị','\x20set\x20timeout:\x20','getListProfiles','string','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20','|screenWidthHeight:','[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20','username','LongCAutoAirdrop','\x20rồi\x20bro!','No\x20task\x20found','map'];a0_0x3867=function(){return _0xe1a23e;};return a0_0x3867();}import a0_0xe8c55b from'./modules/http.js';import{log,json}from'./modules/logger.js';function a0_0x2755(_0x51c180,_0x2b0b0c){const _0x3867e8=a0_0x3867();return a0_0x2755=function(_0x27550e,_0xf28e6b){_0x27550e=_0x27550e-0x143;let _0x2f5efb=_0x3867e8[_0x27550e];return _0x2f5efb;},a0_0x2755(_0x51c180,_0x2b0b0c);}import a0_0x965b53 from'node-machine-id';import{spawn,Thread,Worker}from'threads';import{exec}from'child_process';import a0_0x2c252d from'p-queue';let tasksDataBuffer,tasksData,screenData,screenDataBuffer;const __filename=fileURLToPath(import.meta[a0_0x2ec0f3(0x18e)]),__dirname=a0_0x70e41b[a0_0x2ec0f3(0x1d5)](__filename),{machine_id,machineIdSync}=a0_0x965b53,machineId=machineIdSync()['substring'](0x0,0x8),appName=a0_0x2ec0f3(0x148)+'-'+machineId,nameFile=a0_0x2ec0f3(0x176)+'-'+machineId,genDataFile='genDataProfiles'+'-'+machineId,appSetings={'maxTaskThreads':{'type':a0_0x2ec0f3(0x1ae),'value':0x3,'note':'Số\x20lượng\x20task\x20chạy\x20song\x20song'},'screens':{'type':a0_0x2ec0f3(0x1ae),'value':0x1,'note':a0_0x2ec0f3(0x1df)},'screenWidthHeight':{'type':a0_0x2ec0f3(0x1ae),'value':a0_0x2ec0f3(0x163),'note':a0_0x2ec0f3(0x1a2)},'browserWidthHeight':{'type':a0_0x2ec0f3(0x1ae),'value':a0_0x2ec0f3(0x158),'note':a0_0x2ec0f3(0x1ce)},'autoSetBrowserPosition':{'type':a0_0x2ec0f3(0x162),'value':'y','note':a0_0x2ec0f3(0x1a4)},'customBrowserPosition':{'type':a0_0x2ec0f3(0x1ae),'value':a0_0x2ec0f3(0x17a),'note':a0_0x2ec0f3(0x154)},'genDataFolder':{'type':'input','value':a0_0x70e41b[a0_0x2ec0f3(0x18f)]('C:',a0_0x2ec0f3(0x190),a0_0x113f85['userInfo']()[a0_0x2ec0f3(0x147)],a0_0x2ec0f3(0x1b9)),'note':a0_0x2ec0f3(0x156)}};let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,firstRun=!![],appStatus=0x0,tele_id,version,prevTime;async function main(){const _0x3a5e7a=a0_0x2ec0f3;try{log(_0x3a5e7a(0x168),_0x3a5e7a(0x187)+appName,null,'w','='),await delay(0x3e8);if(!process[_0x3a5e7a(0x1a5)][_0x3a5e7a(0x1de)]){log(_0x3a5e7a(0x168),'APIKEY\x20not\x20found!',null,![]),log(_0x3a5e7a(0x168),'Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro',null,'w'),log('main',_0x3a5e7a(0x1d0),null,'w'),log(_0x3a5e7a(0x168),_0x3a5e7a(0x1cf),null,'w'),log(_0x3a5e7a(0x168),_0x3a5e7a(0x1dc),null,'w','=');return;}genlogin=new a0_0x40fb7c('',!![]),http=new a0_0xe8c55b(process['env'][_0x3a5e7a(0x166)],process[_0x3a5e7a(0x1a5)]['APIKEY'],!![]),tele_id=await http[_0x3a5e7a(0x193)](_0x3a5e7a(0x168)),version=await checkUpdate(),prevTime=Date[_0x3a5e7a(0x151)]();tele_id[_0x3a5e7a(0x182)]&&await http['tele']('main',tele_id[_0x3a5e7a(0x182)],_0x3a5e7a(0x187)+appName+_0x3a5e7a(0x1af));let _0x19064c,_0x56b8b8=0x1,_0x5f5178=0x1,_0x419b92=0x0,_0xc17752;while(!![]){try{appStatus=0x1;if(_0x56b8b8){if(!_0x419b92){_0x5f5178&&(_0xc17752=await genlogin['getListProfiles'](_0x3a5e7a(0x168)));if(!_0xc17752||!_0x5f5178){const _0xcdb9fd=await http[_0x3a5e7a(0x178)](_0x3a5e7a(0x168),genDataFile);!_0xcdb9fd[_0x3a5e7a(0x194)]?(log(_0x3a5e7a(0x168),'Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro',null,'w'),log('main',_0x3a5e7a(0x1c3),null,'w'),log('main',''+_0xcdb9fd[_0x3a5e7a(0x19e)],null,![]),log('main',_0x3a5e7a(0x167),null,'i'),tele_id&&tele_id['tele_id']&&await http[_0x3a5e7a(0x18c)](_0x3a5e7a(0x168),tele_id['tele_id'],_0x3a5e7a(0x1c2))):GenDataProfile=_0xcdb9fd[_0x3a5e7a(0x194)];}else{GenDataProfile=await _0xc17752['profiles'],await http[_0x3a5e7a(0x178)](_0x3a5e7a(0x168),genDataFile,GenDataProfile),_0x5f5178=0x0;continue;}}if(await genlogin[_0x3a5e7a(0x1e1)]('main')){log(_0x3a5e7a(0x168),'OK\x20rồi\x20man.\x20tắt\x20genlogin\x20đi\x20bro',null,'w'),_0x419b92=0x1,await closeGenlogin(),await delay(0xbb8);continue;}_0x56b8b8=0x0;}await delay(0x3e8),getAllProfiles=await http[_0x3a5e7a(0x1b3)](_0x3a5e7a(0x168),appName,nameFile,GenDataProfile,appSetings);if(!getAllProfiles['value']||!getAllProfiles||getAllProfiles[_0x3a5e7a(0x194)]['length']<=0x0){log('main','Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy',null,![]),log(_0x3a5e7a(0x168),'chờ\x2030\x20giây\x20rồi\x20thử\x20lại',null,'i');throw new Error(_0x3a5e7a(0x14a));}log('main',_0x3a5e7a(0x172));const _0x143d63=Object[_0x3a5e7a(0x1ca)](getAllProfiles[_0x3a5e7a(0x194)]);maxTask=parseInt(getAllProfiles[_0x3a5e7a(0x1d9)]);const _0x561462=await processTasks(_0x143d63);if(taskQueue[_0x3a5e7a(0x150)]>0x0){const _0x463a96=await getRunningTasks(taskStatus,'running');log(_0x3a5e7a(0x168),taskQueue[_0x3a5e7a(0x1ac)]+'\x20task\x20trong\x20hàng\x20đợi',null,'w'),log(_0x3a5e7a(0x168),taskQueue[_0x3a5e7a(0x150)]+_0x3a5e7a(0x1d8),null,'w'),log(_0x3a5e7a(0x168),_0x3a5e7a(0x177)+_0x463a96,null,'w');}else!_0x561462&&log(_0x3a5e7a(0x168),'chưa\x20có\x20task\x20mới',null,'w');log(_0x3a5e7a(0x168),_0x3a5e7a(0x15a)+Array['from'](taskStatus['entries']()),null,'c'),log(_0x3a5e7a(0x168),_0x3a5e7a(0x161),null,'i'),Date['now']()-prevTime>=0x5265c00&&(prevTime=Date['now'](),checkUpdate()),await delay(0x7530);}catch(_0x1b4894){log(_0x3a5e7a(0x168),'Lỗi\x20while:\x20'+_0x1b4894,null,![]),log(_0x3a5e7a(0x168),_0x3a5e7a(0x18b),null,'i'),tele_id&&tele_id[_0x3a5e7a(0x182)]&&await http[_0x3a5e7a(0x18c)]('main',tele_id[_0x3a5e7a(0x182)],appName+_0x3a5e7a(0x1c8)+_0x1b4894+_0x3a5e7a(0x149)),await delay(0x7530);}}}catch(_0x599795){log(_0x3a5e7a(0x168),_0x3a5e7a(0x173)+_0x599795,null,![]),appStatus=0x0;}}main()['catch'](console[a0_0x2ec0f3(0x19e)]);async function processTasks(_0x5c1024){const _0x5c4d34=a0_0x2ec0f3;try{if(firstRun){log(_0x5c4d34(0x168),_0x5c4d34(0x1dd),null,'c','*'),taskQueue=new a0_0x2c252d({'concurrency':maxTask}),tasksDataBuffer=new SharedArrayBuffer(_0x5c1024[_0x5c4d34(0x1ad)]*0x4),tasksData=new Int32Array(tasksDataBuffer);for(var _0x19305c=0x0;_0x19305c<tasksData[_0x5c4d34(0x1ad)];_0x19305c++){Atomics[_0x5c4d34(0x1a8)](tasksData,_0x19305c,0x2);}firstRun=![],taskStatus=new Map();let _0x2f2b46=0x0;for(const [_0x186f70,_0xbabd99]of _0x5c1024){_0x186f70<parseInt(getAllProfiles['maxTask'])&&(_0x2f2b46+=parseInt(_0xbabd99[_0x5c4d34(0x1bc)]));}screenDataBuffer=new SharedArrayBuffer((parseInt(_0x2f2b46)*0x3+0xd)*0x4),screenData=new Int32Array(screenDataBuffer);let _0x1745c0=[];for(let _0x451b5f=0x0;_0x451b5f<parseInt(getAllProfiles[_0x5c4d34(0x17b)]);_0x451b5f++){const _0x239410=getAllProfiles[_0x5c4d34(0x179)]['split']('x');_0x1745c0[_0x5c4d34(0x15e)]({'width':parseInt(_0x239410[0x0]),'height':parseInt(_0x239410[0x1])});}const _0x59b3d4=getAllProfiles[_0x5c4d34(0x16c)]['split']('x'),_0x247b05=parseInt(_0x59b3d4[0x0]),_0x37bcc5=parseInt(_0x59b3d4[0x1]),_0x215eaa=_0x2f2b46,_0x4be7ee=_0x1745c0[_0x5c4d34(0x184)]((_0x2a5a24,_0x3db83a)=>_0x2a5a24+_0x3db83a[_0x5c4d34(0x1db)],0x0),_0xa089f=Math[_0x5c4d34(0x1cb)](..._0x1745c0[_0x5c4d34(0x14b)](_0x4c9703=>_0x4c9703['height'])),_0x50d3b6=await calScreenArr(_0x247b05,_0x37bcc5,_0x4be7ee,_0xa089f,_0x2f2b46);screenData=_0x50d3b6[_0x5c4d34(0x1c1)],log(_0x5c4d34(0x168),_0x5c4d34(0x199)+getAllProfiles[_0x5c4d34(0x17b)],null,'w'),log(_0x5c4d34(0x168),_0x5c4d34(0x1d2)+_0x4be7ee+'x'+_0xa089f,null,'w'),log(_0x5c4d34(0x168),_0x5c4d34(0x1c4)+_0x50d3b6[_0x5c4d34(0x1d1)]+_0x5c4d34(0x15b)+_0x50d3b6['cols'],null,'w'),log(_0x5c4d34(0x168),_0x5c4d34(0x1d7)+_0x50d3b6['scale'],null,'w'),log(_0x5c4d34(0x168),'[processTasks]:\x20screens:'+getAllProfiles[_0x5c4d34(0x17b)]+_0x5c4d34(0x145)+getAllProfiles[_0x5c4d34(0x179)],null,'w'),await delay(0x3e8);}const _0x4ca77d=[];for(const [_0x55ad7c,_0x33673e]of _0x5c1024){_0x33673e['taskIndex']=_0x55ad7c;const _0x28c386=await genlogin[_0x5c4d34(0x153)](_0x5c4d34(0x168));log(_0x5c4d34(0x168),_0x5c4d34(0x19b)+_0x28c386[_0x5c4d34(0x16d)],null,'i'),log('main',_0x5c4d34(0x19a)+_0x33673e[_0x5c4d34(0x1d4)],null,'i'),log(_0x5c4d34(0x168),'[processTasks]:\x20task.status:\x20'+_0x33673e[_0x5c4d34(0x186)],null,'i'),log('main',_0x5c4d34(0x170)+_0x28c386['timestamp']+'|'+(parseInt(_0x33673e[_0x5c4d34(0x1d4)])+parseInt(_0x33673e[_0x5c4d34(0x1b5)]))+'|'+parseInt(_0x33673e[_0x5c4d34(0x186)]),null,'w');if(_0x28c386[_0x5c4d34(0x16d)]>=_0x33673e[_0x5c4d34(0x1d4)]&&parseInt(_0x33673e[_0x5c4d34(0x186)])===0x0){log(_0x5c4d34(0x168),'[processTasks]:\x20Thêm\x20task\x20'+_0x33673e[_0x5c4d34(0x19d)]+_0x5c4d34(0x14d),null,'i'),taskStatus[_0x5c4d34(0x15f)](_0x33673e[_0x5c4d34(0x19d)],_0x5c4d34(0x150));const _0x188a47=await updateTask(_0x33673e[_0x5c4d34(0x19d)],{'status':0x1,'nextRun':0x1});_0x4ca77d[_0x5c4d34(0x15e)](taskQueue[_0x5c4d34(0x14e)](()=>processTask(_0x33673e))),taskStatus['set'](_0x33673e[_0x5c4d34(0x19d)],_0x5c4d34(0x1be)),await delay(0x7d0);}else{if(_0x28c386[_0x5c4d34(0x16d)]>parseInt(_0x33673e[_0x5c4d34(0x1d4)])+parseInt(_0x33673e[_0x5c4d34(0x1b5)])&&parseInt(_0x33673e[_0x5c4d34(0x186)])===0x1&&(taskStatus['get'](_0x33673e[_0x5c4d34(0x19d)])==='completed'||!taskStatus['has'](_0x33673e['name']))){log('main',_0x5c4d34(0x164)+_0x33673e[_0x5c4d34(0x19d)]+_0x5c4d34(0x1b1)+_0x33673e[_0x5c4d34(0x1b0)],null,'w','*');const _0x33c7a2=await updateTask(_0x33673e[_0x5c4d34(0x19d)],{'status':0x0,'nextRun':0x1});log('main','[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20'+_0x33673e[_0x5c4d34(0x19d)],null,'i','*');}}}return _0x4ca77d[_0x5c4d34(0x1ad)]>0x0?!![]:(log(_0x5c4d34(0x168),_0x5c4d34(0x1a6),null,'w'),null);}catch(_0x12b1ae){return log('main',_0x5c4d34(0x16a)+_0x12b1ae,null,![]),null;}}async function processTask(_0x2a9e6b){const _0x18c2c8=a0_0x2ec0f3;try{log(_0x18c2c8(0x168),_0x18c2c8(0x19f)+_0x2a9e6b[_0x18c2c8(0x19d)],null,'i','=');if(!_0x2a9e6b||typeof _0x2a9e6b!==_0x18c2c8(0x188))throw new Error('Task\x20phải\x20là\x20một\x20đối\x20tượng');const _0x3b0754=createWorkerPromise(_0x2a9e6b),_0x22a31b=await _0x3b0754;log(_0x18c2c8(0x168),'[processTask]:\x20DONE\x20TASK\x20'+_0x2a9e6b['name'],null,'w','DT');const _0x233625=await updateTask(_0x2a9e6b[_0x18c2c8(0x19d)],{'status':0x0,'nextRun':0x1});return taskStatus['set'](_0x2a9e6b[_0x18c2c8(0x19d)],'completed'),await delay(0x1388),_0x22a31b;}catch(_0x4b3c8b){return log(_0x18c2c8(0x168),_0x18c2c8(0x14c)+_0x4b3c8b,null,![]),await updateTask(_0x2a9e6b[_0x18c2c8(0x19d)],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x14cbf1){const _0x2d0325=a0_0x2ec0f3;return log('main',_0x2d0325(0x1c9)+_0x14cbf1[_0x2d0325(0x19d)],null,'i','-'),new Promise(async(_0x49bcfc,_0x2b70a8)=>{const _0x4120a8=_0x2d0325;let _0x1389d5;try{if(!_0x14cbf1||typeof _0x14cbf1!==_0x4120a8(0x188))return _0x2b70a8(new Error('Task\x20phải\x20là\x20một\x20đối\x20tượng'));const _0x339784=_0x14cbf1[_0x4120a8(0x16f)]===_0x4120a8(0x14f)?_0x4120a8(0x17c):_0x4120a8(0x1b7);_0x1389d5=await spawn(new Worker(_0x339784)),log(_0x4120a8(0x168),_0x4120a8(0x1a7)+_0x339784,null,'i');if(!_0x1389d5)return _0x2b70a8(new Error(_0x4120a8(0x169)));const _0x390867=parseInt(_0x14cbf1[_0x4120a8(0x1b5)])*0x3e8;if(isNaN(_0x390867))return _0x2b70a8(new Error(_0x4120a8(0x171)));const _0xd185d3=setTimeout(async()=>{const _0x369c4e=_0x4120a8;log(_0x369c4e(0x168),'[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20'+_0x14cbf1[_0x369c4e(0x19d)],null,'w',_0x369c4e(0x1a1)),await eTimeout(_0x14cbf1[_0x369c4e(0x18d)]),xoaTimeout(_0xd185d3),await _0x1389d5[_0x369c4e(0x191)]({'timeout':!![],'task':_0x14cbf1,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'tele_id':tele_id});},_0x390867);log('main','[createWorkerPromise]:\x20'+_0x14cbf1[_0x4120a8(0x19d)]+_0x4120a8(0x1e0)+_0x390867+_0x4120a8(0x175)+_0xd185d3,null,'w');const _0x18b993=async _0x1d4a7f=>{const _0xc466dd=_0x4120a8;try{if(_0x1d4a7f[_0xc466dd(0x1bb)]){log(_0xc466dd(0x168),_0xc466dd(0x144)+_0x14cbf1[_0xc466dd(0x19d)],null,'i'),xoaTimeout(_0xd185d3),_0x49bcfc(!![]);return;}else{if(!_0x1d4a7f[_0xc466dd(0x1bb)]){log('main',_0xc466dd(0x146)+_0x14cbf1['name']+':\x20'+_0x1d4a7f[_0xc466dd(0x19e)],null,![]),_0x2b70a8(new Error(_0x1d4a7f[_0xc466dd(0x19e)]||_0xc466dd(0x185)));return;}else{log(_0xc466dd(0x168),_0xc466dd(0x159)+_0x14cbf1['name']+':\x20'+json(_0x1d4a7f),null,'c','x'),log(_0xc466dd(0x168),_0xc466dd(0x16b)+_0x14cbf1[_0xc466dd(0x19d)]+':\x20'+_0x1d4a7f[_0xc466dd(0x19e)],null,![]),_0x2b70a8(new Error(_0x1d4a7f['error']||_0xc466dd(0x185)));return;}}}catch(_0xd31d50){log(_0xc466dd(0x168),'[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20'+_0x14cbf1[_0xc466dd(0x19d)]+':\x20'+_0xd31d50['message'],null,![]),xoaTimeout(_0xd185d3),_0x2b70a8(_0xd31d50);return;}},_0x48dbde=new Promise(async(_0x7153a6,_0x3e23e4)=>{try{const _0x32b11d=await _0x1389d5['worker1']({'version0':version,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'task':_0x14cbf1,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame,'tele_id':tele_id}),_0x10a95c=await _0x18b993(_0x32b11d);_0x7153a6(_0x10a95c);}catch(_0x1c94cd){_0x3e23e4(_0x1c94cd);}}),_0xb977a9=await Promise[_0x4120a8(0x1b8)]([_0x48dbde]);log(_0x4120a8(0x168),_0x4120a8(0x1c5)+json(_0xb977a9),null,'w','@'),log(_0x4120a8(0x168),_0x4120a8(0x1b4),null,'w','-');_0x1389d5&&Thread[_0x4120a8(0x1c0)]in _0x1389d5?await Thread['terminate'](_0x1389d5):log(_0x4120a8(0x168),'[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:',null,![],'x');_0x49bcfc(_0xb977a9);return;}catch(_0x535f9a){log(_0x4120a8(0x168),_0x4120a8(0x1ab)+_0x535f9a[_0x4120a8(0x15c)],null,![]),_0x1389d5&&Thread[_0x4120a8(0x1c0)]in _0x1389d5?await Thread[_0x4120a8(0x1c0)](_0x1389d5):log(_0x4120a8(0x168),'[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:',null,![],'x'),_0x2b70a8(_0x535f9a);}});}async function updateTask(_0x19c8ed,_0x409016){const _0x4ad8f7=a0_0x2ec0f3;if(!http||typeof http[_0x4ad8f7(0x165)]!==_0x4ad8f7(0x1a3)){log('main',_0x4ad8f7(0x181),null,![]);return;}return log('main',_0x4ad8f7(0x1b2)+_0x19c8ed+_0x4ad8f7(0x1cd)+_0x409016[_0x4ad8f7(0x186)]+'|'+_0x409016[_0x4ad8f7(0x17d)],null,'i'),await http['updateTask'](_0x4ad8f7(0x168),_0x19c8ed,_0x409016);}async function processProfile(_0x39ae94){const _0xbfbed4=a0_0x2ec0f3;console[_0xbfbed4(0x16e)]('main','Processing\x20profile:\x20'+_0x39ae94['name']);const _0x258c4e=_0x39ae94[_0xbfbed4(0x1aa)];for(const _0x5f2bbf of _0x258c4e){await gameQueue[_0xbfbed4(0x14e)](()=>processGame(_0x5f2bbf));}}async function getRunningTasks(_0x3e951a,_0x47b0ca){const _0x46ffb3=a0_0x2ec0f3,_0xb9d04d=[];for(const [_0x10b65d,_0x37819]of _0x3e951a[_0x46ffb3(0x1ca)]()){_0x37819===_0x37819&&_0xb9d04d[_0x46ffb3(0x15e)](_0x10b65d);}return _0xb9d04d;}async function calScreenArr(_0x3bc9cc,_0x1dba2a,_0x53340f,_0x29549a,_0x3ed0b3,_0x4d529b=0x1){const _0x49cdb2=a0_0x2ec0f3,_0x244d44=0x0;let _0x46e2d4=_0x3bc9cc,_0x5056f5=_0x1dba2a,_0x5754d9,_0x3dfc34,_0x187d5b=0x1;while(!![]){_0x3dfc34=Math['floor'](_0x53340f/_0x46e2d4),_0x5754d9=Math['ceil'](_0x3ed0b3/_0x3dfc34);if(_0x5754d9*_0x5056f5<=_0x29549a)break;_0x187d5b*=0.95,_0x46e2d4=Math[_0x49cdb2(0x1d6)](_0x3bc9cc*_0x187d5b),_0x5056f5=Math['floor'](_0x1dba2a*_0x187d5b);}_0x46e2d4=Math[_0x49cdb2(0x1d6)](_0x46e2d4*1.26);const _0x4885aa=[];let _0x240562=0x0;for(let _0x5e7084=0x0;_0x5e7084<_0x4d529b;_0x5e7084++){const _0xb9b518=Math['round'](_0x187d5b*0xf4240);Atomics['store'](screenData,0x0,_0x5e7084),Atomics['store'](screenData,0x1,_0xb9b518),Atomics[_0x49cdb2(0x1a8)](screenData,0x2,_0x3bc9cc),Atomics[_0x49cdb2(0x1a8)](screenData,0x3,_0x1dba2a),Atomics[_0x49cdb2(0x1a8)](screenData,0x4,_0x46e2d4),Atomics['store'](screenData,0x5,_0x5056f5);let _0x3af6f7=0xa;for(let _0x586bb0=0x0;_0x586bb0<_0x5754d9;_0x586bb0++){const _0x331dbe=[];for(let _0x908915=0x0;_0x908915<_0x3dfc34;_0x908915++){if(_0x240562>=_0x3ed0b3)break;const _0x4e6ce3=Math['floor'](_0x908915*_0x46e2d4),_0x2c7ba0=Math[_0x49cdb2(0x1d6)](_0x586bb0*_0x5056f5);if(_0x4e6ce3>_0x53340f||_0x2c7ba0>_0x29549a)continue;Atomics[_0x49cdb2(0x1a8)](screenData,_0x3af6f7++,0x2),Atomics[_0x49cdb2(0x1a8)](screenData,_0x3af6f7++,_0x4e6ce3),Atomics[_0x49cdb2(0x1a8)](screenData,_0x3af6f7++,_0x2c7ba0),_0x240562++;}if(_0x240562>=_0x3ed0b3)break;}break;}return{'screenData':screenData,'scale':_0x187d5b,'rows':_0x5754d9,'cols':_0x3dfc34,'total':_0x240562,'positions':_0x4885aa};}async function xoaTimeout(_0x425aaa){const _0x11354b=a0_0x2ec0f3;try{clearTimeout(_0x425aaa),log(_0x11354b(0x168),_0x11354b(0x1c7)+_0x425aaa,null,'w',_0x11354b(0x196));}catch(_0x49c036){log(_0x11354b(0x168),_0x11354b(0x174)+_0x49c036,null,![]);}}async function delay(_0x5a48fc){return new Promise(_0x3cda97=>{setTimeout(_0x3cda97,_0x5a48fc);});}async function eTimeout(_0x374c4d){const _0x973249=a0_0x2ec0f3;return log(_0x973249(0x168),'[eTimeout]main:\x20turn\x20on\x20timeout\x20flag',null,'w'),Atomics[_0x973249(0x1a8)](tasksData,_0x374c4d,0x1),!![];}async function rstTimeout(_0x20cd58){const _0x21f4d4=a0_0x2ec0f3;return log(_0x21f4d4(0x168),_0x21f4d4(0x18a),null,'w'),Atomics['compareExchange'](tasksData,_0x20cd58,0x1,0x2),!![];}async function closeGenlogin(){const _0x53b101=a0_0x2ec0f3;try{log('main',_0x53b101(0x1bf),null,'w','-'),exec('taskkill\x20/IM\x20genLogin.exe\x20/F',(_0x563e88,_0x52c2e5,_0x25e90f)=>{const _0x3784b2=_0x53b101;if(_0x563e88){log(_0x3784b2(0x168),_0x3784b2(0x180)+_0x563e88[_0x3784b2(0x15c)],null,![]);return;}if(_0x25e90f){log(_0x3784b2(0x168),_0x3784b2(0x192)+_0x25e90f,null,![]);return;}log(_0x3784b2(0x168),'tắt\x20genlogin\x20ok');});}catch(_0x52f729){log('main','closeGenlogin:\x20'+_0x52f729,null,![]);}}async function checkUpdate(){const _0x245810=a0_0x2ec0f3;try{const _0x1294d3=_0x245810(0x1a0),_0x5dd26d=a0_0x70e41b[_0x245810(0x18f)](process[_0x245810(0x17e)](),'package.json'),_0x17d546=await a0_0x2391b5[_0x245810(0x1da)][_0x245810(0x183)](_0x5dd26d,'utf-8'),_0x2e68e8=JSON['parse'](_0x17d546),_0x159e74=_0x2e68e8[_0x245810(0x19c)];log('main',_0x245810(0x160)+_0x159e74,null,'w','-');const _0xdfefaf=await http['httpGet'](_0x245810(0x168),_0x1294d3);await delay(0x3e8);if(_0xdfefaf)try{const _0x293370=typeof _0xdfefaf===_0x245810(0x143)?JSON['parse'](_0xdfefaf):_0xdfefaf,_0x2417b1=_0x293370[_0x245810(0x19c)];await delay(0x3e8),_0x2417b1!=_0x159e74?(log(_0x245810(0x168),_0x245810(0x157)+_0x2417b1,null,'w'),tele_id&&tele_id[_0x245810(0x182)]&&await http['tele'](_0x245810(0x168),tele_id[_0x245810(0x182)],_0x245810(0x1ba)+_0x2417b1)):log(_0x245810(0x168),_0x245810(0x1cc),null,'w');}catch(_0x5f5ad7){log(_0x245810(0x168),_0x245810(0x1c6)+_0x5f5ad7[_0x245810(0x15c)],null,![]);}return _0x159e74;}catch(_0x7fb882){return log('main',_0x245810(0x15d)+_0x7fb882,null,![]),null;}}