const a0_0x4f3314=a0_0x220f;(function(_0x3012da,_0x2008fa){const _0x1d6db7=a0_0x220f,_0x47755f=_0x3012da();while(!![]){try{const _0xa2a96=parseInt(_0x1d6db7(0x138))/0x1+parseInt(_0x1d6db7(0xe3))/0x2*(-parseInt(_0x1d6db7(0x11b))/0x3)+-parseInt(_0x1d6db7(0xff))/0x4+parseInt(_0x1d6db7(0x158))/0x5+parseInt(_0x1d6db7(0x103))/0x6+-parseInt(_0x1d6db7(0x146))/0x7+-parseInt(_0x1d6db7(0x14c))/0x8;if(_0xa2a96===_0x2008fa)break;else _0x47755f['push'](_0x47755f['shift']());}catch(_0x57664b){_0x47755f['push'](_0x47755f['shift']());}}}(a0_0x10f2,0xe5b6b));import'dotenv/config';import a0_0x5ecb51 from'os';function a0_0x10f2(){const _0xd61c08=['name','[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20','[main]\x20Task\x20Status:\x20','\x20treo\x20đang\x20chạy\x20từ\x20','TA\x20ĐI\x20ĐÂY','push','Start\x20App:\x20','env','1814544zSecCF','games','Chờ\x2060\x20giây','dirname','8370420ITIRan','Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro','message','[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20','ceil','Lỗi\x20while:\x20','scale','screenData','now','completed','.genlogin','heapUsed','Heap\x20Used:\x20','toFixed','closeGenlogin:\x20','\x20with\x20data:\x20','screenWidthHeight','SERVER_HOST','version','Task\x20phải\x20là\x20một\x20đối\x20tượng','Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị','reduce','api','[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20','3sUeLwn','maxTime','worker1','maxTask','genDataProfiles','length','taskkill\x20/IM\x20genLogin.exe\x20/F','Lỗi\x20App\x20genlogin\x20nhé\x20bro!','No\x20task\x20found','Memory','Stderr:\x20','\x20task\x20đang\x20chạy','tắt\x20genlogin\x20ok','genProfiles','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20','object','Tự\x20động\x20tắt\x20genlogin','[processTasks]:\x20Phát\x20Hiện\x20','nextrunstamp','\x20MB','Users','[xoaTimeout]main:\x20','\x20Lỗi\x20','LongCAutoAirdrop','[eTimeout]main:\x20reset\x20timeout','entries','[processTasks]:\x20screens:','getListProfiles','status','1289685amqRDZ','profileThreads','function','Không\x20thể\x20tạo\x20worker','Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20','[processTask]:\x20Xử\x20lý\x20task:\x20','memoryUsage','promises','APIKEY','taskMode','getAllProfiles','cwd','rows','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20','10642394sLaOzl','tele_id','checkbox','https://raw.githubusercontent.com/resistor3300/longCTools/refs/heads/main/package.json','[processTasks]:\x20Thêm\x20task\x20','userInfo','2982688QpHAnE','httpGet','./workerBrowser.js','Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ','[checkUpdate]\x20Lỗi\x20parse\x20JSON:\x20','Processing\x20profile:\x20','[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:','[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý','\x20rồi\x20bro!','APIKEY\x20not\x20found!','[processTask]:\x20DONE\x20TASK\x20','[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20','7323930ytZrDI','Lỗi\x20không\x20xác\x20định','./worker-api1.js','|screenWidthHeight:','tự\x20động\x20sắp\x20xếp\x20vị\x20trí\x20hiển\x20thị\x20trình\x20duyệt\x20','Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy','Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro','[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','username','profiles','chờ\x2030\x20giây\x20rồi\x20thử\x20lại','string','join','error','[checkUpdate]Có\x20phiên\x20bản\x20mới:\x20','set','Số\x20lượng\x20task\x20chạy\x20song\x20song','updateTask','running','catch','compareExchange','url','Garbage\x20Collector\x20đã\x20chạy!','Running\x20Task:','Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro',',\x20mỗi\x20cột:\x20','add','Lỗi:\x20','browserWidthHeight','OK\x20rồi\x20man.\x20tắt\x20genlogin\x20đi\x20bro','readFile','clrTimeout','[createWorkerPromise]:\x20','tọa\x20độ\x20hiển\x20thị\x20trình\x20duyệt\x20','taskIndex','input','\x20vào\x20hàng\x20đợi','width','Đã\x20có\x20phiên\x20bản\x20mới:\x20','[processTasks]:\x20task.status:\x20','success','package.json','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task','\x20nè\x20bro!','nowTime','terminate','utf-8','log','timestamp','\x20Timeout\x20ID:\x20','\x20set\x20timeout:\x20','[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20','rss','split','pending','value','store','Bộ\x20nhớ\x20vượt\x20quá\x201GB!\x20Thu\x20hồi...','substring','[processTasks]:','Lỗi\x20chung:\x20','1723640xPjSfG','kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20','map','[checkUpdate]Bạn\x20đang\x20chạy\x20phiên\x20bản\x20mới\x20nhất','screens','[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20','race','[checkUpdate]Lỗi\x20khi\x20đọc\x20file\x20package.json:\x20','floor','nextRun','getTeleId','size','main','max','\x20MB,\x20RSS:\x20','400x900','parse','get','chưa\x20có\x20task\x20mới','tele'];a0_0x10f2=function(){return _0xd61c08;};return a0_0x10f2();}import a0_0x17fe0a from'fs';import a0_0x2a5bbf from'path';import{fileURLToPath}from'url';import a0_0xe30e0c from'./modules/Genlogin.js';import a0_0x3a4a88 from'./modules/http.js';import{log,json}from'./modules/logger.js';import a0_0x1673a2 from'node-machine-id';import{spawn,Thread,Worker}from'threads';import{exec}from'child_process';import a0_0x40c8af from'p-queue';let tasksDataBuffer,tasksData,screenData,screenDataBuffer;const __filename=fileURLToPath(import.meta[a0_0x4f3314(0x16d)]),__dirname=a0_0x2a5bbf[a0_0x4f3314(0x102)](__filename),{machine_id,machineIdSync}=a0_0x1673a2,machineId=machineIdSync()[a0_0x4f3314(0xe0)](0x0,0x8),appName=a0_0x4f3314(0x132)+'-'+machineId,nameFile=a0_0x4f3314(0x128)+'-'+machineId,genDataFile=a0_0x4f3314(0x11f)+'-'+machineId,appSetings={'maxTaskThreads':{'type':a0_0x4f3314(0xc9),'value':0x3,'note':a0_0x4f3314(0x168)},'screens':{'type':a0_0x4f3314(0xc9),'value':0x1,'note':a0_0x4f3314(0x117)},'screenWidthHeight':{'type':'input','value':'1920x1080','note':'độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20'},'browserWidthHeight':{'type':'input','value':a0_0x4f3314(0xf2),'note':a0_0x4f3314(0xe4)},'autoSetBrowserPosition':{'type':a0_0x4f3314(0x148),'value':'y','note':a0_0x4f3314(0x15c)},'customBrowserPosition':{'type':a0_0x4f3314(0xc9),'value':'0x0','note':a0_0x4f3314(0xc7)},'genDataFolder':{'type':a0_0x4f3314(0xc9),'value':a0_0x2a5bbf[a0_0x4f3314(0x164)]('C:',a0_0x4f3314(0x12f),a0_0x5ecb51[a0_0x4f3314(0x14b)]()[a0_0x4f3314(0x160)],a0_0x4f3314(0x10d)),'note':'thư\x20mục\x20chứa\x20data\x20genlogin'}};let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,firstRun=!![],appStatus=0x0,tele_id,version,prevTime;async function main(){const _0x433bc3=a0_0x4f3314;try{log(_0x433bc3(0xef),_0x433bc3(0xfd)+appName,null,'w','='),await delay(0x3e8);if(!process[_0x433bc3(0xfe)][_0x433bc3(0x140)]){log('main',_0x433bc3(0x155),null,![]),log('main','Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro',null,'w'),log(_0x433bc3(0xef),_0x433bc3(0x170),null,'w'),log(_0x433bc3(0xef),'BYE\x20BYE',null,'w'),log('main',_0x433bc3(0xfb),null,'w','=');return;}genlogin=new a0_0xe30e0c('',!![]),http=new a0_0x3a4a88(process[_0x433bc3(0xfe)][_0x433bc3(0x114)],process['env'][_0x433bc3(0x140)],!![]),tele_id=await http[_0x433bc3(0xed)](_0x433bc3(0xef)),version=await checkUpdate(),prevTime=Date[_0x433bc3(0x10b)]();tele_id[_0x433bc3(0x147)]&&await http[_0x433bc3(0xf6)]('main',tele_id[_0x433bc3(0x147)],_0x433bc3(0xfd)+appName+_0x433bc3(0xd1));let _0x2503b1,_0x5cb231=0x1,_0x37df33=0x1,_0x457550=0x0,_0x478a22;while(!![]){try{appStatus=0x1;if(_0x5cb231){if(!_0x457550){GenDataProfile=null;_0x37df33&&(_0x478a22=null,_0x478a22=await genlogin[_0x433bc3(0x136)](_0x433bc3(0xef)));if(!_0x478a22||!_0x37df33){const _0x7d254d=await http[_0x433bc3(0x11f)](_0x433bc3(0xef),genDataFile);!_0x7d254d[_0x433bc3(0xdd)]?(log('main',_0x433bc3(0x15e),null,'w'),log('main',_0x433bc3(0x104),null,'w'),log(_0x433bc3(0xef),''+_0x7d254d['error'],null,![]),log(_0x433bc3(0xef),_0x433bc3(0x162),null,'i'),tele_id&&tele_id['tele_id']&&await http['tele'](_0x433bc3(0xef),tele_id[_0x433bc3(0x147)],_0x433bc3(0x122))):GenDataProfile=_0x7d254d[_0x433bc3(0xdd)];}else{GenDataProfile=await _0x478a22[_0x433bc3(0x161)],await http[_0x433bc3(0x11f)](_0x433bc3(0xef),genDataFile,GenDataProfile),_0x37df33=0x0;continue;}}if(await genlogin['getListProfiles'](_0x433bc3(0xef))){log(_0x433bc3(0xef),_0x433bc3(0xc3),null,'w'),_0x457550=0x1,await closeGenlogin(),await delay(0xbb8);continue;}_0x5cb231=0x0;}await delay(0x3e8),getAllProfiles=await http[_0x433bc3(0x142)]('main',appName,nameFile,GenDataProfile,appSetings);if(!getAllProfiles[_0x433bc3(0xdd)]||!getAllProfiles||getAllProfiles[_0x433bc3(0xdd)][_0x433bc3(0x120)]<=0x0){log(_0x433bc3(0xef),_0x433bc3(0x15d),null,![]),log(_0x433bc3(0xef),_0x433bc3(0x162),null,'i');throw new Error(_0x433bc3(0x123));}log('main','getAllProfiles.value\x20OK');const _0x47458c=Object[_0x433bc3(0x134)](getAllProfiles[_0x433bc3(0xdd)]);maxTask=parseInt(getAllProfiles['maxTask']);const _0x719fb9=await processTasks(_0x47458c);if(taskQueue[_0x433bc3(0xdc)]>0x0){const _0x1ff96c=await getRunningTasks(taskStatus,_0x433bc3(0x16a));log(_0x433bc3(0xef),taskQueue[_0x433bc3(0xee)]+'\x20task\x20trong\x20hàng\x20đợi',null,'w'),log(_0x433bc3(0xef),taskQueue['pending']+_0x433bc3(0x126),null,'w'),log(_0x433bc3(0xef),_0x433bc3(0x16f)+_0x1ff96c,null,'w');}else!_0x719fb9&&log(_0x433bc3(0xef),_0x433bc3(0xf5),null,'w');log(_0x433bc3(0xef),_0x433bc3(0xf9)+Array['from'](taskStatus[_0x433bc3(0x134)]()),null,'c'),log('main','Kiểm\x20tra\x20task\x20sau\x2060\x20giây',null,'i'),Date[_0x433bc3(0x10b)]()-prevTime>=0x5265c00&&(prevTime=Date[_0x433bc3(0x10b)](),checkUpdate()),logMemoryUsage(),getAllProfiles=null,await delay(0x7530);}catch(_0x284180){log(_0x433bc3(0xef),_0x433bc3(0x108)+_0x284180,null,![]),log(_0x433bc3(0xef),_0x433bc3(0x101),null,'i'),tele_id&&tele_id[_0x433bc3(0x147)]&&await http['tele'](_0x433bc3(0xef),tele_id['tele_id'],appName+_0x433bc3(0x131)+_0x284180+_0x433bc3(0x154)),await delay(0x7530);}}}catch(_0x4c3308){log(_0x433bc3(0xef),_0x433bc3(0xe2)+_0x4c3308,null,![]),appStatus=0x0;}}main()[a0_0x4f3314(0x16b)](console[a0_0x4f3314(0x165)]);async function processTasks(_0x40bdb8){const _0x4846e8=a0_0x4f3314;try{if(firstRun){log(_0x4846e8(0xef),'[processTasks]:\x20FirstRun',null,'c','*'),taskQueue=new a0_0x40c8af({'concurrency':maxTask}),tasksDataBuffer=new SharedArrayBuffer(_0x40bdb8[_0x4846e8(0x120)]*0x4),tasksData=new Int32Array(tasksDataBuffer);for(var _0x52961e=0x0;_0x52961e<tasksData[_0x4846e8(0x120)];_0x52961e++){Atomics[_0x4846e8(0xde)](tasksData,_0x52961e,0x2);}firstRun=![],taskStatus=new Map();let _0x157338=0x0;for(const [_0x537a40,_0x141ba0]of _0x40bdb8){_0x537a40<parseInt(getAllProfiles[_0x4846e8(0x11e)])&&(_0x157338+=parseInt(_0x141ba0[_0x4846e8(0x139)]));}screenDataBuffer=new SharedArrayBuffer((parseInt(_0x157338)*0x3+0xd)*0x4),screenData=new Int32Array(screenDataBuffer);let _0x4b8e02=[];for(let _0x316f0f=0x0;_0x316f0f<parseInt(getAllProfiles[_0x4846e8(0xe7)]);_0x316f0f++){const _0x4181ef=getAllProfiles[_0x4846e8(0x113)][_0x4846e8(0xdb)]('x');_0x4b8e02[_0x4846e8(0xfc)]({'width':parseInt(_0x4181ef[0x0]),'height':parseInt(_0x4181ef[0x1])});}const _0x555363=getAllProfiles[_0x4846e8(0xc2)][_0x4846e8(0xdb)]('x'),_0x7194e2=parseInt(_0x555363[0x0]),_0x57bc4d=parseInt(_0x555363[0x1]),_0x7310be=_0x157338,_0x79c8c=_0x4b8e02[_0x4846e8(0x118)]((_0x4500ac,_0x1d9637)=>_0x4500ac+_0x1d9637[_0x4846e8(0xcb)],0x0),_0x17fa1e=Math[_0x4846e8(0xf0)](..._0x4b8e02[_0x4846e8(0xe5)](_0x53cdc4=>_0x53cdc4['height'])),_0x25967a=await calScreenArr(_0x7194e2,_0x57bc4d,_0x79c8c,_0x17fa1e,_0x157338);screenData=_0x25967a[_0x4846e8(0x10a)],log(_0x4846e8(0xef),'số\x20màn\x20hình:\x20'+getAllProfiles['screens'],null,'w'),log('main',_0x4846e8(0x129)+_0x79c8c+'x'+_0x17fa1e,null,'w'),log(_0x4846e8(0xef),_0x4846e8(0x13c)+_0x25967a[_0x4846e8(0x144)]+_0x4846e8(0xbf)+_0x25967a['cols'],null,'w'),log(_0x4846e8(0xef),'Tỷ\x20lệ\x20thu\x20nhỏ:\x20'+_0x25967a[_0x4846e8(0x109)],null,'w'),log('main',_0x4846e8(0x135)+getAllProfiles[_0x4846e8(0xe7)]+_0x4846e8(0x15b)+getAllProfiles[_0x4846e8(0x113)],null,'w'),await delay(0x3e8);}const _0x4cc248=[];for(const [_0x4ae284,_0x3d7433]of _0x40bdb8){_0x3d7433[_0x4846e8(0xc8)]=_0x4ae284;const _0xffc5ed=await genlogin[_0x4846e8(0xd2)](_0x4846e8(0xef));log(_0x4846e8(0xef),'[processTasks]:\x20currentTime.timestamp:\x20'+_0xffc5ed[_0x4846e8(0xd6)],null,'i'),log(_0x4846e8(0xef),'[processTasks]:\x20task.nextrunstamp:\x20'+_0x3d7433[_0x4846e8(0x12d)],null,'i'),log(_0x4846e8(0xef),_0x4846e8(0xcd)+_0x3d7433[_0x4846e8(0x137)],null,'i'),log(_0x4846e8(0xef),_0x4846e8(0xe1)+_0xffc5ed[_0x4846e8(0xd6)]+'|'+(parseInt(_0x3d7433['nextrunstamp'])+parseInt(_0x3d7433[_0x4846e8(0x11c)]))+'|'+parseInt(_0x3d7433['status']),null,'w');if(_0xffc5ed[_0x4846e8(0xd6)]>=_0x3d7433['nextrunstamp']&&parseInt(_0x3d7433['status'])===0x0){log(_0x4846e8(0xef),_0x4846e8(0x14a)+_0x3d7433['name']+_0x4846e8(0xca),null,'i'),taskStatus[_0x4846e8(0x167)](_0x3d7433['name'],_0x4846e8(0xdc));const _0x2fd360=await updateTask(_0x3d7433[_0x4846e8(0xf7)],{'status':0x1,'nextRun':0x1});_0x4cc248[_0x4846e8(0xfc)](taskQueue[_0x4846e8(0xc0)](()=>processTask(_0x3d7433))),taskStatus[_0x4846e8(0x167)](_0x3d7433[_0x4846e8(0xf7)],_0x4846e8(0x16a)),await delay(0x7d0);}else{if(_0xffc5ed[_0x4846e8(0xd6)]>parseInt(_0x3d7433[_0x4846e8(0x12d)])+parseInt(_0x3d7433[_0x4846e8(0x11c)])&&parseInt(_0x3d7433[_0x4846e8(0x137)])===0x1&&(taskStatus[_0x4846e8(0xf4)](_0x3d7433[_0x4846e8(0xf7)])===_0x4846e8(0x10c)||!taskStatus['has'](_0x3d7433[_0x4846e8(0xf7)]))){log(_0x4846e8(0xef),_0x4846e8(0x12c)+_0x3d7433[_0x4846e8(0xf7)]+_0x4846e8(0xfa)+_0x3d7433['nextrun'],null,'w','*');const _0x5a3c0f=await updateTask(_0x3d7433[_0x4846e8(0xf7)],{'status':0x0,'nextRun':0x1});log(_0x4846e8(0xef),_0x4846e8(0x106)+_0x3d7433[_0x4846e8(0xf7)],null,'i','*');}}}return _0x4cc248[_0x4846e8(0x120)]>0x0?!![]:(log(_0x4846e8(0xef),_0x4846e8(0x153),null,'w'),null);}catch(_0x47bb8d){return log('main','[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20'+_0x47bb8d,null,![]),null;}}async function processTask(_0x57ab3f){const _0x2de059=a0_0x4f3314;try{log(_0x2de059(0xef),_0x2de059(0x13d)+_0x57ab3f[_0x2de059(0xf7)],null,'i','=');if(!_0x57ab3f||typeof _0x57ab3f!=='object')throw new Error(_0x2de059(0x116));const _0x2850f6=createWorkerPromise(_0x57ab3f),_0x43e73c=await _0x2850f6;log(_0x2de059(0xef),_0x2de059(0x156)+_0x57ab3f['name'],null,'w','DT');const _0x32a791=await updateTask(_0x57ab3f[_0x2de059(0xf7)],{'status':0x0,'nextRun':0x1});return taskStatus['set'](_0x57ab3f[_0x2de059(0xf7)],_0x2de059(0x10c)),await delay(0x1388),_0x43e73c;}catch(_0x3f5891){return log(_0x2de059(0xef),_0x2de059(0x15f)+_0x3f5891,null,![]),await updateTask(_0x57ab3f['name'],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x4ccf9d){const _0x3002ea=a0_0x4f3314;return log('main',_0x3002ea(0xf8)+_0x4ccf9d[_0x3002ea(0xf7)],null,'i','-'),new Promise(async(_0x28227d,_0xd0735e)=>{const _0x1fbd24=_0x3002ea;let _0x5a1cb2;try{if(!_0x4ccf9d||typeof _0x4ccf9d!==_0x1fbd24(0x12a))return _0xd0735e(new Error(_0x1fbd24(0x116)));const _0x5dbc89=_0x4ccf9d[_0x1fbd24(0x141)]===_0x1fbd24(0x119)?_0x1fbd24(0x15a):_0x1fbd24(0x14e);_0x5a1cb2=await spawn(new Worker(_0x5dbc89)),log(_0x1fbd24(0xef),'[createWorkerPromise]:\x20'+_0x5dbc89,null,'i');if(!_0x5a1cb2)return _0xd0735e(new Error(_0x1fbd24(0x13b)));const _0x2a350d=parseInt(_0x4ccf9d['maxTime'])*0x3e8;if(isNaN(_0x2a350d))return _0xd0735e(new Error(_0x1fbd24(0x14f)));const _0x2ea43c=setTimeout(async()=>{const _0x1df7e5=_0x1fbd24;log(_0x1df7e5(0xef),_0x1df7e5(0x11a)+_0x4ccf9d[_0x1df7e5(0xf7)],null,'w','timeout'),await eTimeout(_0x4ccf9d['taskIndex']),xoaTimeout(_0x2ea43c),await _0x5a1cb2[_0x1df7e5(0x11d)]({'timeout':!![],'task':_0x4ccf9d,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'tele_id':tele_id});},_0x2a350d);log(_0x1fbd24(0xef),_0x1fbd24(0xc6)+_0x4ccf9d[_0x1fbd24(0xf7)]+_0x1fbd24(0xd8)+_0x2a350d+_0x1fbd24(0xd7)+_0x2ea43c,null,'w');const _0x4f5fb5=async _0xbc548=>{const _0x5434e3=_0x1fbd24;try{if(_0xbc548['success']){log('main',_0x5434e3(0x145)+_0x4ccf9d[_0x5434e3(0xf7)],null,'i'),xoaTimeout(_0x2ea43c),_0x28227d(!![]);return;}else{if(!_0xbc548[_0x5434e3(0xce)]){log(_0x5434e3(0xef),_0x5434e3(0x157)+_0x4ccf9d[_0x5434e3(0xf7)]+':\x20'+_0xbc548[_0x5434e3(0x165)],null,![]),_0xd0735e(new Error(_0xbc548[_0x5434e3(0x165)]||'Lỗi\x20không\x20xác\x20định'));return;}else{log(_0x5434e3(0xef),_0x5434e3(0xe8)+_0x4ccf9d['name']+':\x20'+json(_0xbc548),null,'c','x'),log(_0x5434e3(0xef),'[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20'+_0x4ccf9d[_0x5434e3(0xf7)]+':\x20'+_0xbc548[_0x5434e3(0x165)],null,![]),_0xd0735e(new Error(_0xbc548[_0x5434e3(0x165)]||_0x5434e3(0x159)));return;}}}catch(_0x4c7585){log('main',_0x5434e3(0xd9)+_0x4ccf9d[_0x5434e3(0xf7)]+':\x20'+_0x4c7585[_0x5434e3(0x105)],null,![]),xoaTimeout(_0x2ea43c),_0xd0735e(_0x4c7585);return;}},_0x3f8f77=new Promise(async(_0x286bd2,_0x59d65b)=>{try{const _0x56b8c2=await _0x5a1cb2['worker1']({'version0':version,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'task':_0x4ccf9d,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame,'tele_id':tele_id}),_0x31eda2=await _0x4f5fb5(_0x56b8c2);_0x286bd2(_0x31eda2);}catch(_0x5e1df5){_0x59d65b(_0x5e1df5);}}),_0x2e7a58=await Promise[_0x1fbd24(0xe9)]([_0x3f8f77]);log(_0x1fbd24(0xef),'[createWorkerPromise]:\x20main\x20'+json(_0x2e7a58),null,'w','@'),log(_0x1fbd24(0xef),'[createWorkerPromise]:\x20main\x20kết\x20thúc\x20worker',null,'w','-');_0x5a1cb2&&Thread[_0x1fbd24(0xd3)]in _0x5a1cb2?await Thread[_0x1fbd24(0xd3)](_0x5a1cb2):log(_0x1fbd24(0xef),_0x1fbd24(0x152),null,![],'x');_0x28227d(_0x2e7a58);return;}catch(_0x13c683){log(_0x1fbd24(0xef),'[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20'+_0x13c683[_0x1fbd24(0x105)],null,![]),_0x5a1cb2&&Thread[_0x1fbd24(0xd3)]in _0x5a1cb2?await Thread['terminate'](_0x5a1cb2):log('main',_0x1fbd24(0x152),null,![],'x'),_0xd0735e(_0x13c683);}});}async function updateTask(_0x1a8b21,_0x2b6d78){const _0x351a72=a0_0x4f3314;if(!http||typeof http['updateTask']!==_0x351a72(0x13a)){log(_0x351a72(0xef),_0x351a72(0xd0),null,![]);return;}return log(_0x351a72(0xef),'[updateTask]:\x20update\x20task\x20'+_0x1a8b21+_0x351a72(0x112)+_0x2b6d78[_0x351a72(0x137)]+'|'+_0x2b6d78[_0x351a72(0xec)],null,'i'),await http[_0x351a72(0x169)](_0x351a72(0xef),_0x1a8b21,_0x2b6d78);}async function processProfile(_0x29bf94){const _0x2c7bed=a0_0x4f3314;console[_0x2c7bed(0xd5)]('main',_0x2c7bed(0x151)+_0x29bf94[_0x2c7bed(0xf7)]);const _0x10cac7=_0x29bf94[_0x2c7bed(0x100)];for(const _0xaeba12 of _0x10cac7){await gameQueue[_0x2c7bed(0xc0)](()=>processGame(_0xaeba12));}}async function getRunningTasks(_0x27ccc2,_0x27f73a){const _0x109f27=a0_0x4f3314,_0x515f4e=[];for(const [_0x20f63a,_0x30eea5]of _0x27ccc2[_0x109f27(0x134)]()){_0x30eea5===_0x30eea5&&_0x515f4e[_0x109f27(0xfc)](_0x20f63a);}return _0x515f4e;}async function calScreenArr(_0x141ed2,_0x24f9e3,_0x4b119d,_0x2eeb4a,_0x36f47f,_0x5c8464=0x1){const _0x335f9e=a0_0x4f3314,_0x43f705=0x0;let _0x575860=_0x141ed2,_0x3c514b=_0x24f9e3,_0x5fc3db,_0x5e03a3,_0x2fef14=0x1;while(!![]){_0x5e03a3=Math[_0x335f9e(0xeb)](_0x4b119d/_0x575860),_0x5fc3db=Math[_0x335f9e(0x107)](_0x36f47f/_0x5e03a3);if(_0x5fc3db*_0x3c514b<=_0x2eeb4a)break;_0x2fef14*=0.95,_0x575860=Math[_0x335f9e(0xeb)](_0x141ed2*_0x2fef14),_0x3c514b=Math[_0x335f9e(0xeb)](_0x24f9e3*_0x2fef14);}_0x575860=Math['floor'](_0x575860*1.26);const _0xd13ccd=[];let _0x5b0629=0x0;for(let _0x44055d=0x0;_0x44055d<_0x5c8464;_0x44055d++){const _0x59a9aa=Math['round'](_0x2fef14*0xf4240);Atomics[_0x335f9e(0xde)](screenData,0x0,_0x44055d),Atomics['store'](screenData,0x1,_0x59a9aa),Atomics['store'](screenData,0x2,_0x141ed2),Atomics[_0x335f9e(0xde)](screenData,0x3,_0x24f9e3),Atomics[_0x335f9e(0xde)](screenData,0x4,_0x575860),Atomics[_0x335f9e(0xde)](screenData,0x5,_0x3c514b);let _0x5dfe0f=0xa;for(let _0x335986=0x0;_0x335986<_0x5fc3db;_0x335986++){const _0x59bbe4=[];for(let _0x36f3c1=0x0;_0x36f3c1<_0x5e03a3;_0x36f3c1++){if(_0x5b0629>=_0x36f47f)break;const _0x4d1388=Math['floor'](_0x36f3c1*_0x575860),_0x1c535c=Math[_0x335f9e(0xeb)](_0x335986*_0x3c514b);if(_0x4d1388>_0x4b119d||_0x1c535c>_0x2eeb4a)continue;Atomics[_0x335f9e(0xde)](screenData,_0x5dfe0f++,0x2),Atomics['store'](screenData,_0x5dfe0f++,_0x4d1388),Atomics[_0x335f9e(0xde)](screenData,_0x5dfe0f++,_0x1c535c),_0x5b0629++;}if(_0x5b0629>=_0x36f47f)break;}break;}return{'screenData':screenData,'scale':_0x2fef14,'rows':_0x5fc3db,'cols':_0x5e03a3,'total':_0x5b0629,'positions':_0xd13ccd};}async function xoaTimeout(_0x4c3aa7){const _0x52ec2b=a0_0x4f3314;try{clearTimeout(_0x4c3aa7),log(_0x52ec2b(0xef),'[xoaTimeout]main:\x20Xóa\x20timeout:'+_0x4c3aa7,null,'w',_0x52ec2b(0xc5));}catch(_0x1ef1e0){log(_0x52ec2b(0xef),_0x52ec2b(0x130)+_0x1ef1e0,null,![]);}}async function delay(_0x40927d){return new Promise(_0x472b97=>{setTimeout(_0x472b97,_0x40927d);});}function a0_0x220f(_0x121050,_0x642c2e){const _0x10f28d=a0_0x10f2();return a0_0x220f=function(_0x220f0c,_0x417ced){_0x220f0c=_0x220f0c-0xbf;let _0x4411f4=_0x10f28d[_0x220f0c];return _0x4411f4;},a0_0x220f(_0x121050,_0x642c2e);}async function eTimeout(_0x3eb8fe){const _0x5f14aa=a0_0x4f3314;return log(_0x5f14aa(0xef),'[eTimeout]main:\x20turn\x20on\x20timeout\x20flag',null,'w'),Atomics[_0x5f14aa(0xde)](tasksData,_0x3eb8fe,0x1),!![];}async function rstTimeout(_0x5c1102){const _0x47a12a=a0_0x4f3314;return log(_0x47a12a(0xef),_0x47a12a(0x133),null,'w'),Atomics[_0x47a12a(0x16c)](tasksData,_0x5c1102,0x1,0x2),!![];}async function closeGenlogin(){const _0x46fa05=a0_0x4f3314;try{log(_0x46fa05(0xef),_0x46fa05(0x12b),null,'w','-'),exec(_0x46fa05(0x121),(_0x47d10b,_0x298919,_0x161116)=>{const _0x19deaf=_0x46fa05;if(_0x47d10b){log(_0x19deaf(0xef),_0x19deaf(0xc1)+_0x47d10b[_0x19deaf(0x105)],null,![]);return;}if(_0x161116){log('main',_0x19deaf(0x125)+_0x161116,null,![]);return;}log(_0x19deaf(0xef),_0x19deaf(0x127));});}catch(_0x3f0d02){log(_0x46fa05(0xef),_0x46fa05(0x111)+_0x3f0d02,null,![]);}}async function checkUpdate(){const _0x10e9c7=a0_0x4f3314;try{const _0x2988b8=_0x10e9c7(0x149),_0xcae3d2=a0_0x2a5bbf[_0x10e9c7(0x164)](process[_0x10e9c7(0x143)](),_0x10e9c7(0xcf)),_0x2a4099=await a0_0x17fe0a[_0x10e9c7(0x13f)][_0x10e9c7(0xc4)](_0xcae3d2,_0x10e9c7(0xd4)),_0x42c2d4=JSON[_0x10e9c7(0xf3)](_0x2a4099),_0x512104=_0x42c2d4[_0x10e9c7(0x115)];log(_0x10e9c7(0xef),'[checkUpdate]Version:\x20'+_0x512104,null,'w','-');const _0xb13ce9=await http[_0x10e9c7(0x14d)]('main',_0x2988b8);await delay(0x3e8);if(_0xb13ce9)try{const _0x32bd86=typeof _0xb13ce9===_0x10e9c7(0x163)?JSON[_0x10e9c7(0xf3)](_0xb13ce9):_0xb13ce9,_0x480983=_0x32bd86['version'];await delay(0x3e8),_0x480983!=_0x512104?(log(_0x10e9c7(0xef),_0x10e9c7(0x166)+_0x480983,null,'w'),tele_id&&tele_id[_0x10e9c7(0x147)]&&await http[_0x10e9c7(0xf6)](_0x10e9c7(0xef),tele_id['tele_id'],_0x10e9c7(0xcc)+_0x480983)):log(_0x10e9c7(0xef),_0x10e9c7(0xe6),null,'w');}catch(_0xa4118f){log('main',_0x10e9c7(0x150)+_0xa4118f['message'],null,![]);}return _0x512104;}catch(_0x3fb4b1){return log('main',_0x10e9c7(0xea)+_0x3fb4b1,null,![]),null;}}async function logMemoryUsage(){const _0xa9a967=a0_0x4f3314,_0x1648f2=process[_0xa9a967(0x13e)]();log('Memory',_0xa9a967(0x10f)+(_0x1648f2[_0xa9a967(0x10e)]/0x400/0x400)[_0xa9a967(0x110)](0x2)+_0xa9a967(0xf1)+(_0x1648f2[_0xa9a967(0xda)]/0x400/0x400)[_0xa9a967(0x110)](0x2)+_0xa9a967(0x12e),null,'w','+'),_0x1648f2[_0xa9a967(0xda)]>0x400*0x400*0x400*0x5&&(tele_id['tele_id']&&await http[_0xa9a967(0xf6)]('Memory',tele_id[_0xa9a967(0x147)],'Bộ\x20nhớ\x20vượt\x20quá\x20Heap\x20Used:\x20'+(_0x1648f2[_0xa9a967(0x10e)]/0x400/0x400)['toFixed'](0x2)+'\x20MB,/1GB!:\x20Thu\x20hồi\x20nhanh\x20còn\x20kịp'),log('Memory',_0xa9a967(0xdf),null,'w','+'),global['gc']&&(global['gc'](),log(_0xa9a967(0x124),_0xa9a967(0x16e),null,'i','+')));}