const a0_0x592fdf=a0_0x10d8;(function(_0x191be6,_0x303c42){const _0x16fcc3=a0_0x10d8,_0x3acb95=_0x191be6();while(!![]){try{const _0x1e5f3b=-parseInt(_0x16fcc3(0x12c))/0x1+-parseInt(_0x16fcc3(0xe5))/0x2*(parseInt(_0x16fcc3(0xfe))/0x3)+parseInt(_0x16fcc3(0x15d))/0x4+parseInt(_0x16fcc3(0x108))/0x5+-parseInt(_0x16fcc3(0x159))/0x6*(parseInt(_0x16fcc3(0x16f))/0x7)+parseInt(_0x16fcc3(0x153))/0x8+parseInt(_0x16fcc3(0x172))/0x9;if(_0x1e5f3b===_0x303c42)break;else _0x3acb95['push'](_0x3acb95['shift']());}catch(_0x20d9a5){_0x3acb95['push'](_0x3acb95['shift']());}}}(a0_0x390d,0xaff30));import'dotenv/config';import a0_0x2f1519 from'os';import a0_0x35af54 from'fs';import a0_0x4d3e14 from'path';import{fileURLToPath}from'url';import a0_0x2fb885 from'./modules/Genlogin.js';import a0_0x10e2d9 from'./modules/http.js';import{log,json}from'./modules/logger.js';import a0_0x16a161 from'node-machine-id';import{spawn,Thread,Worker}from'threads';import{exec}from'child_process';import a0_0x5082d4 from'p-queue';let tasksDataBuffer,tasksData,screenData,screenDataBuffer;function a0_0x390d(){const _0x5b8438=['https://raw.githubusercontent.com/resistor3300/longCTools/refs/heads/main/package.json','[createWorkerPromise]:\x20main\x20','nextrun','LongCAutoAirdrop','env','[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20','\x20with\x20data:\x20','substring','entries','[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20','Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro','Không\x20thể\x20tạo\x20worker','[createWorkerPromise]:\x20','profileThreads','Chờ\x2060\x20giây','store','7148855SmymSf','ceil','\x20task\x20đang\x20chạy','15124041cJrbxx','nextrunstamp','Start\x20App:\x20','No\x20task\x20found','Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro','Stderr:\x20','Task\x20phải\x20là\x20một\x20đối\x20tượng','promises','chờ\x2030\x20giây\x20rồi\x20thử\x20lại','map','[processTasks]:\x20task.nextrunstamp:\x20','thư\x20mục\x20chứa\x20data\x20genlogin','tắt\x20genlogin\x20ok','race','[processTasks]:\x20task.status:\x20','\x20vào\x20hàng\x20đợi','[checkUpdate]\x20Lỗi\x20parse\x20JSON:\x20','Tự\x20động\x20tắt\x20genlogin','push','[processTasks]:\x20Thêm\x20task\x20','2427146qRaCJm','nextRun','[updateTask]:\x20update\x20task\x20','updateTask','status','tele','\x20set\x20timeout:\x20','400x900','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20','tele_id','Lỗi\x20không\x20xác\x20định','\x20treo\x20đang\x20chạy\x20từ\x20','maxTask','object','value','Đã\x20có\x20phiên\x20bản\x20mới:\x20',',\x20mỗi\x20cột:\x20','tự\x20động\x20sắp\x20xếp\x20vị\x20trí\x20hiển\x20thị\x20trình\x20duyệt\x20','Lỗi\x20chung:\x20','|screenWidthHeight:','success','[processTasks]:\x20Phát\x20Hiện\x20','url','api','getListProfiles','3SUIZnX','compareExchange','[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20','\x20nè\x20bro!','[createWorkerPromise]:\x20main\x20kết\x20thúc\x20worker','height','width','./workerBrowser.js','getTeleId','\x20task\x20trong\x20hàng\x20đợi','3423800INtffS','[processTasks]:\x20currentTime.timestamp:\x20','log','version','package.json','has','[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20','[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20','SERVER_HOST','join','[checkUpdate]Bạn\x20đang\x20chạy\x20phiên\x20bản\x20mới\x20nhất','[xoaTimeout]main:\x20','[checkUpdate]Có\x20phiên\x20bản\x20mới:\x20','Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20','profiles','[processTasks]:','dirname','name','closeGenlogin:\x20','round','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20','getAllProfiles.value\x20OK','Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ','cols','readFile','Users','taskMode','length','Lỗi:\x20','getAllProfiles','terminate','parse','Tỷ\x20lệ\x20thu\x20nhỏ:\x20','taskIndex','Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị','screens','443765epEOKX','maxTime','[processTasks]:\x20FirstRun','max','độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20','OK\x20rồi\x20man.\x20tắt\x20genlogin\x20đi\x20bro','genDataProfiles','[eTimeout]main:\x20reset\x20timeout','chưa\x20có\x20task\x20mới','[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20','main','userInfo','running','APIKEY','completed','now','\x20rồi\x20bro!','timestamp','scale','\x20Timeout\x20ID:\x20','add','[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','pending','[main]\x20Task\x20Status:\x20','set','[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20','from','error','[eTimeout]main:\x20turn\x20on\x20timeout\x20flag','1920x1080','số\x20màn\x20hình:\x20','genProfiles','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task','[processTasks]:\x20screens:','split','input','message','checkbox','\x20Lỗi\x20','4457304GCJCvy','[processTask]:\x20DONE\x20TASK\x20','worker1','TA\x20ĐI\x20ĐÂY','[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý','./worker-api1.js','6jgiWQL','Lỗi\x20App\x20genlogin\x20nhé\x20bro!','[checkUpdate]Version:\x20','[xoaTimeout]main:\x20Xóa\x20timeout:','1907676rxlOdU','floor'];a0_0x390d=function(){return _0x5b8438;};return a0_0x390d();}const __filename=fileURLToPath(import.meta[a0_0x592fdf(0xfb)]),__dirname=a0_0x4d3e14[a0_0x592fdf(0x118)](__filename),{machine_id,machineIdSync}=a0_0x16a161,machineId=machineIdSync()[a0_0x592fdf(0x166)](0x0,0x8),appName=a0_0x592fdf(0x162)+'-'+machineId,nameFile=a0_0x592fdf(0x14b)+'-'+machineId,genDataFile=a0_0x592fdf(0x132)+'-'+machineId,appSetings={'maxTaskThreads':{'type':'input','value':0x3,'note':'Số\x20lượng\x20task\x20chạy\x20song\x20song'},'screens':{'type':a0_0x592fdf(0x14f),'value':0x1,'note':a0_0x592fdf(0x12a)},'screenWidthHeight':{'type':a0_0x592fdf(0x14f),'value':a0_0x592fdf(0x149),'note':a0_0x592fdf(0x130)},'browserWidthHeight':{'type':'input','value':a0_0x592fdf(0xec),'note':'kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20'},'autoSetBrowserPosition':{'type':a0_0x592fdf(0x151),'value':'y','note':a0_0x592fdf(0xf6)},'customBrowserPosition':{'type':a0_0x592fdf(0x14f),'value':'0x0','note':'tọa\x20độ\x20hiển\x20thị\x20trình\x20duyệt\x20'},'genDataFolder':{'type':a0_0x592fdf(0x14f),'value':a0_0x4d3e14['join']('C:',a0_0x592fdf(0x121),a0_0x2f1519[a0_0x592fdf(0x137)]()['username'],'.genlogin'),'note':a0_0x592fdf(0xdc)}};function a0_0x10d8(_0x31b9df,_0x5824bb){const _0x390d98=a0_0x390d();return a0_0x10d8=function(_0x10d8c0,_0x28859d){_0x10d8c0=_0x10d8c0-0xd5;let _0x11376b=_0x390d98[_0x10d8c0];return _0x11376b;},a0_0x10d8(_0x31b9df,_0x5824bb);}let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,firstRun=!![],appStatus=0x0,tele_id,version,prevTime;async function main(){const _0x20ca3a=a0_0x592fdf;try{log('main',_0x20ca3a(0x174)+appName,null,'w','='),await delay(0x3e8);if(!process[_0x20ca3a(0x163)][_0x20ca3a(0x139)]){log(_0x20ca3a(0x136),'APIKEY\x20not\x20found!',null,![]),log(_0x20ca3a(0x136),'Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro',null,'w'),log('main',_0x20ca3a(0xd5),null,'w'),log('main','BYE\x20BYE',null,'w'),log(_0x20ca3a(0x136),_0x20ca3a(0x156),null,'w','=');return;}genlogin=new a0_0x2fb885('',!![]),http=new a0_0x10e2d9(process[_0x20ca3a(0x163)][_0x20ca3a(0x110)],process[_0x20ca3a(0x163)]['APIKEY'],!![]),tele_id=await http[_0x20ca3a(0x106)](_0x20ca3a(0x136)),version=await checkUpdate(),prevTime=Date[_0x20ca3a(0x13b)]();tele_id['tele_id']&&await http[_0x20ca3a(0xea)](_0x20ca3a(0x136),tele_id[_0x20ca3a(0xee)],_0x20ca3a(0x174)+appName+_0x20ca3a(0x101));let _0x5460e3,_0x147f13=0x1,_0x395c5d=0x1,_0x3c9d07=0x0,_0x44298e;while(!![]){try{appStatus=0x1;if(_0x147f13){if(!_0x3c9d07){_0x395c5d&&(_0x44298e=await genlogin[_0x20ca3a(0xfd)](_0x20ca3a(0x136)));if(!_0x44298e||!_0x395c5d){const _0x344707=await http[_0x20ca3a(0x132)](_0x20ca3a(0x136),genDataFile);!_0x344707['value']?(log(_0x20ca3a(0x136),_0x20ca3a(0x169),null,'w'),log(_0x20ca3a(0x136),'Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro',null,'w'),log('main',''+_0x344707['error'],null,![]),log(_0x20ca3a(0x136),_0x20ca3a(0xd9),null,'i'),tele_id&&tele_id[_0x20ca3a(0xee)]&&await http[_0x20ca3a(0xea)](_0x20ca3a(0x136),tele_id['tele_id'],_0x20ca3a(0x15a))):GenDataProfile=_0x344707[_0x20ca3a(0xf3)];}else{GenDataProfile=await _0x44298e[_0x20ca3a(0x116)],await http[_0x20ca3a(0x132)](_0x20ca3a(0x136),genDataFile,GenDataProfile),_0x395c5d=0x0;continue;}}if(await genlogin['getListProfiles'](_0x20ca3a(0x136))){log(_0x20ca3a(0x136),_0x20ca3a(0x131),null,'w'),_0x3c9d07=0x1,await closeGenlogin(),await delay(0xbb8);continue;}_0x147f13=0x0;}await delay(0x3e8),getAllProfiles=await http[_0x20ca3a(0x125)]('main',appName,nameFile,GenDataProfile,appSetings);if(!getAllProfiles[_0x20ca3a(0xf3)]||!getAllProfiles||getAllProfiles['value'][_0x20ca3a(0x123)]<=0x0){log(_0x20ca3a(0x136),'Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy',null,![]),log(_0x20ca3a(0x136),_0x20ca3a(0xd9),null,'i');throw new Error(_0x20ca3a(0x175));}log(_0x20ca3a(0x136),_0x20ca3a(0x11d));const _0x2bfc92=Object[_0x20ca3a(0x167)](getAllProfiles[_0x20ca3a(0xf3)]);maxTask=parseInt(getAllProfiles[_0x20ca3a(0xf1)]);const _0x34a6cd=await processTasks(_0x2bfc92);if(taskQueue[_0x20ca3a(0x142)]>0x0){const _0x52ecf7=await getRunningTasks(taskStatus,_0x20ca3a(0x138));log(_0x20ca3a(0x136),taskQueue['size']+_0x20ca3a(0x107),null,'w'),log(_0x20ca3a(0x136),taskQueue[_0x20ca3a(0x142)]+_0x20ca3a(0x171),null,'w'),log(_0x20ca3a(0x136),'Running\x20Task:'+_0x52ecf7,null,'w');}else!_0x34a6cd&&log(_0x20ca3a(0x136),_0x20ca3a(0x134),null,'w');log(_0x20ca3a(0x136),_0x20ca3a(0x143)+Array[_0x20ca3a(0x146)](taskStatus[_0x20ca3a(0x167)]()),null,'c'),log(_0x20ca3a(0x136),'Kiểm\x20tra\x20task\x20sau\x2060\x20giây',null,'i'),Date[_0x20ca3a(0x13b)]()-prevTime>=0x5265c00&&(prevTime=Date[_0x20ca3a(0x13b)](),checkUpdate()),await delay(0x7530);}catch(_0x4d3391){log('main','Lỗi\x20while:\x20'+_0x4d3391,null,![]),log('main',_0x20ca3a(0x16d),null,'i'),tele_id&&tele_id[_0x20ca3a(0xee)]&&await http['tele'](_0x20ca3a(0x136),tele_id[_0x20ca3a(0xee)],appName+_0x20ca3a(0x152)+_0x4d3391+_0x20ca3a(0x13c)),await delay(0x7530);}}}catch(_0x28e831){log(_0x20ca3a(0x136),_0x20ca3a(0xf7)+_0x28e831,null,![]),appStatus=0x0;}}main()['catch'](console[a0_0x592fdf(0x147)]);async function processTasks(_0x39b809){const _0x28b38c=a0_0x592fdf;try{if(firstRun){log('main',_0x28b38c(0x12e),null,'c','*'),taskQueue=new a0_0x5082d4({'concurrency':maxTask}),tasksDataBuffer=new SharedArrayBuffer(_0x39b809[_0x28b38c(0x123)]*0x4),tasksData=new Int32Array(tasksDataBuffer);for(var _0x3cb644=0x0;_0x3cb644<tasksData[_0x28b38c(0x123)];_0x3cb644++){Atomics[_0x28b38c(0x16e)](tasksData,_0x3cb644,0x2);}firstRun=![],taskStatus=new Map();let _0x37e06d=0x0;for(const [_0x67e443,_0x3fd88c]of _0x39b809){_0x67e443<parseInt(getAllProfiles[_0x28b38c(0xf1)])&&(_0x37e06d+=parseInt(_0x3fd88c[_0x28b38c(0x16c)]));}screenDataBuffer=new SharedArrayBuffer((parseInt(_0x37e06d)*0x3+0xd)*0x4),screenData=new Int32Array(screenDataBuffer);let _0x2b2374=[];for(let _0x3c6e3b=0x0;_0x3c6e3b<parseInt(getAllProfiles[_0x28b38c(0x12b)]);_0x3c6e3b++){const _0x23bb79=getAllProfiles['screenWidthHeight'][_0x28b38c(0x14e)]('x');_0x2b2374['push']({'width':parseInt(_0x23bb79[0x0]),'height':parseInt(_0x23bb79[0x1])});}const _0x5470f3=getAllProfiles['browserWidthHeight']['split']('x'),_0x22b49a=parseInt(_0x5470f3[0x0]),_0x40b7af=parseInt(_0x5470f3[0x1]),_0x858b99=_0x37e06d,_0x4e102e=_0x2b2374['reduce']((_0x36aa99,_0x309885)=>_0x36aa99+_0x309885[_0x28b38c(0x104)],0x0),_0x5341cc=Math[_0x28b38c(0x12f)](..._0x2b2374[_0x28b38c(0xda)](_0x1017fc=>_0x1017fc[_0x28b38c(0x103)])),_0xeb714d=await calScreenArr(_0x22b49a,_0x40b7af,_0x4e102e,_0x5341cc,_0x37e06d);screenData=_0xeb714d['screenData'],log(_0x28b38c(0x136),_0x28b38c(0x14a)+getAllProfiles[_0x28b38c(0x12b)],null,'w'),log(_0x28b38c(0x136),_0x28b38c(0xed)+_0x4e102e+'x'+_0x5341cc,null,'w'),log(_0x28b38c(0x136),_0x28b38c(0x115)+_0xeb714d['rows']+_0x28b38c(0xf5)+_0xeb714d[_0x28b38c(0x11f)],null,'w'),log(_0x28b38c(0x136),_0x28b38c(0x128)+_0xeb714d[_0x28b38c(0x13e)],null,'w'),log(_0x28b38c(0x136),_0x28b38c(0x14d)+getAllProfiles[_0x28b38c(0x12b)]+_0x28b38c(0xf8)+getAllProfiles['screenWidthHeight'],null,'w'),await delay(0x3e8);}const _0x182845=[];for(const [_0x576c16,_0x364631]of _0x39b809){_0x364631[_0x28b38c(0x129)]=_0x576c16;const _0x235804=await genlogin['nowTime'](_0x28b38c(0x136));log(_0x28b38c(0x136),_0x28b38c(0x109)+_0x235804[_0x28b38c(0x13d)],null,'i'),log(_0x28b38c(0x136),_0x28b38c(0xdb)+_0x364631[_0x28b38c(0x173)],null,'i'),log('main',_0x28b38c(0xdf)+_0x364631[_0x28b38c(0xe9)],null,'i'),log(_0x28b38c(0x136),_0x28b38c(0x117)+_0x235804[_0x28b38c(0x13d)]+'|'+(parseInt(_0x364631[_0x28b38c(0x173)])+parseInt(_0x364631[_0x28b38c(0x12d)]))+'|'+parseInt(_0x364631['status']),null,'w');if(_0x235804[_0x28b38c(0x13d)]>=_0x364631[_0x28b38c(0x173)]&&parseInt(_0x364631[_0x28b38c(0xe9)])===0x0){log(_0x28b38c(0x136),_0x28b38c(0xe4)+_0x364631['name']+_0x28b38c(0xe0),null,'i'),taskStatus['set'](_0x364631[_0x28b38c(0x119)],_0x28b38c(0x142));const _0x448518=await updateTask(_0x364631[_0x28b38c(0x119)],{'status':0x1,'nextRun':0x1});_0x182845[_0x28b38c(0xe3)](taskQueue[_0x28b38c(0x140)](()=>processTask(_0x364631))),taskStatus[_0x28b38c(0x144)](_0x364631[_0x28b38c(0x119)],_0x28b38c(0x138)),await delay(0x7d0);}else{if(_0x235804['timestamp']>parseInt(_0x364631['nextrunstamp'])+parseInt(_0x364631[_0x28b38c(0x12d)])&&parseInt(_0x364631['status'])===0x1&&(taskStatus['get'](_0x364631[_0x28b38c(0x119)])===_0x28b38c(0x13a)||!taskStatus[_0x28b38c(0x10d)](_0x364631[_0x28b38c(0x119)]))){log(_0x28b38c(0x136),_0x28b38c(0xfa)+_0x364631[_0x28b38c(0x119)]+_0x28b38c(0xf0)+_0x364631[_0x28b38c(0x161)],null,'w','*');const _0x325f13=await updateTask(_0x364631[_0x28b38c(0x119)],{'status':0x0,'nextRun':0x1});log(_0x28b38c(0x136),_0x28b38c(0x168)+_0x364631['name'],null,'i','*');}}}return _0x182845[_0x28b38c(0x123)]>0x0?!![]:(log(_0x28b38c(0x136),_0x28b38c(0x157),null,'w'),null);}catch(_0x485ca3){return log(_0x28b38c(0x136),'[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20'+_0x485ca3,null,![]),null;}}async function processTask(_0x2c8358){const _0x1d109b=a0_0x592fdf;try{log(_0x1d109b(0x136),'[processTask]:\x20Xử\x20lý\x20task:\x20'+_0x2c8358[_0x1d109b(0x119)],null,'i','=');if(!_0x2c8358||typeof _0x2c8358!==_0x1d109b(0xf2))throw new Error(_0x1d109b(0xd7));const _0x24b936=createWorkerPromise(_0x2c8358),_0x3cc753=await _0x24b936;log(_0x1d109b(0x136),_0x1d109b(0x154)+_0x2c8358[_0x1d109b(0x119)],null,'w','DT');const _0x406a53=await updateTask(_0x2c8358[_0x1d109b(0x119)],{'status':0x0,'nextRun':0x1});return taskStatus[_0x1d109b(0x144)](_0x2c8358[_0x1d109b(0x119)],_0x1d109b(0x13a)),await delay(0x1388),_0x3cc753;}catch(_0x2c5b4f){return log(_0x1d109b(0x136),_0x1d109b(0x141)+_0x2c5b4f,null,![]),await updateTask(_0x2c8358['name'],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x402722){const _0x72118b=a0_0x592fdf;return log(_0x72118b(0x136),'[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20'+_0x402722[_0x72118b(0x119)],null,'i','-'),new Promise(async(_0x6ed856,_0x441934)=>{const _0x42df8f=_0x72118b;let _0x341ff4;try{if(!_0x402722||typeof _0x402722!==_0x42df8f(0xf2))return _0x441934(new Error(_0x42df8f(0xd7)));const _0x464ade=_0x402722[_0x42df8f(0x122)]===_0x42df8f(0xfc)?_0x42df8f(0x158):_0x42df8f(0x105);_0x341ff4=await spawn(new Worker(_0x464ade)),log(_0x42df8f(0x136),'[createWorkerPromise]:\x20'+_0x464ade,null,'i');if(!_0x341ff4)return _0x441934(new Error(_0x42df8f(0x16a)));const _0x452577=parseInt(_0x402722[_0x42df8f(0x12d)])*0x3e8;if(isNaN(_0x452577))return _0x441934(new Error(_0x42df8f(0x11e)));const _0x4adedc=setTimeout(async()=>{const _0x128fe8=_0x42df8f;log(_0x128fe8(0x136),_0x128fe8(0x100)+_0x402722[_0x128fe8(0x119)],null,'w','timeout'),await eTimeout(_0x402722[_0x128fe8(0x129)]),xoaTimeout(_0x4adedc),await _0x341ff4[_0x128fe8(0x155)]({'timeout':!![],'task':_0x402722,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'tele_id':tele_id});},_0x452577);log(_0x42df8f(0x136),_0x42df8f(0x16b)+_0x402722[_0x42df8f(0x119)]+_0x42df8f(0xeb)+_0x452577+_0x42df8f(0x13f)+_0x4adedc,null,'w');const _0x20f15d=async _0x2a83d2=>{const _0x17fa3a=_0x42df8f;try{if(_0x2a83d2['success']){log('main',_0x17fa3a(0x11c)+_0x402722[_0x17fa3a(0x119)],null,'i'),xoaTimeout(_0x4adedc),_0x6ed856(!![]);return;}else{if(!_0x2a83d2[_0x17fa3a(0xf9)]){log('main',_0x17fa3a(0x145)+_0x402722[_0x17fa3a(0x119)]+':\x20'+_0x2a83d2['error'],null,![]),_0x441934(new Error(_0x2a83d2[_0x17fa3a(0x147)]||_0x17fa3a(0xef)));return;}else{log(_0x17fa3a(0x136),_0x17fa3a(0x135)+_0x402722['name']+':\x20'+json(_0x2a83d2),null,'c','x'),log(_0x17fa3a(0x136),_0x17fa3a(0x10e)+_0x402722[_0x17fa3a(0x119)]+':\x20'+_0x2a83d2[_0x17fa3a(0x147)],null,![]),_0x441934(new Error(_0x2a83d2[_0x17fa3a(0x147)]||'Lỗi\x20không\x20xác\x20định'));return;}}}catch(_0x2f4538){log('main',_0x17fa3a(0x164)+_0x402722[_0x17fa3a(0x119)]+':\x20'+_0x2f4538[_0x17fa3a(0x150)],null,![]),xoaTimeout(_0x4adedc),_0x441934(_0x2f4538);return;}},_0x146565=new Promise(async(_0x28c207,_0x5e0efc)=>{const _0x3fe949=_0x42df8f;try{const _0x127646=await _0x341ff4[_0x3fe949(0x155)]({'version0':version,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'task':_0x402722,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame,'tele_id':tele_id}),_0x1d4c22=await _0x20f15d(_0x127646);_0x28c207(_0x1d4c22);}catch(_0x680c8c){_0x5e0efc(_0x680c8c);}}),_0x27ebcf=await Promise[_0x42df8f(0xde)]([_0x146565]);log(_0x42df8f(0x136),_0x42df8f(0x160)+json(_0x27ebcf),null,'w','@'),log('main',_0x42df8f(0x102),null,'w','-'),await Thread[_0x42df8f(0x126)](_0x341ff4),_0x6ed856(_0x27ebcf);return;}catch(_0x574510){log(_0x42df8f(0x136),_0x42df8f(0x10f)+_0x574510[_0x42df8f(0x150)],null,![]),await Thread[_0x42df8f(0x126)](_0x341ff4),_0x441934(_0x574510);}});}async function updateTask(_0x46eee6,_0x1e57c0){const _0x4f306a=a0_0x592fdf;if(!http||typeof http[_0x4f306a(0xe8)]!=='function'){log(_0x4f306a(0x136),_0x4f306a(0x14c),null,![]);return;}return log(_0x4f306a(0x136),_0x4f306a(0xe7)+_0x46eee6+_0x4f306a(0x165)+_0x1e57c0[_0x4f306a(0xe9)]+'|'+_0x1e57c0[_0x4f306a(0xe6)],null,'i'),await http[_0x4f306a(0xe8)]('main',_0x46eee6,_0x1e57c0);}async function processProfile(_0x18c9c2){const _0x1719d2=a0_0x592fdf;console[_0x1719d2(0x10a)](_0x1719d2(0x136),'Processing\x20profile:\x20'+_0x18c9c2[_0x1719d2(0x119)]);const _0x1f7424=_0x18c9c2['games'];for(const _0x5b5bea of _0x1f7424){await gameQueue['add'](()=>processGame(_0x5b5bea));}}async function getRunningTasks(_0x56dd24,_0x39d971){const _0x325114=a0_0x592fdf,_0x42b785=[];for(const [_0xed901,_0x589f81]of _0x56dd24[_0x325114(0x167)]()){_0x589f81===_0x589f81&&_0x42b785[_0x325114(0xe3)](_0xed901);}return _0x42b785;}async function calScreenArr(_0x51b0ce,_0x45b03b,_0x17f642,_0x44f114,_0x5c9b7a,_0x39f64b=0x1){const _0x4ed2a7=a0_0x592fdf,_0x371d41=0x0;let _0x4b2f3b=_0x51b0ce,_0x579731=_0x45b03b,_0x3ad440,_0x3c4a84,_0x42c4c6=0x1;while(!![]){_0x3c4a84=Math[_0x4ed2a7(0x15e)](_0x17f642/_0x4b2f3b),_0x3ad440=Math[_0x4ed2a7(0x170)](_0x5c9b7a/_0x3c4a84);if(_0x3ad440*_0x579731<=_0x44f114)break;_0x42c4c6*=0.95,_0x4b2f3b=Math[_0x4ed2a7(0x15e)](_0x51b0ce*_0x42c4c6),_0x579731=Math[_0x4ed2a7(0x15e)](_0x45b03b*_0x42c4c6);}_0x4b2f3b=Math['floor'](_0x4b2f3b*1.26);const _0x28a990=[];let _0x217ef8=0x0;for(let _0x5b5780=0x0;_0x5b5780<_0x39f64b;_0x5b5780++){const _0x566f95=Math[_0x4ed2a7(0x11b)](_0x42c4c6*0xf4240);Atomics[_0x4ed2a7(0x16e)](screenData,0x0,_0x5b5780),Atomics[_0x4ed2a7(0x16e)](screenData,0x1,_0x566f95),Atomics[_0x4ed2a7(0x16e)](screenData,0x2,_0x51b0ce),Atomics[_0x4ed2a7(0x16e)](screenData,0x3,_0x45b03b),Atomics['store'](screenData,0x4,_0x4b2f3b),Atomics['store'](screenData,0x5,_0x579731);let _0x2d4f95=0xa;for(let _0x2cd897=0x0;_0x2cd897<_0x3ad440;_0x2cd897++){const _0x2258d1=[];for(let _0x4a266b=0x0;_0x4a266b<_0x3c4a84;_0x4a266b++){if(_0x217ef8>=_0x5c9b7a)break;const _0x5a5ff5=Math['floor'](_0x4a266b*_0x4b2f3b),_0x17acfc=Math[_0x4ed2a7(0x15e)](_0x2cd897*_0x579731);if(_0x5a5ff5>_0x17f642||_0x17acfc>_0x44f114)continue;Atomics[_0x4ed2a7(0x16e)](screenData,_0x2d4f95++,0x2),Atomics['store'](screenData,_0x2d4f95++,_0x5a5ff5),Atomics[_0x4ed2a7(0x16e)](screenData,_0x2d4f95++,_0x17acfc),_0x217ef8++;}if(_0x217ef8>=_0x5c9b7a)break;}break;}return{'screenData':screenData,'scale':_0x42c4c6,'rows':_0x3ad440,'cols':_0x3c4a84,'total':_0x217ef8,'positions':_0x28a990};}async function xoaTimeout(_0x4bbf5c){const _0x181cc0=a0_0x592fdf;try{clearTimeout(_0x4bbf5c),log(_0x181cc0(0x136),_0x181cc0(0x15c)+_0x4bbf5c,null,'w','clrTimeout');}catch(_0x4574ab){log(_0x181cc0(0x136),_0x181cc0(0x113)+_0x4574ab,null,![]);}}async function delay(_0x48792c){return new Promise(_0x496f4b=>{setTimeout(_0x496f4b,_0x48792c);});}async function eTimeout(_0x1191f5){const _0x3cd9bc=a0_0x592fdf;return log(_0x3cd9bc(0x136),_0x3cd9bc(0x148),null,'w'),Atomics['store'](tasksData,_0x1191f5,0x1),!![];}async function rstTimeout(_0x5b9ac7){const _0x1dc504=a0_0x592fdf;return log(_0x1dc504(0x136),_0x1dc504(0x133),null,'w'),Atomics[_0x1dc504(0xff)](tasksData,_0x5b9ac7,0x1,0x2),!![];}async function closeGenlogin(){const _0x5a2417=a0_0x592fdf;try{log(_0x5a2417(0x136),_0x5a2417(0xe2),null,'w','-'),exec('taskkill\x20/IM\x20genLogin.exe\x20/F',(_0x313359,_0x7855dd,_0x5d105a)=>{const _0xda6a49=_0x5a2417;if(_0x313359){log(_0xda6a49(0x136),_0xda6a49(0x124)+_0x313359['message'],null,![]);return;}if(_0x5d105a){log(_0xda6a49(0x136),_0xda6a49(0xd6)+_0x5d105a,null,![]);return;}log(_0xda6a49(0x136),_0xda6a49(0xdd));});}catch(_0x4e9df5){log(_0x5a2417(0x136),_0x5a2417(0x11a)+_0x4e9df5,null,![]);}}async function checkUpdate(){const _0x112707=a0_0x592fdf;try{const _0x2c3bfa=_0x112707(0x15f),_0x3f004d=a0_0x4d3e14[_0x112707(0x111)](process['cwd'](),_0x112707(0x10c)),_0x4c7a4c=await a0_0x35af54[_0x112707(0xd8)][_0x112707(0x120)](_0x3f004d,'utf-8'),_0x29292c=JSON[_0x112707(0x127)](_0x4c7a4c),_0x330651=_0x29292c[_0x112707(0x10b)];log(_0x112707(0x136),_0x112707(0x15b)+_0x330651,null,'w','-');const _0x452971=await http['httpGet'](_0x112707(0x136),_0x2c3bfa);await delay(0x3e8);if(_0x452971)try{const _0x3da0f8=typeof _0x452971==='string'?JSON[_0x112707(0x127)](_0x452971):_0x452971,_0x5f58f8=_0x3da0f8[_0x112707(0x10b)];await delay(0x3e8),_0x5f58f8!=_0x330651?(log(_0x112707(0x136),_0x112707(0x114)+_0x5f58f8,null,'w'),tele_id&&tele_id[_0x112707(0xee)]&&await http[_0x112707(0xea)](_0x112707(0x136),tele_id[_0x112707(0xee)],_0x112707(0xf4)+_0x5f58f8)):log(_0x112707(0x136),_0x112707(0x112),null,'w');}catch(_0x7f055){log(_0x112707(0x136),_0x112707(0xe1)+_0x7f055['message'],null,![]);}return _0x330651;}catch(_0x83a344){return log(_0x112707(0x136),'[checkUpdate]Lỗi\x20khi\x20đọc\x20file\x20package.json:\x20'+_0x83a344,null,![]),null;}}