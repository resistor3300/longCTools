const a0_0x5aac7d=a0_0x3946;(function(_0x36cc61,_0x588aaf){const _0x41eb8d=a0_0x3946,_0x461d9b=_0x36cc61();while(!![]){try{const _0x2bea17=-parseInt(_0x41eb8d(0x206))/0x1*(parseInt(_0x41eb8d(0x20f))/0x2)+parseInt(_0x41eb8d(0x25d))/0x3+parseInt(_0x41eb8d(0x226))/0x4+parseInt(_0x41eb8d(0x23a))/0x5*(-parseInt(_0x41eb8d(0x26f))/0x6)+-parseInt(_0x41eb8d(0x1d8))/0x7*(parseInt(_0x41eb8d(0x21a))/0x8)+-parseInt(_0x41eb8d(0x264))/0x9*(parseInt(_0x41eb8d(0x225))/0xa)+parseInt(_0x41eb8d(0x270))/0xb;if(_0x2bea17===_0x588aaf)break;else _0x461d9b['push'](_0x461d9b['shift']());}catch(_0x3b42d7){_0x461d9b['push'](_0x461d9b['shift']());}}}(a0_0x561f,0xc6f60));import'dotenv/config';import a0_0x330f43 from'os';import a0_0x533914 from'fs';import a0_0x17007e from'path';import{fileURLToPath}from'url';import a0_0x509b0f from'./modules/Genlogin.js';import a0_0x3bc055 from'./modules/http.js';import{log,json}from'./modules/logger.js';import a0_0x477487 from'node-machine-id';import{spawn,Thread,Worker}from'threads';import{exec}from'child_process';import a0_0x235a34 from'p-queue';const MIN_FREE_SPACE_MB=0x384;let tasksDataBuffer,tasksData,screenData,screenDataBuffer;function a0_0x561f(){const _0x1c3479=['.genlogin','[processTasks]:\x20task.status:\x20','[checkUpdate]Version:\x20','nextRun','Running\x20Task:','366eVWmdE','rss','Users','Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy','push','has','BYE\x20BYE','[processTasks]:\x20currentTime.timestamp:\x20','now','tắt\x20genlogin\x20ok','Đã\x20có\x20phiên\x20bản\x20mới:\x20','350824OguMXK','SERVER_HOST','parse','nowTime','log','string','input','add','[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý','completed','tele','20ZjnFRJ','4919816KThPxX','rows','closeGenlogin:\x20','./workerBrowser.js','tele_id','./worker-api1.js','status','[updateTask]:\x20update\x20task\x20','chờ\x2030\x20giây\x20rồi\x20thử\x20lại','Số\x20lượng\x20task\x20chạy\x20song\x20song','from','[processTask]:\x20Xử\x20lý\x20task:\x20','[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro','entries','maxTime','\x20MB','height','name','terminate','170345IxHpdJ','checkDisk','\x20rồi\x20bro!','clrTimeout','TA\x20ĐI\x20ĐÂY','package.json','set','message','\x20nè\x20bro!','\x20MB,\x20Ta\x20OUT\x20đây!','Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20','tự\x20động\x20sắp\x20xếp\x20vị\x20trí\x20hiển\x20thị\x20trình\x20duyệt\x20','profiles','timestamp','catch','\x20task\x20trong\x20hàng\x20đợi','screens','store','[processTasks]:\x20Phát\x20Hiện\x20','Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro','Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ','[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20','memoryUsage','[eTimeout]main:\x20turn\x20on\x20timeout\x20flag','Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị','[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20','[xoaTimeout]main:\x20','thư\x20mục\x20chứa\x20data\x20genlogin','Task\x20phải\x20là\x20một\x20đối\x20tượng','chưa\x20có\x20task\x20mới','cols','400x900','[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20','Stderr:\x20','[checkUpdate]Bạn\x20đang\x20chạy\x20phiên\x20bản\x20mới\x20nhất','1390896uMqzoo','\x20with\x20data:\x20','floor','Dung\x20lượng\x20trống\x20ổ\x20C:\x20không\x20đủ!\x20','updateTask','Start\x20App:\x20','api','4154184gwwhrU','[createWorkerPromise]:\x20','utf-8','getAllProfiles:\x20','screenWidthHeight','heapUsed','genDataProfiles','compareExchange','width','nextrunstamp','[processTasks]:','24YUgaeT','13791008kLOffw','browserWidthHeight','[createWorkerPromise]:\x20main\x20','[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20','độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20','\x20task\x20đang\x20chạy','username','profileThreads','[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20','Garbage\x20Collector\x20đã\x20chạy!','worker1','genProfiles','taskkill\x20/IM\x20genLogin.exe\x20/F','scale','Lỗi\x20không\x20xác\x20định','1920x1080','[createWorkerPromise]:\x20main\x20kết\x20thúc\x20worker','[processTasks]:\x20Thêm\x20task\x20','userInfo','substring','kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20','Drive\x20not\x20found','pending','LongCAutoAirdrop','exit','Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro','race','https://raw.githubusercontent.com/resistor3300/longCTools/refs/heads/main/package.json','56PoGqXe','Memory','length','value','[checkUpdate]\x20Lỗi\x20parse\x20JSON:\x20','❌\x20Dung\x20lượng\x20trống\x20không\x20đủ!','ceil','taskMode','getListProfiles','No\x20task\x20found','Heap\x20Used:\x20','object','Lỗi:\x20','wmic\x20logicaldisk\x20get\x20caption,freespace','max','Lỗi\x20App\x20genlogin\x20nhé\x20bro!','round','map','Kiểm\x20tra\x20task\x20sau\x2060\x20giây','OK\x20rồi\x20man.\x20tắt\x20genlogin\x20đi\x20bro','toFixed','games','Tự\x20động\x20tắt\x20genlogin','[processTask]:\x20DONE\x20TASK\x20','Lỗi\x20chung:\x20','trim','[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:','size','APIKEY\x20not\x20found!','url','[eTimeout]main:\x20reset\x20timeout','version','[processTasks]:\x20screens:','tọa\x20độ\x20hiển\x20thị\x20trình\x20duyệt\x20','main','readFile','httpGet','\x20treo\x20đang\x20chạy\x20từ\x20','split','env','reduce','taskIndex','|screenWidthHeight:','screenData','[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','\x20vào\x20hàng\x20đợi','3946kzcbzC','cwd','Processing\x20profile:\x20','error'];a0_0x561f=function(){return _0x1c3479;};return a0_0x561f();}const __filename=fileURLToPath(import.meta[a0_0x5aac7d(0x1f5)]),__dirname=a0_0x17007e['dirname'](__filename),{machine_id,machineIdSync}=a0_0x477487,machineId=machineIdSync()[a0_0x5aac7d(0x283)](0x0,0x8),appName=a0_0x5aac7d(0x287)+'-'+machineId,nameFile=a0_0x5aac7d(0x27b)+'-'+machineId,genDataFile=a0_0x5aac7d(0x26a)+'-'+machineId,appSetings={'maxTaskThreads':{'type':a0_0x5aac7d(0x220),'value':0x3,'note':a0_0x5aac7d(0x22f)},'screens':{'type':a0_0x5aac7d(0x220),'value':0x1,'note':a0_0x5aac7d(0x252)},'screenWidthHeight':{'type':a0_0x5aac7d(0x220),'value':a0_0x5aac7d(0x27f),'note':a0_0x5aac7d(0x274)},'browserWidthHeight':{'type':a0_0x5aac7d(0x220),'value':a0_0x5aac7d(0x259),'note':a0_0x5aac7d(0x284)},'autoSetBrowserPosition':{'type':'checkbox','value':'y','note':a0_0x5aac7d(0x245)},'customBrowserPosition':{'type':a0_0x5aac7d(0x220),'value':'0x0','note':a0_0x5aac7d(0x1f9)},'genDataFolder':{'type':a0_0x5aac7d(0x220),'value':a0_0x17007e['join']('C:',a0_0x5aac7d(0x211),a0_0x330f43[a0_0x5aac7d(0x282)]()[a0_0x5aac7d(0x276)],a0_0x5aac7d(0x20a)),'note':a0_0x5aac7d(0x255)}};let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,firstRun=!![],appStatus=0x0,tele_id,version,prevTime,prevTimeCkDisk;async function main(){const _0x37be1d=a0_0x5aac7d;try{log(_0x37be1d(0x1fa),_0x37be1d(0x262)+appName,null,'w','='),await delay(0x3e8);if(!process[_0x37be1d(0x1ff)]['APIKEY']){log(_0x37be1d(0x1fa),_0x37be1d(0x1f4),null,![]),log(_0x37be1d(0x1fa),'Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro',null,'w'),log(_0x37be1d(0x1fa),_0x37be1d(0x24d),null,'w'),log(_0x37be1d(0x1fa),_0x37be1d(0x215),null,'w'),log(_0x37be1d(0x1fa),_0x37be1d(0x23e),null,'w','=');return;}genlogin=new a0_0x509b0f('',!![]),http=new a0_0x3bc055(process[_0x37be1d(0x1ff)][_0x37be1d(0x21b)],process[_0x37be1d(0x1ff)]['APIKEY'],!![]),tele_id=await http['getTeleId'](_0x37be1d(0x1fa)),version=await checkUpdate(),prevTime=Date[_0x37be1d(0x217)](),prevTimeCkDisk=Date[_0x37be1d(0x217)]();tele_id[_0x37be1d(0x22a)]&&await http[_0x37be1d(0x224)](_0x37be1d(0x1fa),tele_id[_0x37be1d(0x22a)],'Start\x20App:\x20'+appName+_0x37be1d(0x242));let _0x2c5f04,_0x286542=0x1,_0x33aa02=0x1,_0x1cb031=0x0,_0x24033e;while(!![]){try{appStatus=0x1;if(_0x286542){if(!_0x1cb031){GenDataProfile=null;_0x33aa02&&(_0x24033e=null,_0x24033e=await genlogin[_0x37be1d(0x1e0)](_0x37be1d(0x1fa)));if(!_0x24033e||!_0x33aa02){const _0x529013=await http['genDataProfiles'](_0x37be1d(0x1fa),genDataFile);!_0x529013[_0x37be1d(0x1db)]?(log(_0x37be1d(0x1fa),_0x37be1d(0x233),null,'w'),log(_0x37be1d(0x1fa),_0x37be1d(0x289),null,'w'),log(_0x37be1d(0x1fa),''+_0x529013[_0x37be1d(0x209)],null,![]),log(_0x37be1d(0x1fa),'chờ\x2030\x20giây\x20rồi\x20thử\x20lại',null,'i'),tele_id&&tele_id['tele_id']&&await http['tele']('main',tele_id[_0x37be1d(0x22a)],_0x37be1d(0x1e7))):GenDataProfile=_0x529013[_0x37be1d(0x1db)];}else{GenDataProfile=await _0x24033e[_0x37be1d(0x246)],await http['genDataProfiles'](_0x37be1d(0x1fa),genDataFile,GenDataProfile),_0x33aa02=0x0;continue;}}if(await genlogin[_0x37be1d(0x1e0)](_0x37be1d(0x1fa))){log(_0x37be1d(0x1fa),_0x37be1d(0x1eb),null,'w'),_0x1cb031=0x1,await closeGenlogin(),await delay(0xbb8);continue;}_0x286542=0x0;}await delay(0x3e8),getAllProfiles=await http['getAllProfiles'](_0x37be1d(0x1fa),appName,nameFile,GenDataProfile,appSetings),log(_0x37be1d(0x1fa),_0x37be1d(0x267)+json(getAllProfiles)),await delay(0x186a0);if(!getAllProfiles[_0x37be1d(0x1db)]||!getAllProfiles||getAllProfiles[_0x37be1d(0x1db)][_0x37be1d(0x1da)]<=0x0){log(_0x37be1d(0x1fa),_0x37be1d(0x212),null,![]),log(_0x37be1d(0x1fa),_0x37be1d(0x22e),null,'i');throw new Error(_0x37be1d(0x1e1));}log(_0x37be1d(0x1fa),'getAllProfiles.value\x20OK');const _0x4f12dd=Object[_0x37be1d(0x234)](getAllProfiles['value']);maxTask=parseInt(getAllProfiles['maxTask']);const _0x38561d=await processTasks(_0x4f12dd);if(taskQueue[_0x37be1d(0x286)]>0x0){const _0xc36d81=await getRunningTasks(taskStatus,'running');log(_0x37be1d(0x1fa),taskQueue[_0x37be1d(0x1f3)]+_0x37be1d(0x249),null,'w'),log(_0x37be1d(0x1fa),taskQueue[_0x37be1d(0x286)]+_0x37be1d(0x275),null,'w'),log(_0x37be1d(0x1fa),_0x37be1d(0x20e)+_0xc36d81,null,'w');}else!_0x38561d&&log(_0x37be1d(0x1fa),_0x37be1d(0x257),null,'w');log('main','[main]\x20Task\x20Status:\x20'+Array[_0x37be1d(0x230)](taskStatus[_0x37be1d(0x234)]()),null,'c'),log(_0x37be1d(0x1fa),_0x37be1d(0x1ea),null,'i'),Date[_0x37be1d(0x217)]()-prevTime>=0x5265c00&&(prevTime=Date[_0x37be1d(0x217)](),checkUpdate()),Date[_0x37be1d(0x217)]()-prevTimeCkDisk>=0x493e0&&(prevTimeCkDisk=Date[_0x37be1d(0x217)](),checkDisk()),logMemoryUsage(),getAllProfiles=null,await delay(0x7530);}catch(_0x162e95){log(_0x37be1d(0x1fa),'Lỗi\x20while:\x20'+_0x162e95,null,![]),log(_0x37be1d(0x1fa),'Chờ\x2060\x20giây',null,'i'),tele_id&&tele_id[_0x37be1d(0x22a)]&&await http[_0x37be1d(0x224)](_0x37be1d(0x1fa),tele_id[_0x37be1d(0x22a)],appName+'\x20Lỗi\x20'+_0x162e95+_0x37be1d(0x23c)),await delay(0x7530);}}}catch(_0x1f7408){log(_0x37be1d(0x1fa),_0x37be1d(0x1f0)+_0x1f7408,null,![]),appStatus=0x0;}}main()[a0_0x5aac7d(0x248)](console[a0_0x5aac7d(0x209)]);async function processTasks(_0x2c97dd){const _0x651a19=a0_0x5aac7d;try{if(firstRun){log('main','[processTasks]:\x20FirstRun',null,'c','*'),taskQueue=new a0_0x235a34({'concurrency':maxTask}),tasksDataBuffer=new SharedArrayBuffer(_0x2c97dd[_0x651a19(0x1da)]*0x4),tasksData=new Int32Array(tasksDataBuffer);for(var _0x495ef3=0x0;_0x495ef3<tasksData[_0x651a19(0x1da)];_0x495ef3++){Atomics[_0x651a19(0x24b)](tasksData,_0x495ef3,0x2);}firstRun=![],taskStatus=new Map();let _0x2506aa=0x0;for(const [_0x5be3fc,_0x3d57e0]of _0x2c97dd){_0x5be3fc<parseInt(getAllProfiles['maxTask'])&&(_0x2506aa+=parseInt(_0x3d57e0[_0x651a19(0x277)]));}screenDataBuffer=new SharedArrayBuffer((parseInt(_0x2506aa)*0x3+0xd)*0x4),screenData=new Int32Array(screenDataBuffer);let _0x3c3a6c=[];for(let _0x505b0b=0x0;_0x505b0b<parseInt(getAllProfiles[_0x651a19(0x24a)]);_0x505b0b++){const _0x451176=getAllProfiles[_0x651a19(0x268)][_0x651a19(0x1fe)]('x');_0x3c3a6c[_0x651a19(0x213)]({'width':parseInt(_0x451176[0x0]),'height':parseInt(_0x451176[0x1])});}const _0x2dd650=getAllProfiles[_0x651a19(0x271)]['split']('x'),_0x10542b=parseInt(_0x2dd650[0x0]),_0x1d46ed=parseInt(_0x2dd650[0x1]),_0x25a6b8=_0x2506aa,_0x1b7fd6=_0x3c3a6c[_0x651a19(0x200)]((_0x12e5e6,_0x5d2d9f)=>_0x12e5e6+_0x5d2d9f[_0x651a19(0x26c)],0x0),_0x3eccab=Math[_0x651a19(0x1e6)](..._0x3c3a6c[_0x651a19(0x1e9)](_0xd83dc=>_0xd83dc[_0x651a19(0x237)])),_0x253e67=await calScreenArr(_0x10542b,_0x1d46ed,_0x1b7fd6,_0x3eccab,_0x2506aa);screenData=_0x253e67[_0x651a19(0x203)],log(_0x651a19(0x1fa),'số\x20màn\x20hình:\x20'+getAllProfiles[_0x651a19(0x24a)],null,'w'),log('main','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20'+_0x1b7fd6+'x'+_0x3eccab,null,'w'),log(_0x651a19(0x1fa),_0x651a19(0x244)+_0x253e67[_0x651a19(0x227)]+',\x20mỗi\x20cột:\x20'+_0x253e67[_0x651a19(0x258)],null,'w'),log(_0x651a19(0x1fa),'Tỷ\x20lệ\x20thu\x20nhỏ:\x20'+_0x253e67[_0x651a19(0x27d)],null,'w'),log(_0x651a19(0x1fa),_0x651a19(0x1f8)+getAllProfiles[_0x651a19(0x24a)]+_0x651a19(0x202)+getAllProfiles[_0x651a19(0x268)],null,'w'),await delay(0x3e8);}const _0x1a1b28=[];for(const [_0xad0927,_0x24be17]of _0x2c97dd){_0x24be17[_0x651a19(0x201)]=_0xad0927;const _0x22b77b=await genlogin[_0x651a19(0x21d)](_0x651a19(0x1fa));log(_0x651a19(0x1fa),_0x651a19(0x216)+_0x22b77b['timestamp'],null,'i'),log(_0x651a19(0x1fa),'[processTasks]:\x20task.nextrunstamp:\x20'+_0x24be17[_0x651a19(0x26d)],null,'i'),log('main',_0x651a19(0x20b)+_0x24be17[_0x651a19(0x22c)],null,'i'),log(_0x651a19(0x1fa),_0x651a19(0x26e)+_0x22b77b[_0x651a19(0x247)]+'|'+(parseInt(_0x24be17[_0x651a19(0x26d)])+parseInt(_0x24be17[_0x651a19(0x235)]))+'|'+parseInt(_0x24be17[_0x651a19(0x22c)]),null,'w');if(_0x22b77b['timestamp']>=_0x24be17[_0x651a19(0x26d)]&&parseInt(_0x24be17[_0x651a19(0x22c)])===0x0){log('main',_0x651a19(0x281)+_0x24be17[_0x651a19(0x238)]+_0x651a19(0x205),null,'i'),taskStatus[_0x651a19(0x240)](_0x24be17[_0x651a19(0x238)],_0x651a19(0x286));const _0x114665=await updateTask(_0x24be17[_0x651a19(0x238)],{'status':0x1,'nextRun':0x1});_0x1a1b28[_0x651a19(0x213)](taskQueue['add'](()=>processTask(_0x24be17))),taskStatus[_0x651a19(0x240)](_0x24be17['name'],'running'),await delay(0x7d0);}else{if(_0x22b77b[_0x651a19(0x247)]>parseInt(_0x24be17[_0x651a19(0x26d)])+parseInt(_0x24be17[_0x651a19(0x235)])&&parseInt(_0x24be17[_0x651a19(0x22c)])===0x1&&(taskStatus['get'](_0x24be17[_0x651a19(0x238)])===_0x651a19(0x223)||!taskStatus[_0x651a19(0x214)](_0x24be17[_0x651a19(0x238)]))){log(_0x651a19(0x1fa),_0x651a19(0x24c)+_0x24be17['name']+_0x651a19(0x1fd)+_0x24be17['nextrun'],null,'w','*');const _0x4ba25d=await updateTask(_0x24be17[_0x651a19(0x238)],{'status':0x0,'nextRun':0x1});log(_0x651a19(0x1fa),_0x651a19(0x253)+_0x24be17[_0x651a19(0x238)],null,'i','*');}}}return _0x1a1b28[_0x651a19(0x1da)]>0x0?!![]:(log(_0x651a19(0x1fa),_0x651a19(0x222),null,'w'),null);}catch(_0xd189fd){return log(_0x651a19(0x1fa),_0x651a19(0x232)+_0xd189fd,null,![]),null;}}async function processTask(_0x250d5b){const _0x1089b5=a0_0x5aac7d;try{log(_0x1089b5(0x1fa),_0x1089b5(0x231)+_0x250d5b[_0x1089b5(0x238)],null,'i','=');if(!_0x250d5b||typeof _0x250d5b!=='object')throw new Error(_0x1089b5(0x256));const _0x1fe00f=createWorkerPromise(_0x250d5b),_0x2cfcb7=await _0x1fe00f;log(_0x1089b5(0x1fa),_0x1089b5(0x1ef)+_0x250d5b[_0x1089b5(0x238)],null,'w','DT');const _0x432237=await updateTask(_0x250d5b[_0x1089b5(0x238)],{'status':0x0,'nextRun':0x1});return taskStatus[_0x1089b5(0x240)](_0x250d5b[_0x1089b5(0x238)],_0x1089b5(0x223)),await delay(0x1388),_0x2cfcb7;}catch(_0x5d1a0d){return log(_0x1089b5(0x1fa),_0x1089b5(0x204)+_0x5d1a0d,null,![]),await updateTask(_0x250d5b['name'],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x44a125){const _0x5b4706=a0_0x5aac7d;return log('main',_0x5b4706(0x25a)+_0x44a125[_0x5b4706(0x238)],null,'i','-'),new Promise(async(_0x1a506d,_0x2a817c)=>{const _0x2748ea=_0x5b4706;let _0x44f57e;try{if(!_0x44a125||typeof _0x44a125!==_0x2748ea(0x1e3))return _0x2a817c(new Error(_0x2748ea(0x256)));const _0x1a5d69=_0x44a125[_0x2748ea(0x1df)]===_0x2748ea(0x263)?_0x2748ea(0x22b):_0x2748ea(0x229);_0x44f57e=await spawn(new Worker(_0x1a5d69)),log('main',_0x2748ea(0x265)+_0x1a5d69,null,'i');if(!_0x44f57e)return _0x2a817c(new Error('Không\x20thể\x20tạo\x20worker'));const _0x485ad4=parseInt(_0x44a125[_0x2748ea(0x235)])*0x3e8;if(isNaN(_0x485ad4))return _0x2a817c(new Error(_0x2748ea(0x24e)));const _0x19e7fb=setTimeout(async()=>{const _0x2e62f3=_0x2748ea;log('main',_0x2e62f3(0x273)+_0x44a125[_0x2e62f3(0x238)],null,'w','timeout'),await eTimeout(_0x44a125['taskIndex']),xoaTimeout(_0x19e7fb),await _0x44f57e[_0x2e62f3(0x27a)]({'timeout':!![],'task':_0x44a125,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'tele_id':tele_id});},_0x485ad4);log(_0x2748ea(0x1fa),_0x2748ea(0x265)+_0x44a125[_0x2748ea(0x238)]+'\x20set\x20timeout:\x20'+_0x485ad4+'\x20Timeout\x20ID:\x20'+_0x19e7fb,null,'w');const _0x299103=async _0x4fa43a=>{const _0x2e4830=_0x2748ea;try{if(_0x4fa43a['success']){log('main','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20'+_0x44a125[_0x2e4830(0x238)],null,'i'),xoaTimeout(_0x19e7fb),_0x1a506d(!![]);return;}else{if(!_0x4fa43a['success']){log(_0x2e4830(0x1fa),_0x2e4830(0x278)+_0x44a125[_0x2e4830(0x238)]+':\x20'+_0x4fa43a['error'],null,![]),_0x2a817c(new Error(_0x4fa43a['error']||_0x2e4830(0x27e)));return;}else{log(_0x2e4830(0x1fa),'[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20'+_0x44a125['name']+':\x20'+json(_0x4fa43a),null,'c','x'),log('main','[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20'+_0x44a125['name']+':\x20'+_0x4fa43a[_0x2e4830(0x209)],null,![]),_0x2a817c(new Error(_0x4fa43a[_0x2e4830(0x209)]||'Lỗi\x20không\x20xác\x20định'));return;}}}catch(_0x23c9a2){log('main',_0x2e4830(0x24f)+_0x44a125[_0x2e4830(0x238)]+':\x20'+_0x23c9a2['message'],null,![]),xoaTimeout(_0x19e7fb),_0x2a817c(_0x23c9a2);return;}},_0x2331d0=new Promise(async(_0x181a04,_0x4012d3)=>{const _0x1604d3=_0x2748ea;try{const _0x14f5ee=await _0x44f57e[_0x1604d3(0x27a)]({'version0':version,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'task':_0x44a125,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame,'tele_id':tele_id}),_0x32b249=await _0x299103(_0x14f5ee);_0x181a04(_0x32b249);}catch(_0x5b166d){_0x4012d3(_0x5b166d);}}),_0x1e229f=await Promise[_0x2748ea(0x28a)]([_0x2331d0]);log(_0x2748ea(0x1fa),_0x2748ea(0x272)+json(_0x1e229f),null,'w','@'),log('main',_0x2748ea(0x280),null,'w','-');_0x44f57e&&Thread['terminate']in _0x44f57e?await Thread[_0x2748ea(0x239)](_0x44f57e):log(_0x2748ea(0x1fa),'[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:',null,![],'x');_0x1a506d(_0x1e229f);return;}catch(_0xf5a714){log(_0x2748ea(0x1fa),'[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20'+_0xf5a714[_0x2748ea(0x241)],null,![]),_0x44f57e&&Thread['terminate']in _0x44f57e?await Thread[_0x2748ea(0x239)](_0x44f57e):log('main',_0x2748ea(0x1f2),null,![],'x'),_0x2a817c(_0xf5a714);}});}async function updateTask(_0xcc3a89,_0x4e4aa6){const _0x24e136=a0_0x5aac7d;if(!http||typeof http[_0x24e136(0x261)]!=='function'){log('main','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task',null,![]);return;}return log(_0x24e136(0x1fa),_0x24e136(0x22d)+_0xcc3a89+_0x24e136(0x25e)+_0x4e4aa6[_0x24e136(0x22c)]+'|'+_0x4e4aa6[_0x24e136(0x20d)],null,'i'),await http[_0x24e136(0x261)](_0x24e136(0x1fa),_0xcc3a89,_0x4e4aa6);}async function processProfile(_0x1159de){const _0x5c2cae=a0_0x5aac7d;console[_0x5c2cae(0x21e)](_0x5c2cae(0x1fa),_0x5c2cae(0x208)+_0x1159de['name']);const _0x549b43=_0x1159de[_0x5c2cae(0x1ed)];for(const _0x160a29 of _0x549b43){await gameQueue[_0x5c2cae(0x221)](()=>processGame(_0x160a29));}}async function getRunningTasks(_0x1099de,_0x428fc2){const _0x5cdd5a=a0_0x5aac7d,_0x3bdb0a=[];for(const [_0x2fb5ed,_0x9d54a7]of _0x1099de['entries']()){_0x9d54a7===_0x9d54a7&&_0x3bdb0a[_0x5cdd5a(0x213)](_0x2fb5ed);}return _0x3bdb0a;}async function calScreenArr(_0x1a46d8,_0x2db682,_0x4fa10b,_0x93c78d,_0x9512f3,_0x2f8423=0x1){const _0x46829b=a0_0x5aac7d,_0x4a5200=0x0;let _0x3573be=_0x1a46d8,_0x55598c=_0x2db682,_0x1b2a22,_0x2bfe2b,_0x4ed388=0x1;while(!![]){_0x2bfe2b=Math[_0x46829b(0x25f)](_0x4fa10b/_0x3573be),_0x1b2a22=Math[_0x46829b(0x1de)](_0x9512f3/_0x2bfe2b);if(_0x1b2a22*_0x55598c<=_0x93c78d)break;_0x4ed388*=0.95,_0x3573be=Math[_0x46829b(0x25f)](_0x1a46d8*_0x4ed388),_0x55598c=Math['floor'](_0x2db682*_0x4ed388);}_0x3573be=Math[_0x46829b(0x25f)](_0x3573be*1.26);const _0x305cf6=[];let _0x3e5c49=0x0;for(let _0x59916b=0x0;_0x59916b<_0x2f8423;_0x59916b++){const _0x1f20bd=Math[_0x46829b(0x1e8)](_0x4ed388*0xf4240);Atomics[_0x46829b(0x24b)](screenData,0x0,_0x59916b),Atomics[_0x46829b(0x24b)](screenData,0x1,_0x1f20bd),Atomics[_0x46829b(0x24b)](screenData,0x2,_0x1a46d8),Atomics[_0x46829b(0x24b)](screenData,0x3,_0x2db682),Atomics['store'](screenData,0x4,_0x3573be),Atomics[_0x46829b(0x24b)](screenData,0x5,_0x55598c);let _0x11d30d=0xa;for(let _0x167a04=0x0;_0x167a04<_0x1b2a22;_0x167a04++){const _0x2f303c=[];for(let _0x23e8ab=0x0;_0x23e8ab<_0x2bfe2b;_0x23e8ab++){if(_0x3e5c49>=_0x9512f3)break;const _0x3d0077=Math[_0x46829b(0x25f)](_0x23e8ab*_0x3573be),_0x482ce2=Math['floor'](_0x167a04*_0x55598c);if(_0x3d0077>_0x4fa10b||_0x482ce2>_0x93c78d)continue;Atomics[_0x46829b(0x24b)](screenData,_0x11d30d++,0x2),Atomics[_0x46829b(0x24b)](screenData,_0x11d30d++,_0x3d0077),Atomics[_0x46829b(0x24b)](screenData,_0x11d30d++,_0x482ce2),_0x3e5c49++;}if(_0x3e5c49>=_0x9512f3)break;}break;}return{'screenData':screenData,'scale':_0x4ed388,'rows':_0x1b2a22,'cols':_0x2bfe2b,'total':_0x3e5c49,'positions':_0x305cf6};}async function xoaTimeout(_0x43e3f8){const _0x44a45c=a0_0x5aac7d;try{clearTimeout(_0x43e3f8),log(_0x44a45c(0x1fa),'[xoaTimeout]main:\x20Xóa\x20timeout:'+_0x43e3f8,null,'w',_0x44a45c(0x23d));}catch(_0x207fa0){log('main',_0x44a45c(0x254)+_0x207fa0,null,![]);}}async function delay(_0x12c863){return new Promise(_0x19429c=>{setTimeout(_0x19429c,_0x12c863);});}async function eTimeout(_0x36862c){const _0x5eeeee=a0_0x5aac7d;return log('main',_0x5eeeee(0x251),null,'w'),Atomics['store'](tasksData,_0x36862c,0x1),!![];}async function rstTimeout(_0x5e2f06){const _0x4ee664=a0_0x5aac7d;return log(_0x4ee664(0x1fa),_0x4ee664(0x1f6),null,'w'),Atomics[_0x4ee664(0x26b)](tasksData,_0x5e2f06,0x1,0x2),!![];}async function closeGenlogin(){const _0x3af21a=a0_0x5aac7d;try{log(_0x3af21a(0x1fa),_0x3af21a(0x1ee),null,'w','-'),exec(_0x3af21a(0x27c),(_0x39363c,_0xc2d462,_0x449186)=>{const _0x2c1354=_0x3af21a;if(_0x39363c){log(_0x2c1354(0x1fa),_0x2c1354(0x1e4)+_0x39363c['message'],null,![]);return;}if(_0x449186){log(_0x2c1354(0x1fa),_0x2c1354(0x25b)+_0x449186,null,![]);return;}log(_0x2c1354(0x1fa),_0x2c1354(0x218));});}catch(_0x293e35){log('main',_0x3af21a(0x228)+_0x293e35,null,![]);}}async function checkUpdate(){const _0x1e6fdf=a0_0x5aac7d;try{const _0x3d252b=_0x1e6fdf(0x1d7),_0x194ea1=a0_0x17007e['join'](process[_0x1e6fdf(0x207)](),_0x1e6fdf(0x23f)),_0x2a55c6=await a0_0x533914['promises'][_0x1e6fdf(0x1fb)](_0x194ea1,_0x1e6fdf(0x266)),_0x57f20c=JSON[_0x1e6fdf(0x21c)](_0x2a55c6),_0x1975c9=_0x57f20c[_0x1e6fdf(0x1f7)];log(_0x1e6fdf(0x1fa),_0x1e6fdf(0x20c)+_0x1975c9,null,'w','-');const _0x286772=await http[_0x1e6fdf(0x1fc)]('main',_0x3d252b);await delay(0x3e8);if(_0x286772)try{const _0x555b2f=typeof _0x286772===_0x1e6fdf(0x21f)?JSON[_0x1e6fdf(0x21c)](_0x286772):_0x286772,_0x1163fa=_0x555b2f[_0x1e6fdf(0x1f7)];await delay(0x3e8),_0x1163fa!=_0x1975c9?(log('main','[checkUpdate]Có\x20phiên\x20bản\x20mới:\x20'+_0x1163fa,null,'w'),tele_id&&tele_id[_0x1e6fdf(0x22a)]&&await http['tele'](_0x1e6fdf(0x1fa),tele_id[_0x1e6fdf(0x22a)],_0x1e6fdf(0x219)+_0x1163fa)):log(_0x1e6fdf(0x1fa),_0x1e6fdf(0x25c),null,'w');}catch(_0x245042){log('main',_0x1e6fdf(0x1dc)+_0x245042['message'],null,![]);}return _0x1975c9;}catch(_0x206a31){return log(_0x1e6fdf(0x1fa),'[checkUpdate]Lỗi\x20khi\x20đọc\x20file\x20package.json:\x20'+_0x206a31,null,![]),null;}}async function checkDisk(){const _0x1b9027=a0_0x5aac7d;try{const _0x13669d=await checkDiskSpace('C:');log(_0x1b9027(0x23b),'🟢\x20Dung\x20lượng\x20trống:\x20'+_0x13669d[_0x1b9027(0x1ec)](0x2)+_0x1b9027(0x236),null,'w','+'),_0x13669d<=MIN_FREE_SPACE_MB&&(log(_0x1b9027(0x23b),_0x1b9027(0x1dd),null,'w','+'),tele_id[_0x1b9027(0x22a)]&&await http[_0x1b9027(0x224)](_0x1b9027(0x23b),tele_id[_0x1b9027(0x22a)],_0x1b9027(0x260)+_0x13669d[_0x1b9027(0x1ec)](0x2)+_0x1b9027(0x243)),process[_0x1b9027(0x288)]());}catch(_0x3a8397){log(_0x1b9027(0x23b),'❌\x20Lỗi\x20kiểm\x20tra\x20ổ\x20đĩa:\x20'+_0x3a8397[_0x1b9027(0x241)],null,'w','+');}}function checkDiskSpace(_0x2b78a7='C:'){return new Promise((_0x19af7a,_0x2e0211)=>{const _0x19b935=a0_0x3946;exec(_0x19b935(0x1e5),(_0x11f4a0,_0x28db69)=>{const _0x1a64e5=_0x19b935;if(_0x11f4a0){_0x2e0211(_0x11f4a0);return;}const _0x44f1c0=_0x28db69[_0x1a64e5(0x1f1)]()[_0x1a64e5(0x1fe)]('\x0a');for(const _0x422330 of _0x44f1c0){const _0x574b7a=_0x422330[_0x1a64e5(0x1f1)]()[_0x1a64e5(0x1fe)](/\s+/);if(_0x574b7a[0x0]===_0x2b78a7){const _0x1b381f=Math['round'](parseInt(_0x574b7a[0x1],0xa)/0x400/0x400);_0x19af7a(_0x1b381f);return;}}_0x2e0211(new Error(_0x1a64e5(0x285)));});});}function a0_0x3946(_0x167a4b,_0x2ea7fe){const _0x561fde=a0_0x561f();return a0_0x3946=function(_0x394637,_0x51f7a6){_0x394637=_0x394637-0x1d7;let _0x620d3b=_0x561fde[_0x394637];return _0x620d3b;},a0_0x3946(_0x167a4b,_0x2ea7fe);}async function logMemoryUsage(){const _0x39429d=a0_0x5aac7d,_0x35dbad=process[_0x39429d(0x250)]();log('Memory',_0x39429d(0x1e2)+(_0x35dbad[_0x39429d(0x269)]/0x400/0x400)[_0x39429d(0x1ec)](0x2)+'\x20MB,\x20RSS:\x20'+(_0x35dbad[_0x39429d(0x210)]/0x400/0x400)[_0x39429d(0x1ec)](0x2)+'\x20MB',null,'w','+'),_0x35dbad[_0x39429d(0x210)]>0x400*0x400*0x400*0x5&&(log(_0x39429d(0x1d9),'Bộ\x20nhớ\x20vượt\x20quá\x201GB!\x20Thu\x20hồi...',null,'w','+'),global['gc']&&(global['gc'](),log(_0x39429d(0x1d9),_0x39429d(0x279),null,'i','+')));}