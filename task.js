const a0_0xde5b7d=a0_0x3920;(function(_0x421d0f,_0x2a600e){const _0x5decfd=a0_0x3920,_0x5df07b=_0x421d0f();while(!![]){try{const _0x560535=-parseInt(_0x5decfd(0xef))/0x1*(parseInt(_0x5decfd(0xe6))/0x2)+parseInt(_0x5decfd(0xde))/0x3+-parseInt(_0x5decfd(0x119))/0x4+-parseInt(_0x5decfd(0x126))/0x5+parseInt(_0x5decfd(0x12e))/0x6*(-parseInt(_0x5decfd(0x120))/0x7)+-parseInt(_0x5decfd(0x114))/0x8+parseInt(_0x5decfd(0x15b))/0x9*(parseInt(_0x5decfd(0x149))/0xa);if(_0x560535===_0x2a600e)break;else _0x5df07b['push'](_0x5df07b['shift']());}catch(_0x2d58a1){_0x5df07b['push'](_0x5df07b['shift']());}}}(a0_0x5c17,0x43558));import'dotenv/config';import a0_0x2cf628 from'os';import a0_0x1f29a7 from'fs';import a0_0x49ae04 from'path';import{fileURLToPath}from'url';import a0_0x46a10f from'./modules/Genlogin.js';import a0_0x5d1821 from'./modules/http.js';import{log,json}from'./modules/logger.js';import a0_0x471078 from'node-machine-id';function a0_0x3920(_0x31534e,_0x49ef76){const _0x5c17f1=a0_0x5c17();return a0_0x3920=function(_0x3920c6,_0x12002){_0x3920c6=_0x3920c6-0xdc;let _0x57e1ab=_0x5c17f1[_0x3920c6];return _0x57e1ab;},a0_0x3920(_0x31534e,_0x49ef76);}import{spawn,Thread,Worker}from'threads';import{exec}from'child_process';import a0_0x490d64 from'p-queue';let tasksDataBuffer,tasksData,screenData,screenDataBuffer;const __filename=fileURLToPath(import.meta[a0_0xde5b7d(0x125)]),__dirname=a0_0x49ae04[a0_0xde5b7d(0x12f)](__filename),{machine_id,machineIdSync}=a0_0x471078,machineId=machineIdSync()[a0_0xde5b7d(0x171)](0x0,0x8),appName=a0_0xde5b7d(0x15c)+'-'+machineId,nameFile=a0_0xde5b7d(0x174)+'-'+machineId,genDataFile=a0_0xde5b7d(0x102)+'-'+machineId,appSetings={'maxTaskThreads':{'type':'input','value':0x3,'note':a0_0xde5b7d(0x157)},'screens':{'type':'input','value':0x1,'note':a0_0xde5b7d(0x152)},'screenWidthHeight':{'type':a0_0xde5b7d(0x13e),'value':a0_0xde5b7d(0x175),'note':a0_0xde5b7d(0xf5)},'browserWidthHeight':{'type':a0_0xde5b7d(0x13e),'value':a0_0xde5b7d(0x12c),'note':a0_0xde5b7d(0xfe)},'autoSetBrowserPosition':{'type':'checkbox','value':'y','note':a0_0xde5b7d(0x112)},'customBrowserPosition':{'type':a0_0xde5b7d(0x13e),'value':'0x0','note':a0_0xde5b7d(0xf2)},'genDataFolder':{'type':a0_0xde5b7d(0x13e),'value':a0_0x49ae04[a0_0xde5b7d(0x137)]('C:',a0_0xde5b7d(0xdc),a0_0x2cf628[a0_0xde5b7d(0x135)]()[a0_0xde5b7d(0x156)],a0_0xde5b7d(0x10d)),'note':a0_0xde5b7d(0x187)}};let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,firstRun=!![],appStatus=0x0,tele_id,version,prevTime;async function main(){const _0x6bc127=a0_0xde5b7d;try{log(_0x6bc127(0x109),_0x6bc127(0x183)+appName,null,'w','='),await delay(0x3e8);if(!process[_0x6bc127(0x188)][_0x6bc127(0x11b)]){log(_0x6bc127(0x109),'APIKEY\x20not\x20found!',null,![]),log(_0x6bc127(0x109),_0x6bc127(0x165),null,'w'),log(_0x6bc127(0x109),_0x6bc127(0x16c),null,'w'),log('main',_0x6bc127(0x12d),null,'w'),log('main',_0x6bc127(0x131),null,'w','=');return;}genlogin=new a0_0x46a10f('',!![]),http=new a0_0x5d1821(process[_0x6bc127(0x188)][_0x6bc127(0x17e)],process['env'][_0x6bc127(0x11b)],!![]),tele_id=await http[_0x6bc127(0xec)](_0x6bc127(0x109)),version=await checkUpdate(),prevTime=Date[_0x6bc127(0x14e)]();tele_id['tele_id']&&await http[_0x6bc127(0x121)](_0x6bc127(0x109),tele_id['tele_id'],'Start\x20App:\x20'+appName+_0x6bc127(0xf8));let _0x55e166,_0x2a7924=0x1,_0x78e47e=0x1,_0x3d51bc=0x0,_0x25293c;while(!![]){try{appStatus=0x1;if(_0x2a7924){if(!_0x3d51bc){_0x78e47e&&(_0x25293c=await genlogin['getListProfiles'](_0x6bc127(0x109)));if(!_0x25293c||!_0x78e47e){const _0x3a3086=await http['genDataProfiles'](_0x6bc127(0x109),genDataFile);!_0x3a3086[_0x6bc127(0xfa)]?(log(_0x6bc127(0x109),_0x6bc127(0x163),null,'w'),log(_0x6bc127(0x109),'Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro',null,'w'),log(_0x6bc127(0x109),''+_0x3a3086[_0x6bc127(0x10f)],null,![]),log('main',_0x6bc127(0xfb),null,'i'),tele_id&&tele_id[_0x6bc127(0x172)]&&await http[_0x6bc127(0x121)]('main',tele_id[_0x6bc127(0x172)],'Lỗi\x20App\x20genlogin\x20nhé\x20bro!')):GenDataProfile=_0x3a3086['value'];}else{GenDataProfile=await _0x25293c[_0x6bc127(0x10c)],await http[_0x6bc127(0x102)](_0x6bc127(0x109),genDataFile,GenDataProfile),_0x78e47e=0x0;continue;}}if(await genlogin[_0x6bc127(0x117)](_0x6bc127(0x109))){log(_0x6bc127(0x109),_0x6bc127(0x14d),null,'w'),_0x3d51bc=0x1,await closeGenlogin(),await delay(0xbb8);continue;}_0x2a7924=0x0;}await delay(0x3e8),getAllProfiles=await http[_0x6bc127(0x141)](_0x6bc127(0x109),appName,nameFile,GenDataProfile,appSetings);if(!getAllProfiles[_0x6bc127(0xfa)]||!getAllProfiles||getAllProfiles[_0x6bc127(0xfa)][_0x6bc127(0x150)]<=0x0){log('main','Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy',null,![]),log(_0x6bc127(0x109),_0x6bc127(0xfb),null,'i');throw new Error(_0x6bc127(0x12b));}log('main',_0x6bc127(0x186));const _0x362c40=Object['entries'](getAllProfiles[_0x6bc127(0xfa)]);maxTask=parseInt(getAllProfiles[_0x6bc127(0x15a)]);const _0x5a0a0f=await processTasks(_0x362c40);if(taskQueue[_0x6bc127(0xed)]>0x0){const _0x54b128=await getRunningTasks(taskStatus,_0x6bc127(0xf4));log('main',taskQueue[_0x6bc127(0x103)]+_0x6bc127(0x107),null,'w'),log(_0x6bc127(0x109),taskQueue['pending']+'\x20task\x20đang\x20chạy',null,'w'),log('main','Running\x20Task:'+_0x54b128,null,'w');}else!_0x5a0a0f&&log(_0x6bc127(0x109),_0x6bc127(0x129),null,'w');log('main','[main]\x20Task\x20Status:\x20'+Array[_0x6bc127(0xdd)](taskStatus['entries']()),null,'c'),log(_0x6bc127(0x109),'Kiểm\x20tra\x20task\x20sau\x2060\x20giây',null,'i'),Date['now']()-prevTime>=0x5265c00&&(prevTime=Date[_0x6bc127(0x14e)](),checkUpdate()),logMemoryUsage(),await delay(0x7530);}catch(_0x437b02){log('main',_0x6bc127(0x11f)+_0x437b02,null,![]),log('main',_0x6bc127(0x11c),null,'i'),tele_id&&tele_id['tele_id']&&await http[_0x6bc127(0x121)](_0x6bc127(0x109),tele_id[_0x6bc127(0x172)],appName+_0x6bc127(0x180)+_0x437b02+_0x6bc127(0x106)),await delay(0x7530);}}}catch(_0x12fed1){log(_0x6bc127(0x109),_0x6bc127(0xfc)+_0x12fed1,null,![]),appStatus=0x0;}}function a0_0x5c17(){const _0x47e96f=['tele_id','toFixed','genProfiles','1920x1080','screenWidthHeight','screens','clrTimeout','compareExchange','[eTimeout]main:\x20reset\x20timeout','store','screenData','[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20','SERVER_HOST','[checkUpdate]Bạn\x20đang\x20chạy\x20phiên\x20bản\x20mới\x20nhất','\x20Lỗi\x20','max','[xoaTimeout]main:\x20','Start\x20App:\x20','[createWorkerPromise]:\x20','[processTask]:\x20DONE\x20TASK\x20','getAllProfiles.value\x20OK','thư\x20mục\x20chứa\x20data\x20genlogin','env','nowTime','race','[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20','worker1','Bộ\x20nhớ\x20vượt\x20quá\x201GB!\x20Thu\x20hồi...','./workerBrowser.js','Users','from','260820mfukrT','set','[processTasks]:\x20Phát\x20Hiện\x20','log','entries','rows','nextrun','reduce','562lUbihR','Heap\x20Used:\x20','[checkUpdate]\x20Lỗi\x20parse\x20JSON:\x20','[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20','browserWidthHeight','số\x20màn\x20hình:\x20','getTeleId','pending','maxTime','307IBEpKD','parse','[processTasks]:\x20currentTime.timestamp:\x20','tọa\x20độ\x20hiển\x20thị\x20trình\x20duyệt\x20','\x20vào\x20hàng\x20đợi','running','độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20','heapUsed','[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20','\x20nè\x20bro!','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20','value','chờ\x2030\x20giây\x20rồi\x20thử\x20lại','Lỗi\x20chung:\x20','[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20','kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20','[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','\x20with\x20data:\x20','catch','genDataProfiles','size','scale','\x20treo\x20đang\x20chạy\x20từ\x20','\x20rồi\x20bro!','\x20task\x20trong\x20hàng\x20đợi','name','main','taskMode','floor','profiles','.genlogin','[processTasks]:\x20FirstRun','error','taskkill\x20/IM\x20genLogin.exe\x20/F','[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:','tự\x20động\x20sắp\x20xếp\x20vị\x20trí\x20hiển\x20thị\x20trình\x20duyệt\x20','message','1741952TPzIrE','map','Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20','getListProfiles','Processing\x20profile:\x20','596792VGtfKF','Stderr:\x20','APIKEY','Chờ\x2060\x20giây','|screenWidthHeight:','taskIndex','Lỗi\x20while:\x20','119mkqkmB','tele','[processTasks]:\x20task.nextrunstamp:\x20','string','timestamp','url','1544725lvQfns','round','[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','chưa\x20có\x20task\x20mới','push','No\x20task\x20found','400x900','BYE\x20BYE','105234rZMlLD','dirname','Memory','TA\x20ĐI\x20ĐÂY','version','[updateTask]:\x20update\x20task\x20','terminate','userInfo','[createWorkerPromise]:\x20main\x20kết\x20thúc\x20worker','join','./worker-api1.js','[processTasks]:\x20screens:','function','cols','height','promises','input','cwd','\x20MB,/1GB!:\x20Thu\x20hồi\x20nhanh\x20còn\x20kịp','getAllProfiles','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task','memoryUsage','split','updateTask','success','add','[checkUpdate]Lỗi\x20khi\x20đọc\x20file\x20package.json:\x20','1970FeOlbV','timeout','package.json','utf-8','OK\x20rồi\x20man.\x20tắt\x20genlogin\x20đi\x20bro','now','Bộ\x20nhớ\x20vượt\x20quá\x20Heap\x20Used:\x20','length','[processTasks]:\x20task.status:\x20','Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị','Tỷ\x20lệ\x20thu\x20nhỏ:\x20','nextrunstamp','[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20','username','Số\x20lượng\x20task\x20chạy\x20song\x20song','completed','status','maxTask','57069dUYKod','LongCAutoAirdrop','[xoaTimeout]main:\x20Xóa\x20timeout:','httpGet','Tự\x20động\x20tắt\x20genlogin','Lỗi:\x20','tắt\x20genlogin\x20ok',',\x20mỗi\x20cột:\x20','Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro','readFile','Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro','[eTimeout]main:\x20turn\x20on\x20timeout\x20flag','Không\x20thể\x20tạo\x20worker','api','\x20MB,\x20RSS:\x20','[processTask]:\x20Xử\x20lý\x20task:\x20','object','Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro','[checkUpdate]Có\x20phiên\x20bản\x20mới:\x20','Task\x20phải\x20là\x20một\x20đối\x20tượng','has','[checkUpdate]Version:\x20','substring'];a0_0x5c17=function(){return _0x47e96f;};return a0_0x5c17();}main()[a0_0xde5b7d(0x101)](console[a0_0xde5b7d(0x10f)]);async function processTasks(_0x44652d){const _0x2f8696=a0_0xde5b7d;try{if(firstRun){log('main',_0x2f8696(0x10e),null,'c','*'),taskQueue=new a0_0x490d64({'concurrency':maxTask}),tasksDataBuffer=new SharedArrayBuffer(_0x44652d[_0x2f8696(0x150)]*0x4),tasksData=new Int32Array(tasksDataBuffer);for(var _0x1a6334=0x0;_0x1a6334<tasksData[_0x2f8696(0x150)];_0x1a6334++){Atomics['store'](tasksData,_0x1a6334,0x2);}firstRun=![],taskStatus=new Map();let _0x1ef9ac=0x0;for(const [_0x46779d,_0x2d1ee0]of _0x44652d){_0x46779d<parseInt(getAllProfiles[_0x2f8696(0x15a)])&&(_0x1ef9ac+=parseInt(_0x2d1ee0['profileThreads']));}screenDataBuffer=new SharedArrayBuffer((parseInt(_0x1ef9ac)*0x3+0xd)*0x4),screenData=new Int32Array(screenDataBuffer);let _0x381f6d=[];for(let _0x3d8475=0x0;_0x3d8475<parseInt(getAllProfiles['screens']);_0x3d8475++){const _0x348772=getAllProfiles[_0x2f8696(0x176)][_0x2f8696(0x144)]('x');_0x381f6d[_0x2f8696(0x12a)]({'width':parseInt(_0x348772[0x0]),'height':parseInt(_0x348772[0x1])});}const _0xc8c1e0=getAllProfiles[_0x2f8696(0xea)][_0x2f8696(0x144)]('x'),_0x15669d=parseInt(_0xc8c1e0[0x0]),_0x37a36e=parseInt(_0xc8c1e0[0x1]),_0x54db54=_0x1ef9ac,_0x3cf248=_0x381f6d[_0x2f8696(0xe5)]((_0x121683,_0x4be241)=>_0x121683+_0x4be241['width'],0x0),_0x4959c2=Math[_0x2f8696(0x181)](..._0x381f6d[_0x2f8696(0x115)](_0x5421b2=>_0x5421b2[_0x2f8696(0x13c)])),_0x4e3569=await calScreenArr(_0x15669d,_0x37a36e,_0x3cf248,_0x4959c2,_0x1ef9ac);screenData=_0x4e3569[_0x2f8696(0x17c)],log(_0x2f8696(0x109),_0x2f8696(0xeb)+getAllProfiles['screens'],null,'w'),log(_0x2f8696(0x109),_0x2f8696(0xf9)+_0x3cf248+'x'+_0x4959c2,null,'w'),log(_0x2f8696(0x109),_0x2f8696(0x116)+_0x4e3569[_0x2f8696(0xe3)]+_0x2f8696(0x162)+_0x4e3569[_0x2f8696(0x13b)],null,'w'),log(_0x2f8696(0x109),_0x2f8696(0x153)+_0x4e3569[_0x2f8696(0x104)],null,'w'),log(_0x2f8696(0x109),_0x2f8696(0x139)+getAllProfiles[_0x2f8696(0x177)]+_0x2f8696(0x11d)+getAllProfiles[_0x2f8696(0x176)],null,'w'),await delay(0x3e8);}const _0x5bfeb6=[];for(const [_0x11bd6b,_0x1869ca]of _0x44652d){_0x1869ca[_0x2f8696(0x11e)]=_0x11bd6b;const _0x4a171e=await genlogin[_0x2f8696(0x189)](_0x2f8696(0x109));log(_0x2f8696(0x109),_0x2f8696(0xf1)+_0x4a171e[_0x2f8696(0x124)],null,'i'),log(_0x2f8696(0x109),_0x2f8696(0x122)+_0x1869ca[_0x2f8696(0x154)],null,'i'),log(_0x2f8696(0x109),_0x2f8696(0x151)+_0x1869ca[_0x2f8696(0x159)],null,'i'),log(_0x2f8696(0x109),'[processTasks]:'+_0x4a171e[_0x2f8696(0x124)]+'|'+(parseInt(_0x1869ca[_0x2f8696(0x154)])+parseInt(_0x1869ca['maxTime']))+'|'+parseInt(_0x1869ca[_0x2f8696(0x159)]),null,'w');if(_0x4a171e[_0x2f8696(0x124)]>=_0x1869ca[_0x2f8696(0x154)]&&parseInt(_0x1869ca['status'])===0x0){log(_0x2f8696(0x109),'[processTasks]:\x20Thêm\x20task\x20'+_0x1869ca[_0x2f8696(0x108)]+_0x2f8696(0xf3),null,'i'),taskStatus['set'](_0x1869ca[_0x2f8696(0x108)],_0x2f8696(0xed));const _0xbab9fc=await updateTask(_0x1869ca[_0x2f8696(0x108)],{'status':0x1,'nextRun':0x1});_0x5bfeb6[_0x2f8696(0x12a)](taskQueue[_0x2f8696(0x147)](()=>processTask(_0x1869ca))),taskStatus[_0x2f8696(0xdf)](_0x1869ca['name'],_0x2f8696(0xf4)),await delay(0x7d0);}else{if(_0x4a171e[_0x2f8696(0x124)]>parseInt(_0x1869ca[_0x2f8696(0x154)])+parseInt(_0x1869ca[_0x2f8696(0xee)])&&parseInt(_0x1869ca['status'])===0x1&&(taskStatus['get'](_0x1869ca[_0x2f8696(0x108)])==='completed'||!taskStatus[_0x2f8696(0x16f)](_0x1869ca[_0x2f8696(0x108)]))){log(_0x2f8696(0x109),_0x2f8696(0xe0)+_0x1869ca['name']+_0x2f8696(0x105)+_0x1869ca[_0x2f8696(0xe4)],null,'w','*');const _0x5d478b=await updateTask(_0x1869ca[_0x2f8696(0x108)],{'status':0x0,'nextRun':0x1});log(_0x2f8696(0x109),_0x2f8696(0x155)+_0x1869ca[_0x2f8696(0x108)],null,'i','*');}}}return _0x5bfeb6[_0x2f8696(0x150)]>0x0?!![]:(log(_0x2f8696(0x109),'[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý',null,'w'),null);}catch(_0x9f83eb){return log(_0x2f8696(0x109),_0x2f8696(0xff)+_0x9f83eb,null,![]),null;}}async function processTask(_0x3b7c89){const _0x184076=a0_0xde5b7d;try{log(_0x184076(0x109),_0x184076(0x16a)+_0x3b7c89[_0x184076(0x108)],null,'i','=');if(!_0x3b7c89||typeof _0x3b7c89!==_0x184076(0x16b))throw new Error(_0x184076(0x16e));const _0x135a79=createWorkerPromise(_0x3b7c89),_0x4a196e=await _0x135a79;log(_0x184076(0x109),_0x184076(0x185)+_0x3b7c89[_0x184076(0x108)],null,'w','DT');const _0x5afbbf=await updateTask(_0x3b7c89[_0x184076(0x108)],{'status':0x0,'nextRun':0x1});return taskStatus['set'](_0x3b7c89[_0x184076(0x108)],_0x184076(0x158)),await delay(0x1388),_0x4a196e;}catch(_0x23e969){return log(_0x184076(0x109),_0x184076(0x128)+_0x23e969,null,![]),await updateTask(_0x3b7c89['name'],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x33545f){const _0x508399=a0_0xde5b7d;return log(_0x508399(0x109),_0x508399(0x18b)+_0x33545f[_0x508399(0x108)],null,'i','-'),new Promise(async(_0xb69520,_0x305a77)=>{const _0x43f4d5=_0x508399;let _0x57144b;try{if(!_0x33545f||typeof _0x33545f!==_0x43f4d5(0x16b))return _0x305a77(new Error(_0x43f4d5(0x16e)));const _0xd9a423=_0x33545f[_0x43f4d5(0x10a)]===_0x43f4d5(0x168)?_0x43f4d5(0x138):_0x43f4d5(0x18e);_0x57144b=await spawn(new Worker(_0xd9a423)),log(_0x43f4d5(0x109),_0x43f4d5(0x184)+_0xd9a423,null,'i');if(!_0x57144b)return _0x305a77(new Error(_0x43f4d5(0x167)));const _0x1794b6=parseInt(_0x33545f[_0x43f4d5(0xee)])*0x3e8;if(isNaN(_0x1794b6))return _0x305a77(new Error('Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ'));const _0x311d35=setTimeout(async()=>{const _0xa25020=_0x43f4d5;log(_0xa25020(0x109),_0xa25020(0x17d)+_0x33545f[_0xa25020(0x108)],null,'w',_0xa25020(0x14a)),await eTimeout(_0x33545f['taskIndex']),xoaTimeout(_0x311d35),await _0x57144b[_0xa25020(0x18c)]({'timeout':!![],'task':_0x33545f,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'tele_id':tele_id});},_0x1794b6);log(_0x43f4d5(0x109),_0x43f4d5(0x184)+_0x33545f[_0x43f4d5(0x108)]+'\x20set\x20timeout:\x20'+_0x1794b6+'\x20Timeout\x20ID:\x20'+_0x311d35,null,'w');const _0x48cf49=async _0x53e2dd=>{const _0x53fcd1=_0x43f4d5;try{if(_0x53e2dd['success']){log(_0x53fcd1(0x109),'[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20'+_0x33545f['name'],null,'i'),xoaTimeout(_0x311d35),_0xb69520(!![]);return;}else{if(!_0x53e2dd[_0x53fcd1(0x146)]){log(_0x53fcd1(0x109),'[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20'+_0x33545f[_0x53fcd1(0x108)]+':\x20'+_0x53e2dd[_0x53fcd1(0x10f)],null,![]),_0x305a77(new Error(_0x53e2dd[_0x53fcd1(0x10f)]||'Lỗi\x20không\x20xác\x20định'));return;}else{log(_0x53fcd1(0x109),_0x53fcd1(0xf7)+_0x33545f[_0x53fcd1(0x108)]+':\x20'+json(_0x53e2dd),null,'c','x'),log(_0x53fcd1(0x109),_0x53fcd1(0xfd)+_0x33545f[_0x53fcd1(0x108)]+':\x20'+_0x53e2dd[_0x53fcd1(0x10f)],null,![]),_0x305a77(new Error(_0x53e2dd[_0x53fcd1(0x10f)]||'Lỗi\x20không\x20xác\x20định'));return;}}}catch(_0x5cc56a){log(_0x53fcd1(0x109),'[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20'+_0x33545f[_0x53fcd1(0x108)]+':\x20'+_0x5cc56a[_0x53fcd1(0x113)],null,![]),xoaTimeout(_0x311d35),_0x305a77(_0x5cc56a);return;}},_0x4283f5=new Promise(async(_0x4083ec,_0xb020e8)=>{try{const _0x5c1b22=await _0x57144b['worker1']({'version0':version,'tasksDataBuffer':tasksDataBuffer,'screenDataBuffer':screenDataBuffer,'task':_0x33545f,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame,'tele_id':tele_id}),_0x37c2cc=await _0x48cf49(_0x5c1b22);_0x4083ec(_0x37c2cc);}catch(_0x16a4c0){_0xb020e8(_0x16a4c0);}}),_0x43ff13=await Promise[_0x43f4d5(0x18a)]([_0x4283f5]);log(_0x43f4d5(0x109),'[createWorkerPromise]:\x20main\x20'+json(_0x43ff13),null,'w','@'),log(_0x43f4d5(0x109),_0x43f4d5(0x136),null,'w','-');_0x57144b&&Thread[_0x43f4d5(0x134)]in _0x57144b?await Thread[_0x43f4d5(0x134)](_0x57144b):log(_0x43f4d5(0x109),_0x43f4d5(0x111),null,![],'x');_0xb69520(_0x43ff13);return;}catch(_0x38eadd){log(_0x43f4d5(0x109),_0x43f4d5(0xe9)+_0x38eadd[_0x43f4d5(0x113)],null,![]),_0x57144b&&Thread[_0x43f4d5(0x134)]in _0x57144b?await Thread[_0x43f4d5(0x134)](_0x57144b):log(_0x43f4d5(0x109),'[createWorkerPromise]:\x20Worker\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20bị\x20giải\x20phóng:',null,![],'x'),_0x305a77(_0x38eadd);}});}async function updateTask(_0x38504d,_0x33649a){const _0x58481e=a0_0xde5b7d;if(!http||typeof http[_0x58481e(0x145)]!==_0x58481e(0x13a)){log(_0x58481e(0x109),_0x58481e(0x142),null,![]);return;}return log('main',_0x58481e(0x133)+_0x38504d+_0x58481e(0x100)+_0x33649a['status']+'|'+_0x33649a['nextRun'],null,'i'),await http[_0x58481e(0x145)](_0x58481e(0x109),_0x38504d,_0x33649a);}async function processProfile(_0x3a32ee){const _0x5291c6=a0_0xde5b7d;console[_0x5291c6(0xe1)](_0x5291c6(0x109),_0x5291c6(0x118)+_0x3a32ee[_0x5291c6(0x108)]);const _0x252a79=_0x3a32ee['games'];for(const _0x1b880a of _0x252a79){await gameQueue['add'](()=>processGame(_0x1b880a));}}async function getRunningTasks(_0x124414,_0x3f2a77){const _0x2dd3a6=a0_0xde5b7d,_0x4e1968=[];for(const [_0x4c5f06,_0x52dd29]of _0x124414[_0x2dd3a6(0xe2)]()){_0x52dd29===_0x52dd29&&_0x4e1968[_0x2dd3a6(0x12a)](_0x4c5f06);}return _0x4e1968;}async function calScreenArr(_0x355fcf,_0x264478,_0x331891,_0x4d43e2,_0x179400,_0x43bfa6=0x1){const _0x8e1d4a=a0_0xde5b7d,_0x1e8fd6=0x0;let _0x64019d=_0x355fcf,_0x1d59ea=_0x264478,_0x593601,_0x5981be,_0x11472e=0x1;while(!![]){_0x5981be=Math[_0x8e1d4a(0x10b)](_0x331891/_0x64019d),_0x593601=Math['ceil'](_0x179400/_0x5981be);if(_0x593601*_0x1d59ea<=_0x4d43e2)break;_0x11472e*=0.95,_0x64019d=Math[_0x8e1d4a(0x10b)](_0x355fcf*_0x11472e),_0x1d59ea=Math[_0x8e1d4a(0x10b)](_0x264478*_0x11472e);}_0x64019d=Math['floor'](_0x64019d*1.26);const _0xe782ef=[];let _0x4e75f7=0x0;for(let _0x292bcc=0x0;_0x292bcc<_0x43bfa6;_0x292bcc++){const _0x53c920=Math[_0x8e1d4a(0x127)](_0x11472e*0xf4240);Atomics['store'](screenData,0x0,_0x292bcc),Atomics['store'](screenData,0x1,_0x53c920),Atomics['store'](screenData,0x2,_0x355fcf),Atomics[_0x8e1d4a(0x17b)](screenData,0x3,_0x264478),Atomics[_0x8e1d4a(0x17b)](screenData,0x4,_0x64019d),Atomics['store'](screenData,0x5,_0x1d59ea);let _0x4f320c=0xa;for(let _0x4d0cae=0x0;_0x4d0cae<_0x593601;_0x4d0cae++){const _0x4370bc=[];for(let _0x15907a=0x0;_0x15907a<_0x5981be;_0x15907a++){if(_0x4e75f7>=_0x179400)break;const _0x314bf8=Math[_0x8e1d4a(0x10b)](_0x15907a*_0x64019d),_0x229c9b=Math[_0x8e1d4a(0x10b)](_0x4d0cae*_0x1d59ea);if(_0x314bf8>_0x331891||_0x229c9b>_0x4d43e2)continue;Atomics[_0x8e1d4a(0x17b)](screenData,_0x4f320c++,0x2),Atomics[_0x8e1d4a(0x17b)](screenData,_0x4f320c++,_0x314bf8),Atomics[_0x8e1d4a(0x17b)](screenData,_0x4f320c++,_0x229c9b),_0x4e75f7++;}if(_0x4e75f7>=_0x179400)break;}break;}return{'screenData':screenData,'scale':_0x11472e,'rows':_0x593601,'cols':_0x5981be,'total':_0x4e75f7,'positions':_0xe782ef};}async function xoaTimeout(_0x3ca4ee){const _0x1f585b=a0_0xde5b7d;try{clearTimeout(_0x3ca4ee),log('main',_0x1f585b(0x15d)+_0x3ca4ee,null,'w',_0x1f585b(0x178));}catch(_0x33acb9){log(_0x1f585b(0x109),_0x1f585b(0x182)+_0x33acb9,null,![]);}}async function delay(_0x2e12e2){return new Promise(_0x2abbb6=>{setTimeout(_0x2abbb6,_0x2e12e2);});}async function eTimeout(_0x27677a){const _0x27f745=a0_0xde5b7d;return log(_0x27f745(0x109),_0x27f745(0x166),null,'w'),Atomics[_0x27f745(0x17b)](tasksData,_0x27677a,0x1),!![];}async function rstTimeout(_0x469e78){const _0x362e64=a0_0xde5b7d;return log('main',_0x362e64(0x17a),null,'w'),Atomics[_0x362e64(0x179)](tasksData,_0x469e78,0x1,0x2),!![];}async function closeGenlogin(){const _0x21ecb4=a0_0xde5b7d;try{log('main',_0x21ecb4(0x15f),null,'w','-'),exec(_0x21ecb4(0x110),(_0x14e097,_0x293877,_0x38a07c)=>{const _0x385873=_0x21ecb4;if(_0x14e097){log(_0x385873(0x109),_0x385873(0x160)+_0x14e097[_0x385873(0x113)],null,![]);return;}if(_0x38a07c){log(_0x385873(0x109),_0x385873(0x11a)+_0x38a07c,null,![]);return;}log(_0x385873(0x109),_0x385873(0x161));});}catch(_0x10e74d){log(_0x21ecb4(0x109),'closeGenlogin:\x20'+_0x10e74d,null,![]);}}async function checkUpdate(){const _0x86374=a0_0xde5b7d;try{const _0xb38dd0='https://raw.githubusercontent.com/resistor3300/longCTools/refs/heads/main/package.json',_0x3ce44b=a0_0x49ae04[_0x86374(0x137)](process[_0x86374(0x13f)](),_0x86374(0x14b)),_0x49d2f0=await a0_0x1f29a7[_0x86374(0x13d)][_0x86374(0x164)](_0x3ce44b,_0x86374(0x14c)),_0x216419=JSON['parse'](_0x49d2f0),_0x1e4850=_0x216419[_0x86374(0x132)];log(_0x86374(0x109),_0x86374(0x170)+_0x1e4850,null,'w','-');const _0x5db568=await http[_0x86374(0x15e)]('main',_0xb38dd0);await delay(0x3e8);if(_0x5db568)try{const _0x1f9d0b=typeof _0x5db568===_0x86374(0x123)?JSON[_0x86374(0xf0)](_0x5db568):_0x5db568,_0x2b2a3c=_0x1f9d0b[_0x86374(0x132)];await delay(0x3e8),_0x2b2a3c!=_0x1e4850?(log(_0x86374(0x109),_0x86374(0x16d)+_0x2b2a3c,null,'w'),tele_id&&tele_id['tele_id']&&await http[_0x86374(0x121)](_0x86374(0x109),tele_id['tele_id'],'Đã\x20có\x20phiên\x20bản\x20mới:\x20'+_0x2b2a3c)):log(_0x86374(0x109),_0x86374(0x17f),null,'w');}catch(_0x4363c3){log(_0x86374(0x109),_0x86374(0xe8)+_0x4363c3['message'],null,![]);}return _0x1e4850;}catch(_0xfa4e67){return log('main',_0x86374(0x148)+_0xfa4e67,null,![]),null;}}async function logMemoryUsage(){const _0x528c14=a0_0xde5b7d,_0x133cba=process[_0x528c14(0x143)]();log(_0x528c14(0x130),_0x528c14(0xe7)+(_0x133cba[_0x528c14(0xf6)]/0x400/0x400)['toFixed'](0x2)+_0x528c14(0x169)+(_0x133cba['rss']/0x400/0x400)[_0x528c14(0x173)](0x2)+'\x20MB',null,'w','+'),_0x133cba[_0x528c14(0xf6)]>0x400*0x400*0x400&&(tele_id['tele_id']&&await http[_0x528c14(0x121)](_0x528c14(0x130),tele_id[_0x528c14(0x172)],_0x528c14(0x14f)+(_0x133cba[_0x528c14(0xf6)]/0x400/0x400)['toFixed'](0x2)+_0x528c14(0x140)),log(_0x528c14(0x130),_0x528c14(0x18d),null,'w','+'));}