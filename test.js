const a25_0xa5ef10=a25_0x4fd1;function a25_0x2991(){const _0x70147a=['Done','\x20Tele\x20K\x20OK',']:\x20XONG\x201\x20LƯỢT','\x20Api\x20mode','[loadGame]:\x20Script\x20','nextRunStamp','join','[xuLyGame]:\x20','[xuLyBrowser]:\x20không\x20lấy\x20được\x20bot','[loadGameApi]:\x20Lỗi\x20khi\x20load\x20và\x20thực\x20thi\x20script\x20','stringify','[xuLyGame]:Max\x20loop\x20rồi\x20bro','entries','SERVER_HOST','nextRunTime','[loadGame]:\x20Chạy\x20','[xuLyTask]:\x20currentDateTime:\x20','Fail','\x20ko\x20có\x20aks','[xuLyTask]:\x20Đang\x20xử\x20lý\x20task:\x20','[checkTeleWebOpen]:\x20Không\x20tìm\x20thấy\x20game\x20','[xuLyGame]:\x20getAks\x20OK','[xuLyBrowser]:\x20Bot\x20không\x20tìm\x20thấy','\x20để\x20kiểm\x20tra\x20wsEndpoint...','\x20không\x20phải\x20là\x20một\x20hàm\x20hợp\x20lệ','[checkTeleWebOpen]:\x20vào\x20loadGame',']:\x20','config','profiles','coin','\x20lỗi','node-machine-id','[xuLyGame]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20Game:\x20','connectWs','split','[xuLyGame]:\x20Thực\x20thi\x20','function','[checkTeleWebOpen]:\x20','[checkTeleWebOpen]:\x20Thực\x20thi\x20','addData','\x20thành\x20công','\x20is\x20not\x20running','599682lAiHlX','[xuLyTask]:\x20Tasks:\x20Data\x20ok','elementExistsByXPath','getTask','loop','[xuLyProfile]:\x20Đang\x20mở\x20trình\x20duyệt...','[checkTeleWebOpen]:\x20Lỗi\x20trong\x20quá\x20trình\x20mở\x20trang\x20:\x20','https://www.google.com','timGame','[main]:\x20Processing\x20profile:\x20','nowTime','[main]:\x20Start\x20App:\x20','./modules/Genlogin','[main]:\x20Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy','openUrl','api','5284345dGavAQ','[checkTeleWebOpen]:\x20dataId:\x20','[xuLyBrowser]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20browser:\x20','[main]:\x20getAllProfiles.value\x20OK','No\x20task\x20found','\x20Tele\x20A\x20OK','[main]:\x20Chờ\x205\x20giây\x20trước\x20khi\x20xử\x20lý\x20profile\x20tiếp\x20theo...','[xuLyProfile]:\x20wsEndpoint:\x20','getAks','getListProfiles','running','getBotAll','[checkTeleWebOpen]:\x20Không\x20thực\x20thi\x20script\x20','154935VdNAch',']:\x20Bot\x20','[xuLyTask]:\x20Chờ\x205\x20giây\x20trước\x20khi\x20xử\x20lý\x20task\x20tiếp\x20theo...','status','\x20OFF','[xuLyProfile]:\x20Profile\x20đã\x20chạy\x20thành\x20công\x20với\x20wsEndpoint:','143379hLNHdX','[loadGameApi]:\x20Chạy\x20','screenWidthHeight','getCurrentPage','\x20loop','[xuLyTask]:\x20Hoàn\x20thành\x20xử\x20lý\x20profile:\x20','8oaSwCT','date','No\x20profiles\x20found','[xuLyTask]:\x20Processing\x20profile:\x20','[checkTeleWebOpen]:\x20Thực\x20thi\x20script\x20','checkProfileIsRun','[loadGameApi]:\x20Script\x20','.js','[xuLyGame]:\x20checkTeleWebOpen\x20OK',']:\x20Sai\x20aks\x20','loop\x20new\x20game','env','type','nextRun','toolApi','getAllProfiles','3CCXmJA','Vào','[xuLyTask]:\x20Task\x20','\x20done','aks','1453854oeszAr','No\x20bot\x20found','[xuLyGame]:\x20Loop\x20lại\x20,\x20loop\x20lại\x20lần\x20','name','./modules/logger','nextrun','7100009BQDQVK','[main]:\x20chờ\x2030\x20giây\x20rồi\x20thử\x20lại','value','scripts','https://gen.vpe.me','\x20|\x20nextrun:\x20','1090wHkIuT','InputSearch','[xuLyProfile]:\x20Đang\x20mở\x20profile\x20','[xuLyGame]:\x20checkTeleWebOpen\x20có\x20gì\x20đó\x20sai\x20sai\x20rồi\x20bro','[xuLyProfile]:\x20Thử\x20lần\x20','\x20Script\x20mode','length','LongCAutoAirdrop','778884rguBWH','No\x20profile\x20found','updateData','[main]:\x20Lỗi\x20chung:\x20','[loadGame]:\x20Lỗi\x20khi\x20load\x20và\x20thực\x20thi\x20script\x20'];a25_0x2991=function(){return _0x70147a;};return a25_0x2991();}(function(_0x3ebbb4,_0x442675){const _0x14d423=a25_0x4fd1,_0x50c541=_0x3ebbb4();while(!![]){try{const _0x53911e=parseInt(_0x14d423(0x171))/0x1+parseInt(_0x14d423(0x18c))/0x2+parseInt(_0x14d423(0x187))/0x3*(-parseInt(_0x14d423(0x1a0))/0x4)+-parseInt(_0x14d423(0x15e))/0x5+parseInt(_0x14d423(0x14e))/0x6+-parseInt(_0x14d423(0x192))/0x7*(parseInt(_0x14d423(0x177))/0x8)+-parseInt(_0x14d423(0x16b))/0x9*(-parseInt(_0x14d423(0x198))/0xa);if(_0x53911e===_0x442675)break;else _0x50c541['push'](_0x50c541['shift']());}catch(_0x51ff28){_0x50c541['push'](_0x50c541['shift']());}}}(a25_0x2991,0x8dccb),require('dotenv')[a25_0xa5ef10(0x13f)]());const Genlogin=require(a25_0xa5ef10(0x15a)),httpPost=require('./modules/http'),puppeteer=require('puppeteer'),{log,json}=require(a25_0xa5ef10(0x190)),{machine_id,machineIdSync}=require(a25_0xa5ef10(0x143)),machineId=machineIdSync()['substring'](0x0,0x8),path=require('path'),delay=_0x59466e=>new Promise(_0x4ff4fc=>setTimeout(_0x4ff4fc,_0x59466e)),serverApi=a25_0xa5ef10(0x196),mainApi='/api.php',appName=a25_0xa5ef10(0x19f)+'-'+machineId,nameFile='genProfiles'+'-'+machineId,isLoggingEnabled=!![],timGame=![],appSetings={'autoUpgrateTimeFarm':!![],'autoNhatHoaBlum':!![]};let genlogin,http,profileNameId,profileId,browser,getAllProfiles,taskInfo,indexP,pLength,dataId,signal={'aborted':![]};((async()=>{const _0x367641=a25_0xa5ef10;try{log(_0x367641(0x159)+appName),await delay(0x3e8),genlogin=new Genlogin('',!![]),http=new httpPost(process[_0x367641(0x182)][_0x367641(0x1b2)],process['env']['APIKEY'],!![]);let _0x46bb9a,_0x1e048c=0x0;const _0x56855e=0x3,_0x19e0ae=await genlogin[_0x367641(0x167)]();if(!_0x19e0ae){log('[main]:\x20Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro',null,![]),log('[main]:\x20Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro',null,![]),log(_0x367641(0x193));throw new Error(_0x367641(0x179));}let _0x5d7186=await _0x19e0ae[_0x367641(0x140)];await delay(0xbb8),getAllProfiles=await http[_0x367641(0x186)](appName,nameFile,_0x5d7186,appSetings);if(!getAllProfiles[_0x367641(0x194)]||!getAllProfiles||getAllProfiles[_0x367641(0x194)][_0x367641(0x19e)]<=0x0){log(_0x367641(0x15b),null,![]),log('[main]:\x20chờ\x2030\x20giây\x20rồi\x20thử\x20lại');throw new Error(_0x367641(0x162));}log(_0x367641(0x161));const _0x3fd43d=Object['entries'](getAllProfiles[_0x367641(0x194)]);for(let _0x2fc5bb=0x0;_0x2fc5bb<_0x3fd43d['length'];_0x2fc5bb++){const [_0x29bf66,_0x153f7c]=_0x3fd43d[_0x2fc5bb];profileNameId=_0x153f7c[_0x367641(0x18f)],taskInfo=_0x153f7c,log(_0x367641(0x157)+JSON[_0x367641(0x1af)](_0x153f7c[_0x367641(0x18f)])),await xuLyTask(_0x153f7c),_0x2fc5bb<_0x3fd43d[_0x367641(0x19e)]-0x1&&(log(_0x367641(0x164)),await delay(0x1388));}}catch(_0x1de33e){log(_0x367641(0x1a3)+_0x1de33e,null,![]);}})());async function xuLyTask(_0x1da854){const _0x6bb902=a25_0xa5ef10,_0x37dd44=await genlogin[_0x6bb902(0x158)](),_0x57f461=_0x37dd44[_0x6bb902(0x178)],_0x550421=new Date(_0x1da854['nextrun'][_0x6bb902(0x146)]('\x20')[0x0][_0x6bb902(0x146)]('-')['reverse']()[_0x6bb902(0x1ab)]('-')+'T'+_0x1da854['nextrun'][_0x6bb902(0x146)]('\x20')[0x1]);if(_0x57f461-_0x550421<0x0){log(_0x6bb902(0x189)+JSON[_0x6bb902(0x1af)](_0x1da854[_0x6bb902(0x18f)])+'\x20chưa\x20đến\x20thời\x20gian\x20chạy'),log('[xuLyTask]:\x20currentDateTime:\x20'+JSON[_0x6bb902(0x1af)](_0x37dd44)+_0x6bb902(0x197)+JSON[_0x6bb902(0x1af)](_0x1da854[_0x6bb902(0x191)])),log(_0x6bb902(0x1b5)+JSON[_0x6bb902(0x1af)](_0x57f461)+'\x20|\x20nextrun:\x20'+JSON['stringify'](_0x550421)),log(_0x6bb902(0x16d)),await delay(0x1388);return;}let _0x457110=await http[_0x6bb902(0x151)](_0x1da854[_0x6bb902(0x18f)]);if(_0x457110[_0x6bb902(0x194)][_0x6bb902(0x140)][_0x6bb902(0x19e)]<=0x0){log('[xuLyTask]:\x20không\x20lấy\x20được\x20profile');throw new Error(_0x6bb902(0x1a1));}pLength=_0x457110['value'][_0x6bb902(0x140)][_0x6bb902(0x19e)];for(const [_0x40d2b0,_0x15c21d]of _0x457110[_0x6bb902(0x194)]['profiles'][_0x6bb902(0x1b1)]()){profileNameId=_0x15c21d,log(_0x6bb902(0x17a)+JSON[_0x6bb902(0x1af)](_0x15c21d)),indexP=_0x40d2b0;const _0x5efd67=await xuLyProfile(_0x15c21d);_0x5efd67&&(browser=await connectToWsEndpoint(_0x5efd67),browser&&await xuLyBrowser(browser),log(_0x6bb902(0x176)+JSON[_0x6bb902(0x1af)](_0x15c21d)));}log(_0x6bb902(0x14f)),log(_0x6bb902(0x1b8)+JSON[_0x6bb902(0x1af)](_0x1da854[_0x6bb902(0x18f)])),await delay(0x7d0),log('[xuLyTask]:\x20Hoàn\x20thành\x20xử\x20lý\x20task:\x20'+JSON['stringify'](_0x1da854['name']));}async function xuLyProfile(_0x551c06){const _0x332376=a25_0xa5ef10;try{const _0x2b32ea=_0x551c06[_0x332376(0x146)]('-')[0x1];profileId=_0x2b32ea;let {wsEndpoint:_0x164b48}=await genlogin['checkProfileIsRun'](_0x2b32ea);log(_0x332376(0x165)+json(_0x164b48));if(!_0x164b48){log(_0x332376(0x19a)+_0x2b32ea+_0x332376(0x14d)),await genlogin['runProfile'](_0x2b32ea);for(let _0x3c6b70=0x0;_0x3c6b70<0x5;_0x3c6b70++){log(_0x332376(0x19c)+(_0x3c6b70+0x1)+_0x332376(0x13b)),await delay(0x1388),{wsEndpoint:_0x164b48}=await genlogin[_0x332376(0x17c)](_0x2b32ea);if(_0x164b48){log(_0x332376(0x170)+_0x164b48);break;}}if(!_0x164b48)return log('[xuLyProfile]:\x20Không\x20thể\x20lấy\x20được\x20wsEndpoint\x20sau\x205\x20lần\x20thử'),![];}const _0x51786b=_0x551c06;return await delay(0xbb8),log(_0x332376(0x153)),log(_0x332376(0x165)+_0x164b48),_0x164b48;}catch(_0x219ed7){log('[xuLyProfile]:\x20Lỗi\x20chung\x20xuLyProfile:\x20'+_0x219ed7,![]);}}async function connectToWsEndpoint(_0x5288db){const _0x35aa3a=a25_0xa5ef10;try{const _0x4033fe=await genlogin[_0x35aa3a(0x145)](_0x5288db,getAllProfiles,taskInfo);return log('[connectToWsEndpoint]:\x20Kết\x20nối\x20thành\x20công\x20với\x20wsEndpoint:\x20'+_0x5288db),_0x4033fe;}catch(_0x427948){return log('[connectToWsEndpoint]:\x20Lỗi\x20khi\x20kết\x20nối\x20với\x20wsEndpoint:\x20'+_0x5288db,![]),null;}}async function xuLyBrowser(_0x12bd1c){const _0x549748=a25_0xa5ef10;try{let _0x11d680=0x0;const _0x8b9cb3=await http[_0x549748(0x169)](profileNameId);if(!_0x8b9cb3){log(_0x549748(0x13a));throw new Error(_0x549748(0x18d));}if(_0x8b9cb3['length']<=0x0){log(_0x549748(0x1ad));throw new Error('No\x20bot\x20found');}for(const _0x1ee64e of _0x8b9cb3){if(_0x1ee64e){if(_0x1ee64e[_0x549748(0x194)]==='end'){log('['+profileNameId+_0x549748(0x1a7));break;}if(!_0x1ee64e[_0x549748(0x18b)]){log('['+profileNameId+']:\x20Bot\x20'+json(_0x1ee64e)+_0x549748(0x1b7),null,![]);continue;}if(_0x1ee64e['onOff']==='0'){log('['+profileNameId+_0x549748(0x16c)+json(_0x1ee64e['name'])+_0x549748(0x16f),null,![]);continue;}switch(_0x1ee64e['aks']){case'A':log('['+profileNameId+_0x549748(0x13e)+json(_0x1ee64e[_0x549748(0x18f)])+_0x549748(0x163)),await xuLyGame(_0x1ee64e,'A');break;case'K':log('['+profileNameId+_0x549748(0x13e)+json(_0x1ee64e[_0x549748(0x18f)])+_0x549748(0x1a6)),await xuLyGame(_0x1ee64e,'K');break;case'W':log('['+profileNameId+_0x549748(0x13e)+json(_0x1ee64e[_0x549748(0x18f)])+'\x20Web\x20OK'),await xuLyGame(_0x1ee64e,'W');break;default:log('['+profileNameId+_0x549748(0x180)+json(_0x1ee64e[_0x549748(0x18b)]));break;}log('[xuLyBrowser]:\x20Bot\x20OK');}}}catch(_0x147e56){return log(_0x549748(0x160)+_0x147e56,![]),log('[xuLyBrowser]:\x20'+json(bots),![]),null;}}function a25_0x4fd1(_0x4b406d,_0x202d3f){const _0x299171=a25_0x2991();return a25_0x4fd1=function(_0x4fd1be,_0x2f1465){_0x4fd1be=_0x4fd1be-0x138;let _0xde5bd4=_0x299171[_0x4fd1be];return _0xde5bd4;},a25_0x4fd1(_0x4b406d,_0x202d3f);}async function xuLyGame(_0x2a9840,_0x3086d3){const _0x45218f=a25_0xa5ef10;try{if(_0x2a9840[_0x45218f(0x183)]===_0x45218f(0x15d)){log(_0x45218f(0x1ac)+_0x2a9840[_0x45218f(0x18f)]+_0x45218f(0x1a8));const _0x5cef29=await genlogin['nowTime'](),_0x2355a2=await http[_0x45218f(0x14b)](profileNameId,_0x2a9840[_0x45218f(0x18f)],_0x5cef29[_0x45218f(0x178)],'','StartApi',_0x45218f(0x168)),_0x4894ec=_0x2355a2['ID'],_0x5093d2={'bot':_0x2a9840,'profileNameId':profileNameId,'genlogin':genlogin,'http':http,'dataId':_0x4894ec},_0x116d05=await loadGameApi(_0x2a9840[_0x45218f(0x18f)],_0x5093d2);if(!_0x116d05['status'])return log(_0x45218f(0x147)+_0x2a9840[_0x45218f(0x18f)]+_0x45218f(0x142)),await http['updateData'](profileNameId,_0x4894ec,_0x45218f(0x1b6),_0x45218f(0x1b6)),null;if(_0x116d05[_0x45218f(0x16e)]==_0x45218f(0x152))return log(_0x45218f(0x147)+_0x2a9840[_0x45218f(0x18f)]+'\x20loop'),_0x45218f(0x152);if(_0x116d05[_0x45218f(0x16e)])return log(_0x45218f(0x147)+_0x2a9840[_0x45218f(0x18f)]+_0x45218f(0x18a)),await http[_0x45218f(0x1b3)](profileNameId,_0x2a9840['id'],_0x116d05[_0x45218f(0x184)],_0x116d05[_0x45218f(0x1aa)]),await http[_0x45218f(0x1a2)](profileNameId,_0x4894ec,'Ok','Done',_0x116d05[_0x45218f(0x141)],_0x116d05[_0x45218f(0x184)]),!![];}else{log(_0x45218f(0x1ac)+_0x2a9840[_0x45218f(0x18f)]+_0x45218f(0x19d));const _0x450135=await http[_0x45218f(0x166)](_0x3086d3);if(_0x450135){log(_0x45218f(0x139));let _0x1ecdd8=0x0;while(_0x1ecdd8<0x2){const _0x1d6aa5=await checkTeleWebOpen(_0x2a9840,_0x450135);if(_0x1d6aa5===_0x45218f(0x152))_0x1ecdd8++,log(_0x45218f(0x18e)+_0x1ecdd8+'/2'),await delay(0x3e8);else return _0x1d6aa5?(log(_0x45218f(0x17f)),!![]):(log(_0x45218f(0x19b),null,![]),null);}return log(_0x45218f(0x1b0),null,![]),null;}}}catch(_0x244748){return log(_0x45218f(0x144)+_0x244748,null,![]),null;}}async function checkTeleWebOpen(_0x323664,_0x40c0f3){const _0x392493=a25_0xa5ef10;try{let _0x560fdc;if(parseInt(_0x323664['newTab'])===0x0){_0x560fdc=await genlogin['activateTab'](browser,0x0,getAllProfiles[_0x392493(0x173)],0x1);const _0x2fa6da=await genlogin[_0x392493(0x150)](_0x560fdc,_0x40c0f3[_0x392493(0x199)],0x7d0);!_0x2fa6da&&(await genlogin[_0x392493(0x15c)](_0x560fdc,_0x392493(0x155)),await delay(0x7d0),await genlogin['openUrl'](_0x560fdc,_0x40c0f3['FistUrl']),await delay(0x7d0));}else _0x560fdc=await genlogin[_0x392493(0x174)](browser);log(_0x392493(0x13d));const _0x1a203e=await genlogin[_0x392493(0x158)](),_0x4aece4=await http[_0x392493(0x14b)](profileNameId,_0x323664[_0x392493(0x18f)],_0x1a203e[_0x392493(0x178)],'','Start',_0x392493(0x168));dataId=_0x4aece4['ID'];const _0x430e33={'firstPage':_0x560fdc,'bot':_0x323664,'profileNameId':profileNameId,'getAks':_0x40c0f3,'genlogin':genlogin,'http':http,'browser':browser,'dataId':dataId};log(_0x392493(0x15f)+json(dataId));if(timGame){await http[_0x392493(0x1a2)](profileNameId,dataId,'Tìm');const _0x345dfc=await loadGame(_0x392493(0x156),_0x430e33);if(_0x345dfc[_0x392493(0x16e)]==_0x392493(0x152))return log(_0x392493(0x14a)+_0x323664[_0x392493(0x18f)]+_0x392493(0x175)),await http[_0x392493(0x1a2)](profileNameId,dataId,_0x392493(0x181)),'loop';else{if(!_0x345dfc)return log(_0x392493(0x138)+_0x323664[_0x392493(0x18f)]),null;}}await http[_0x392493(0x1a2)](profileNameId,dataId,_0x392493(0x188));const _0x671e72=await loadGame(_0x323664['name'],_0x430e33);if(!_0x671e72['status'])return log(_0x392493(0x16a)+_0x323664[_0x392493(0x18f)]),log(_0x392493(0x149)+json(_0x671e72)),null;else{if(_0x671e72[_0x392493(0x16e)]==_0x392493(0x152))return log('[checkTeleWebOpen]:\x20Thực\x20thi\x20'+_0x323664[_0x392493(0x18f)]+_0x392493(0x175)),await http['updateData'](profileNameId,dataId,'loop'),_0x392493(0x152);}return await http[_0x392493(0x1b3)](profileNameId,_0x323664['id'],_0x671e72['nextRun'],_0x671e72['nextRunStamp']),await http[_0x392493(0x1a2)](profileNameId,dataId,'Ok',_0x392493(0x1a5),_0x671e72['coin'],_0x671e72[_0x392493(0x184)]),log(_0x392493(0x17b)+_0x323664[_0x392493(0x18f)]+_0x392493(0x14c)),await delay(0x7d0),!![];}catch(_0x3c045f){return log(_0x392493(0x154)+_0x3c045f,![]),null;}}async function loadGame(_0x8822e,_0x5e5680){const _0x402fb9=a25_0xa5ef10;try{const _0x26d392=path[_0x402fb9(0x1ab)](__dirname,_0x402fb9(0x195),_0x8822e+'.js'),_0x2322e8=require(_0x26d392);if(typeof _0x2322e8===_0x402fb9(0x148)){const _0x3e5e24=await _0x2322e8(_0x5e5680,signal);return await delay(0x3e8),_0x3e5e24[_0x402fb9(0x16e)]===_0x402fb9(0x152)?(log(_0x402fb9(0x1b4)+_0x8822e+'\x20loop'),_0x3e5e24):(log(_0x402fb9(0x1b4)+_0x8822e+'\x20'+_0x3e5e24[_0x402fb9(0x16e)]),_0x3e5e24);}else return await delay(0x3e8),log(_0x402fb9(0x1a9)+_0x8822e+'\x20không\x20phải\x20là\x20một\x20hàm\x20hợp\x20lệ'),null;}catch(_0x572ae3){return log(_0x402fb9(0x1a4)+_0x8822e+':\x20'+_0x572ae3,![]),null;}}async function loadGameApi(_0x527262,_0x9e8f48){const _0x2ed7d7=a25_0xa5ef10;try{const _0x278737=path[_0x2ed7d7(0x1ab)](__dirname,_0x2ed7d7(0x185),_0x527262+_0x2ed7d7(0x17e)),_0x21f225=require(_0x278737);if(typeof _0x21f225===_0x2ed7d7(0x148)){const _0x27b2c1=await _0x21f225(_0x9e8f48,signal);return await delay(0x3e8),_0x27b2c1['status']===_0x2ed7d7(0x152)?(log(_0x2ed7d7(0x172)+_0x527262+_0x2ed7d7(0x175)),_0x27b2c1):(log(_0x2ed7d7(0x172)+_0x527262+'\x20'+_0x27b2c1[_0x2ed7d7(0x16e)]),_0x27b2c1);}else return await delay(0x3e8),log(_0x2ed7d7(0x17d)+_0x527262+_0x2ed7d7(0x13c)),null;}catch(_0x386bbe){return log(_0x2ed7d7(0x1ae)+_0x527262+':\x20'+_0x386bbe,![]),null;}}