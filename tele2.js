const a0_0x5d7a7a=a0_0x4584;(function(_0x3d8f78,_0x381291){const _0x74275a=a0_0x4584,_0xe59cb=_0x3d8f78();while(!![]){try{const _0x5bc1cd=-parseInt(_0x74275a(0x1ba))/0x1*(-parseInt(_0x74275a(0x20a))/0x2)+parseInt(_0x74275a(0x217))/0x3*(parseInt(_0x74275a(0x1f9))/0x4)+parseInt(_0x74275a(0x191))/0x5+parseInt(_0x74275a(0x197))/0x6+parseInt(_0x74275a(0x1a6))/0x7*(-parseInt(_0x74275a(0x1d4))/0x8)+-parseInt(_0x74275a(0x22a))/0x9*(parseInt(_0x74275a(0x1ff))/0xa)+-parseInt(_0x74275a(0x198))/0xb;if(_0x5bc1cd===_0x381291)break;else _0xe59cb['push'](_0xe59cb['shift']());}catch(_0x435861){_0xe59cb['push'](_0xe59cb['shift']());}}}(a0_0x2e9b,0x666b4),require(a0_0x5d7a7a(0x1fa))[a0_0x5d7a7a(0x1cd)]());const fs=require('fs'),os=require('os'),path=require('path'),Genlogin=require(a0_0x5d7a7a(0x193)),httpPost=require(a0_0x5d7a7a(0x192)),puppeteer=require(a0_0x5d7a7a(0x1dd)),{log,json}=require(a0_0x5d7a7a(0x18f)),{machine_id,machineIdSync}=require(a0_0x5d7a7a(0x1c9)),machineId=machineIdSync()['substring'](0x0,0x8),{Worker}=require('worker_threads'),PQueue=require(a0_0x5d7a7a(0x20b))[a0_0x5d7a7a(0x239)],{screenArr}=require(a0_0x5d7a7a(0x1d8)),{isSet}=require(a0_0x5d7a7a(0x1ce)),appName='LongCAutoAirdrop'+'-'+machineId,nameFile=a0_0x5d7a7a(0x194)+'-'+machineId,isLoggingEnabled=!![],appSetings={'maxTaskThreads':{'type':a0_0x5d7a7a(0x210),'value':0x3,'note':'Số\x20lượng\x20task\x20chạy\x20song\x20song'},'screens':{'type':a0_0x5d7a7a(0x210),'value':0x1,'note':a0_0x5d7a7a(0x21b)},'screenWidthHeight':{'type':a0_0x5d7a7a(0x210),'value':'1920x1080','note':a0_0x5d7a7a(0x200)},'browserWidthHeight':{'type':a0_0x5d7a7a(0x210),'value':a0_0x5d7a7a(0x234),'note':'kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20'},'genDataFolder':{'type':'input','value':path[a0_0x5d7a7a(0x21a)]('C:',a0_0x5d7a7a(0x208),os[a0_0x5d7a7a(0x224)]()[a0_0x5d7a7a(0x1e6)],a0_0x5d7a7a(0x219)),'note':a0_0x5d7a7a(0x1d0)}};let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,isScreenArrProcessing=![],dataId,firstRun=!![],appStatus=0x0,tele_id;((async()=>{const _0x319425=a0_0x5d7a7a;try{log(_0x319425(0x1ec)+appName,null,'w','='),await delay(0x3e8);if(!process[_0x319425(0x1ca)][_0x319425(0x1ed)]){log(_0x319425(0x18e),null,![]),log(_0x319425(0x19f),null,'w'),log(_0x319425(0x1f7),null,'w'),log(_0x319425(0x1eb),null,'w'),log(_0x319425(0x226),null,'w','=');return;}genlogin=new Genlogin('',!![]),http=new httpPost(process['env'][_0x319425(0x1e0)],process[_0x319425(0x1ca)][_0x319425(0x1ed)],!![]),tele_id=await http[_0x319425(0x1c7)]();tele_id[_0x319425(0x1df)]&&await http['tele'](tele_id[_0x319425(0x1df)],_0x319425(0x20c)+appName+_0x319425(0x230));let _0x153716;while(!![]){try{appStatus=0x1;const _0x3776b1=await genlogin['getListProfiles']();!_0x3776b1&&(log('[main]:\x20Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro',null,'w'),log('[main]:\x20Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro',null,'w'),log(_0x319425(0x188),null,'i'),tele_id&&tele_id[_0x319425(0x1df)]&&await http[_0x319425(0x1db)](tele_id[_0x319425(0x1df)],_0x319425(0x1c4)));GenDataProfile=await _0x3776b1[_0x319425(0x1b9)],await delay(0xbb8),getAllProfiles=await http[_0x319425(0x1f8)](appName,nameFile,GenDataProfile,appSetings);if(!getAllProfiles[_0x319425(0x216)]||!getAllProfiles||getAllProfiles['value'][_0x319425(0x1c1)]<=0x0){log(_0x319425(0x209),null,![]),log(_0x319425(0x188),null,'i');throw new Error(_0x319425(0x1a2));}log(_0x319425(0x1a7));const _0x3d51fe=Object[_0x319425(0x231)](getAllProfiles[_0x319425(0x216)]);maxTask=parseInt(getAllProfiles[_0x319425(0x235)]);const _0x19b66e=await processTasks(_0x3d51fe);if(taskQueue['pending']>0x0){const _0xd368e7=await getRunningTasks(taskStatus,_0x319425(0x1cf));log('[main]:'+taskQueue[_0x319425(0x1bd)]+_0x319425(0x23f),null,'w'),log(_0x319425(0x1c6)+taskQueue[_0x319425(0x23b)]+_0x319425(0x1b3),null,'w'),log('[main]:Running\x20Task:'+_0xd368e7,null,'w');}else!_0x19b66e&&log('[main]:\x20chưa\x20có\x20task\x20mới',null,'w');log('[main]\x20Task\x20Status:\x20'+Array['from'](taskStatus[_0x319425(0x231)]()),null,'c'),log('[main]:\x20Kiểm\x20tra\x20task\x20sau\x2060\x20giây',null,'i'),await delay(0xea60);}catch(_0xffd4ee){log(_0x319425(0x1b2)+_0xffd4ee,null,![]),log(_0x319425(0x1c8),null,'i'),tele_id&&tele_id[_0x319425(0x1df)]&&await http[_0x319425(0x1db)](tele_id[_0x319425(0x1df)],appName+_0x319425(0x1a9)+_0xffd4ee+_0x319425(0x21d)),await delay(0xea60);}}return!![];}catch(_0x37b4c5){log('[main]:\x20Lỗi\x20chung:\x20'+_0x37b4c5,null,![]),appStatus=0x0;}})());function a0_0x2e9b(){const _0x478208=['[handleScreenArrWorkerMessage]screenArrWorker:\x20Đang\x20xử\x20lý,\x20bỏ\x20qua\x20phản\x20hồi\x20này','không\x20xác\x20định','\x20trình\x20duyệt.','937240SiXdnU','[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20','floor','taskMode','./screenArr','[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20','height','tele','[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20','puppeteer','\x20Timeout\x20ID:\x20','tele_id','SERVER_HOST','cols:','[handleScreenArrWorkerMessage]screenArrWorker:\x20Kết\x20thúc\x20xử\x20lý\x20phản\x20hồi','has','[processTasks]:\x20task.status:\x20','done','username','[handleScreenArrWorker]:\x20Lỗi\x20worker:\x20','Task\x20phải\x20là\x20một\x20đối\x20tượng','toolApi','số\x20màn\x20hình:\x20','[main]:\x20BYE\x20BYE','[main]:\x20Start\x20App:\x20','APIKEY','[handleScreenArrWorkerMessage]screenArrWorker:\x20Lỗi\x20khi\x20xử\x20lý\x20phản\x20hồi:\x20','rows','[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20','read','worker1.js','[processTasks]:\x20FirstRun','maxTime',',\x20Thông\x20báo:\x20','[processTasks]:\x20currentTime.timestamp:\x20','[main]:\x20Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro','getAllProfiles','4eqdnmk','dotenv','function','[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý','action','name','178000lNXMdM','độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20','loop','screenWidthHeight','[loadGameApi]:\x20Lỗi\x20khi\x20load\x20và\x20thực\x20thi\x20script\x20','timestamp','[handleScreenArrWorkerMessage]screenArrWorker:\x20Thành\x20công\x20-\x20Hành\x20động:\x20','success','map','Users','[main]:\x20Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy','16tKNQQW','p-queue','Start\x20App:\x20','Tỷ\x20lệ\x20thu\x20nhỏ:\x20','exit','write','input','screenArr','ceil','[handleWorkerMessage]:vào\x20xử\x20lý\x20màn\x20hình\x20của\x20task\x20','message','Lỗi\x20không\x20xác\x20định','value','378147GfeeDi','[handleScreenArrWorker]:\x20write','.genlogin','join','Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị','[processTasks]:\x20screens:','\x20rồi\x20bro!','[handleWorkerError]:\x20Worker\x20bị\x20lỗi:\x20','.js','Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ','[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20','[handleScreenArrWorkerMessage]screenArrWorker:\x20Lỗi\x20-\x20Hành\x20động:\x20','[handleScreenArrWorker]Lỗi\x20gì\x20đó\x20','userInfo','screens','[main]:\x20TA\x20ĐI\x20ĐÂY','clrTimeout','\x20vào\x20hàng\x20đợi','[handleWorkerMessage]:screenArr\x20xử\x20lý\x20ok\x20','9CXxBNF','[handleScreenArrWorkerMessage]screenArrWorker:\x20Xử\x20lý\x20hành\x20động\x20write','games','positions','reduce','[processTasks]:\x20task.nextrunstamp:\x20','\x20nè\x20bro!','entries','max','timeout','400x900','maxTask','width','[handleScreenArrWorker]Lỗi\x20xử\x20lý\x20screenArr','Không\x20thể\x20tạo\x20worker','default','Không\x20rõ\x20lỗi','pending','set','nextrunstamp','[xoaTimeout]:\x20Xóa\x20timeout','\x20task\x20trong\x20hàng\x20đợi','[xoaTimeout]:\x20','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20màn\x20hình\x20của\x20task\x20','split','[handleScreenArrWorkerMessage]screenArrWorker:\x20Phản\x20hồi\x20không\x20hợp\x20lệ','[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20','\x20set\x20timeout:\x20','[main]:\x20chờ\x2030\x20giây\x20rồi\x20thử\x20lại','removeAllListeners','[processTasks]:','nowTime','[processTask]:\x20Xử\x20lý\x20task:\x20','screenArr.js','[main]:\x20APIKEY\x20not\x20found!','./modules/logger','status','429135YLBSDa','./modules/http','./modules/Genlogin','genProfiles','[processTasks]:\x20Phát\x20Hiện\x20','data','3356226qfAFji','982190AOsxyK','[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','[updateTask]:\x20update\x20task\x20','profileThreads','[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20','[handleScreenArrWorkerMessage]screenArrWorker:\x20Xử\x20lý\x20hành\x20động\x20read','[main]:\x20Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro','\x20treo\x20đang\x20chạy\x20từ\x20','[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20','No\x20task\x20found','postMessage','removeListener','object','21ftBgkR','[main]:\x20getAllProfiles.value\x20OK','rows:','\x20Lỗi\x20','Worker\x20stopped\x20with\x20exit\x20code\x20','Processing\x20profile:\x20','[createWorkerPromise]:\x20','[handleScreenArrWorkerMessage]screenArrWorker:\x20Hành\x20động\x20không\x20xác\x20định:\x20','[handleScreenArrWorker]vào\x20handleScreenArrWorker','browserWidthHeight','|screenWidthHeight:','[handleScreenArrWorkerMessage]screenArrWorker:\x20','[main]:\x20Lỗi\x20while:\x20','\x20task\x20đang\x20chạy','Mở\x20','error','add','Không\x20có','terminate','profiles','13352UjjbMT','push',',\x20mỗi\x20cột:\x20','size','\x20không\x20phải\x20là\x20một\x20hàm\x20hợp\x20lệ','once','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task','length','log','completed','Lỗi\x20App\x20genlogin\x20nhé\x20bro!','[handleScreenArrWorker]Đang\x20xử\x20lý\x20screenArr,\x20bỏ\x20qua\x20yêu\x20cầu\x20này','[main]:','getTeleId','[main]:\x20Chờ\x2060\x20giây','node-machine-id','env','get','[loadGameApi]:\x20Chạy\x20','config','util/types','running','thư\x20mục\x20chứa\x20data\x20genlogin'];a0_0x2e9b=function(){return _0x478208;};return a0_0x2e9b();}async function loadGameApi(_0x4ae35d,_0x5f2e27){const _0xb2ca83=a0_0x5d7a7a;try{const _0x12acbf=path[_0xb2ca83(0x21a)](__dirname,_0xb2ca83(0x1e9),_0x4ae35d+_0xb2ca83(0x21f)),_0x3173cb=require(_0x12acbf);if(typeof _0x3173cb===_0xb2ca83(0x1fb)){const _0x4ef154=await _0x3173cb(_0x5f2e27);return await delay(0x3e8),_0x4ef154['status']===_0xb2ca83(0x201)?(log(_0xb2ca83(0x1cc)+_0x4ae35d+'\x20loop',null,'i'),_0x4ef154):(log('[loadGameApi]:\x20Chạy\x20'+_0x4ae35d+'\x20'+_0x4ef154[_0xb2ca83(0x190)],null,'i'),_0x4ef154);}else return await delay(0x3e8),log('[loadGameApi]:\x20Script\x20'+_0x4ae35d+_0xb2ca83(0x1be),null,![]),null;}catch(_0x210301){return log(_0xb2ca83(0x203)+_0x4ae35d+':\x20'+_0x210301,null,![]),null;}}async function processTasks(_0x49075e){const _0x469415=a0_0x5d7a7a;try{if(firstRun){log(_0x469415(0x1f3),null,'c','*'),taskQueue=new PQueue({'concurrency':maxTask}),screenArrWorker=new Worker(path[_0x469415(0x21a)](__dirname,_0x469415(0x18d))),firstRun=![],taskStatus=new Map();let _0x50a66a=0x0;for(const [_0x4a225f,_0xd109a2]of _0x49075e){_0x4a225f<parseInt(getAllProfiles[_0x469415(0x235)])&&(_0x50a66a+=parseInt(_0xd109a2[_0x469415(0x19b)]));}let _0x57f912=[];for(let _0xdf05e3=0x0;_0xdf05e3<parseInt(getAllProfiles[_0x469415(0x225)]);_0xdf05e3++){const _0x2ce8c9=getAllProfiles[_0x469415(0x202)]['split']('x');_0x57f912['push']({'width':parseInt(_0x2ce8c9[0x0]),'height':parseInt(_0x2ce8c9[0x1])});}const _0x170e61=getAllProfiles[_0x469415(0x1af)][_0x469415(0x242)]('x'),_0x58a58a=parseInt(_0x170e61[0x0]),_0x562f44=parseInt(_0x170e61[0x1]),_0x58ac16=_0x50a66a,_0xba8f50=_0x57f912[_0x469415(0x22e)]((_0x58b7b3,_0x245586)=>_0x58b7b3+_0x245586[_0x469415(0x236)],0x0),_0x24df29=Math[_0x469415(0x232)](..._0x57f912[_0x469415(0x207)](_0x1598c4=>_0x1598c4[_0x469415(0x1da)])),_0x17698e=await calScreenArr(_0x58a58a,_0x562f44,_0xba8f50,_0x24df29,_0x50a66a);log(_0x469415(0x1ea)+getAllProfiles['screens'],null,'w'),log(_0x469415(0x19d)+_0xba8f50+'x'+_0x24df29,null,'w'),log(_0x469415(0x1b4)+_0x58ac16+_0x469415(0x1d3),null,'w'),log('Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20'+_0x17698e[_0x469415(0x1ef)]+_0x469415(0x1bc)+_0x17698e['cols'],null,'w'),log(_0x469415(0x20d)+_0x17698e['scale'],null,'w'),screenArrWorker[_0x469415(0x1a3)]({'action':_0x469415(0x20f),'payload':_0x17698e[_0x469415(0x22d)]}),log(_0x469415(0x21c)+getAllProfiles[_0x469415(0x225)]+_0x469415(0x1b0)+getAllProfiles[_0x469415(0x202)],this['vendor'],'w'),await delay(0x3e8);}const _0x4f6c7a=[];for(const [_0x5ab211,_0x1bd58a]of _0x49075e){const _0xb6e507=await genlogin[_0x469415(0x18b)]();log(_0x469415(0x1f6)+_0xb6e507[_0x469415(0x204)],null,'i'),log(_0x469415(0x22f)+_0x1bd58a[_0x469415(0x23d)],null,'i'),log(_0x469415(0x1e4)+_0x1bd58a[_0x469415(0x190)],null,'i'),log(_0x469415(0x18a)+_0xb6e507[_0x469415(0x204)]+'|'+(parseInt(_0x1bd58a['nextrunstamp'])+parseInt(_0x1bd58a[_0x469415(0x1f4)]))+'|'+parseInt(_0x1bd58a[_0x469415(0x190)]),null,'w');if(_0xb6e507[_0x469415(0x204)]>=_0x1bd58a[_0x469415(0x23d)]&&parseInt(_0x1bd58a[_0x469415(0x190)])===0x0){log('[processTasks]:\x20Thêm\x20task\x20'+_0x1bd58a['name']+_0x469415(0x228),null,'i'),taskStatus[_0x469415(0x23c)](_0x1bd58a[_0x469415(0x1fe)],_0x469415(0x23b));const _0x5b2eb7=await updateTask(_0x1bd58a[_0x469415(0x1fe)],{'status':0x1,'nextRun':0x1});_0x4f6c7a[_0x469415(0x1bb)](taskQueue[_0x469415(0x1b6)](()=>processTask(_0x1bd58a))),taskStatus[_0x469415(0x23c)](_0x1bd58a[_0x469415(0x1fe)],'running'),await delay(0x7d0);}else{if(_0xb6e507[_0x469415(0x204)]>parseInt(_0x1bd58a[_0x469415(0x23d)])+parseInt(_0x1bd58a[_0x469415(0x1f4)])&&parseInt(_0x1bd58a['status'])===0x1&&(taskStatus[_0x469415(0x1cb)](_0x1bd58a[_0x469415(0x1fe)])===_0x469415(0x1c3)||!taskStatus[_0x469415(0x1e3)](_0x1bd58a['name']))){log(_0x469415(0x195)+_0x1bd58a[_0x469415(0x1fe)]+_0x469415(0x1a0)+_0x1bd58a['nextrun'],null,'w','*');const _0x536ba9=await updateTask(_0x1bd58a[_0x469415(0x1fe)],{'status':0x0,'nextRun':0x1});log(_0x469415(0x1a1)+_0x1bd58a[_0x469415(0x1fe)],null,'i','*');}}}return _0x4f6c7a[_0x469415(0x1c1)]>0x0?!![]:(log(_0x469415(0x1fc),null,'w'),null);}catch(_0x3d47f6){return log(_0x469415(0x199)+_0x3d47f6,null,![]),null;}}async function processTask(_0x35fa2d){const _0xe1d1b6=a0_0x5d7a7a;try{log(_0xe1d1b6(0x18c)+_0x35fa2d['name'],null,'i','=');if(!_0x35fa2d||typeof _0x35fa2d!=='object')throw new Error(_0xe1d1b6(0x1e8));const _0x28e898=createWorkerPromise(_0x35fa2d),_0x121fe9=await _0x28e898;log('[processTask]:\x20DONE\x20TASK\x20'+_0x35fa2d[_0xe1d1b6(0x1fe)],null,'w','DT');const _0x577120=await updateTask(_0x35fa2d[_0xe1d1b6(0x1fe)],{'status':0x0,'nextRun':0x1});return taskStatus[_0xe1d1b6(0x23c)](_0x35fa2d['name'],_0xe1d1b6(0x1c3)),await delay(0x1388),_0x121fe9;}catch(_0x113723){return log(_0xe1d1b6(0x19c)+_0x113723,null,![]),await updateTask(_0x35fa2d[_0xe1d1b6(0x1fe)],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x5e0a37){return log('[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20'+_0x5e0a37['name'],null,'i','-'),new Promise(async(_0x531da9,_0x3c0edd)=>{const _0xc8c22e=a0_0x4584;try{if(!_0x5e0a37||typeof _0x5e0a37!==_0xc8c22e(0x1a5))return _0x3c0edd(new Error('Task\x20phải\x20là\x20một\x20đối\x20tượng'));const _0x405ff9=_0x5e0a37[_0xc8c22e(0x1d7)]==='api'?path[_0xc8c22e(0x21a)](__dirname,'worker-api1.js'):path[_0xc8c22e(0x21a)](__dirname,_0xc8c22e(0x1f2)),_0xbe0cda=new Worker(_0x405ff9);log('[createWorkerPromise]:\x20'+_0x405ff9,null,'i');if(!_0xbe0cda)return _0xbe0cda[_0xc8c22e(0x1b8)](),_0x3c0edd(new Error(_0xc8c22e(0x238)));const _0x3db7e8=parseInt(_0x5e0a37[_0xc8c22e(0x1f4)])*0x3e8;if(isNaN(_0x3db7e8))return _0xbe0cda[_0xc8c22e(0x1b8)](),_0x3c0edd(new Error(_0xc8c22e(0x220)));const _0x363cb5=setTimeout(()=>{const _0x3d07ec=_0xc8c22e;log(_0x3d07ec(0x1d5)+_0x5e0a37[_0x3d07ec(0x1fe)],null,'w','timeout'),_0xbe0cda['postMessage'](_0x3d07ec(0x233)),_0x3c0edd(new Error(_0x3d07ec(0x233)));},_0x3db7e8);log(_0xc8c22e(0x1ac)+_0x5e0a37[_0xc8c22e(0x1fe)]+_0xc8c22e(0x187)+_0x3db7e8+_0xc8c22e(0x1de)+_0x363cb5,null,'w');const _0x3bdf18=async _0x57f5f7=>{const _0x367936=_0xc8c22e;try{if(_0x57f5f7[_0x367936(0x206)]){log('[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20'+_0x5e0a37[_0x367936(0x1fe)],null,'i'),removeWorkerListener(_0xbe0cda,screenArrWorker,_0x3bdf18,_0x530ccb,_0x118615,_0x333f3e),xoaTimeout(_0x363cb5),_0x531da9(!![]);return;}else{if(_0x57f5f7[_0x367936(0x211)])_0x57f5f7[_0x367936(0x211)][_0x367936(0x1fd)]===_0x367936(0x1e5)?log(_0x367936(0x229)+_0x5e0a37[_0x367936(0x1fe)],null,'i'):(log(_0x367936(0x213)+_0x5e0a37[_0x367936(0x1fe)],null,'i'),await handleScreenArrWorker(_0x57f5f7[_0x367936(0x211)]),log(_0x367936(0x241)+_0x5e0a37['name'],null,'i'));else{if(!_0x57f5f7[_0x367936(0x206)]){log(_0x367936(0x186)+_0x5e0a37[_0x367936(0x1fe)]+':\x20'+_0x57f5f7[_0x367936(0x1b5)],null,![]),_0x3c0edd(new Error(_0x57f5f7[_0x367936(0x1b5)]||_0x367936(0x215)));return;}else{log(_0x367936(0x1dc)+_0x5e0a37[_0x367936(0x1fe)]+':\x20'+json(_0x57f5f7),null,'c','x'),log(_0x367936(0x1f0)+_0x5e0a37['name']+':\x20'+_0x57f5f7[_0x367936(0x1b5)],null,![]),_0xbe0cda[_0x367936(0x1a3)](_0x367936(0x233)),_0x3c0edd(new Error(_0x57f5f7[_0x367936(0x1b5)]||_0x367936(0x215)));return;}}}}catch(_0x4598ea){log(_0x367936(0x1d9)+_0x5e0a37['name']+':\x20'+_0x4598ea[_0x367936(0x214)],null,![]),_0xbe0cda[_0x367936(0x1a3)](_0x367936(0x233)),removeWorkerListener(_0xbe0cda,screenArrWorker,_0x3bdf18,_0x530ccb,_0x118615,_0x333f3e),xoaTimeout(_0x363cb5),_0xbe0cda[_0x367936(0x1b8)](),_0x3c0edd(_0x4598ea);return;}},_0x530ccb=_0x5ad462=>{const _0x30f0d7=_0xc8c22e;xoaTimeout(_0x363cb5),log(_0x30f0d7(0x21e)+_0x5ad462[_0x30f0d7(0x214)],null,![],'x'),_0xbe0cda[_0x30f0d7(0x1a3)]('timeout'),_0x3c0edd(_0x5ad462),removeWorkerListener(_0xbe0cda,screenArrWorker,_0x3bdf18,_0x530ccb,_0x118615,_0x333f3e);},_0x118615=_0x158b6f=>{const _0x40b182=_0xc8c22e;if(_0x158b6f!==0x0){xoaTimeout(_0x363cb5),log('[handleWorkerExit]3:\x20Worker\x20'+_0x5e0a37[_0x40b182(0x1fe)]+'\x20đã\x20thoát\x20với\x20mã\x20lỗi\x20'+_0x158b6f,null,![],'x'),_0xbe0cda[_0x40b182(0x1a3)]('timeout'),_0x3c0edd(new Error(_0x40b182(0x1aa)+_0x158b6f)),removeWorkerListener(_0xbe0cda,screenArrWorker,_0x3bdf18,_0x530ccb,_0x118615,_0x333f3e);return;}},_0x333f3e=_0x3ad348=>{const _0xfacae8=_0xc8c22e;log(_0xfacae8(0x1b1)+_0x3ad348['success']+'\x20|\x20'+_0x3ad348[_0xfacae8(0x1fd)],null,'w');if(isScreenArrProcessing){log(_0xfacae8(0x1d1),null,'w');return;}isScreenArrProcessing=!![];try{if(!_0x3ad348||typeof _0x3ad348!==_0xfacae8(0x1a5)){log(_0xfacae8(0x185),null,'c','x');return;}if(_0x3ad348[_0xfacae8(0x206)]){log(_0xfacae8(0x205)+_0x3ad348['action'],null,'i');if(_0x3ad348[_0xfacae8(0x1fd)]===_0xfacae8(0x1f1))log(_0xfacae8(0x19e),null,'w'),_0xbe0cda['postMessage']({'task':'screenArr','action':_0xfacae8(0x1f1),'dataPayload':_0x3ad348[_0xfacae8(0x196)]});else _0x3ad348[_0xfacae8(0x1fd)]==='write'?(log(_0xfacae8(0x22b),null,'w'),_0xbe0cda[_0xfacae8(0x1a3)]({'task':_0xfacae8(0x211),'action':_0xfacae8(0x20f),'dataPayload':_0x3ad348[_0xfacae8(0x196)]})):log(_0xfacae8(0x1ad)+_0x3ad348[_0xfacae8(0x1fd)],null,'c','x');}else log(_0xfacae8(0x222)+(_0x3ad348['action']||_0xfacae8(0x1d2))+_0xfacae8(0x1f5)+(_0x3ad348[_0xfacae8(0x1b5)]||_0xfacae8(0x1b7)),null,'c','x');}catch(_0x4db83b){log(_0xfacae8(0x1ee)+_0x4db83b[_0xfacae8(0x214)],null,'c','x');}finally{log(_0xfacae8(0x1e2),null,'w','x'),isScreenArrProcessing=![];}};_0xbe0cda['removeAllListeners'](_0xc8c22e(0x214)),_0xbe0cda[_0xc8c22e(0x189)](_0xc8c22e(0x1b5)),_0xbe0cda[_0xc8c22e(0x189)]('exit'),_0xbe0cda['on'](_0xc8c22e(0x214),_0x3bdf18),_0xbe0cda['on'](_0xc8c22e(0x1b5),_0x530ccb),_0xbe0cda['on']('exit',_0x118615),screenArrWorker[_0xc8c22e(0x189)](_0xc8c22e(0x214)),screenArrWorker['on'](_0xc8c22e(0x214),_0x333f3e),_0xbe0cda[_0xc8c22e(0x1a3)]({'task':_0x5e0a37,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame});}catch(_0x260ffc){log(_0xc8c22e(0x221)+_0x260ffc['message'],null,![]),_0x3c0edd(_0x260ffc);}});}function a0_0x4584(_0x19ff15,_0x366aea){const _0x2e9bee=a0_0x2e9b();return a0_0x4584=function(_0x458478,_0x5a422a){_0x458478=_0x458478-0x185;let _0xec7337=_0x2e9bee[_0x458478];return _0xec7337;},a0_0x4584(_0x19ff15,_0x366aea);}async function xoaTimeout(_0x246501){const _0x58a46e=a0_0x5d7a7a;try{clearTimeout(_0x246501),log(_0x58a46e(0x23e),null,'i',_0x58a46e(0x227));}catch(_0x3fe017){log(_0x58a46e(0x240)+_0x3fe017,null,![]);}}async function removeWorkerListener(_0x4f865d,_0x226e70,_0x4c9e5f,_0xc68e7d,_0x7b53c9,_0x30654e){const _0x16f1d3=a0_0x5d7a7a;log('[removeWorkerListener]:\x20Xóa\x20các\x20event\x20listener\x20của\x20worker',null,'i','&'),_0x4f865d[_0x16f1d3(0x1a4)]('message',_0x4c9e5f),_0x4f865d['removeListener'](_0x16f1d3(0x1b5),_0xc68e7d),_0x4f865d[_0x16f1d3(0x1a4)](_0x16f1d3(0x20e),_0x7b53c9);return;}async function handleScreenArrWorker(_0x5e8115){const _0x46b31f=a0_0x5d7a7a;log(_0x46b31f(0x1ae),null,'i','-');if(!_0x5e8115||typeof _0x5e8115!==_0x46b31f(0x1a5)){log(_0x46b31f(0x237),null,![]);return;}if(isScreenArrProcessing){log(_0x46b31f(0x1c5),null,'w');return;}isScreenArrProcessing=!![];try{return new Promise((_0x1c57a2,_0x353592)=>{const _0x3de591=_0x46b31f,_0x5d94d7=_0x5e8115[_0x3de591(0x1fd)];if(_0x5d94d7==='write')log(_0x3de591(0x218),null,'w'),screenArrWorker[_0x3de591(0x1a3)]({'action':_0x3de591(0x20f),'payload':_0x5e8115['payload']});else{if(_0x5d94d7==='read')log('[handleScreenArrWorker]:\x20read',null,'w'),screenArrWorker['postMessage']({'action':'read'});else return log(_0x3de591(0x223)+_0x5e8115[_0x3de591(0x1fd)],null,![]),_0x353592(new Error('Hành\x20động\x20không\x20hợp\x20lệ:\x20'+_0x5e8115[_0x3de591(0x1fd)]));}screenArrWorker[_0x3de591(0x1bf)](_0x3de591(0x214),_0x483a27=>{const _0x1b7c9a=_0x3de591;_0x483a27[_0x1b7c9a(0x206)]?_0x1c57a2(!![]):_0x353592(new Error('Lỗi\x20xử\x20lý\x20screenArrWorker:\x20'+(_0x483a27[_0x1b7c9a(0x1b5)]||_0x1b7c9a(0x23a))));}),screenArrWorker[_0x3de591(0x1bf)](_0x3de591(0x1b5),_0x44c980=>{const _0x496e8e=_0x3de591;log(_0x496e8e(0x1e7)+_0x44c980[_0x496e8e(0x214)],null,![]),_0x353592(_0x44c980);});});}finally{isScreenArrProcessing=![];}}async function updateTask(_0x49eca6,_0x29faa0){const _0x26a4d8=a0_0x5d7a7a;if(!http||typeof http['updateTask']!==_0x26a4d8(0x1fb)){log(_0x26a4d8(0x1c0),null,![]);return;}return log(_0x26a4d8(0x19a)+_0x49eca6+'\x20with\x20data:\x20'+_0x29faa0[_0x26a4d8(0x190)]+'|'+_0x29faa0['nextRun'],null,'i'),await http['updateTask'](_0x49eca6,_0x29faa0);}async function processProfile(_0x4c05c7){const _0x587004=a0_0x5d7a7a;console['log'](_0x587004(0x1ab)+_0x4c05c7['name']);const _0x8f21a1=_0x4c05c7[_0x587004(0x22c)];for(const _0x170202 of _0x8f21a1){await gameQueue[_0x587004(0x1b6)](()=>processGame(_0x170202));}}async function getRunningTasks(_0x2a847c,_0x1ea9c4){const _0xee28a6=a0_0x5d7a7a,_0x9ae397=[];for(const [_0x45676d,_0x221f76]of _0x2a847c[_0xee28a6(0x231)]()){_0x221f76===_0x221f76&&_0x9ae397[_0xee28a6(0x1bb)](_0x45676d);}return _0x9ae397;}async function calScreenArr(_0x32064e,_0xbb760a,_0x39a7b5,_0xb7ab29,_0x45f7a2,_0x31ab98=0x1){const _0x2e43c4=a0_0x5d7a7a,_0xae4402=0x0;let _0x34f854=_0x32064e,_0x16500c=_0xbb760a,_0x1ae6d6,_0x3e9a22,_0x128c25=0x1;while(!![]){_0x3e9a22=Math[_0x2e43c4(0x1d6)](_0x39a7b5/_0x34f854),_0x1ae6d6=Math[_0x2e43c4(0x212)](_0x45f7a2/_0x3e9a22);if(_0x1ae6d6*_0x16500c<=_0xb7ab29)break;_0x128c25*=0.95,_0x34f854=Math['floor'](_0x32064e*_0x128c25),_0x16500c=Math[_0x2e43c4(0x1d6)](_0xbb760a*_0x128c25);}_0x34f854=Math['floor'](_0x34f854*1.26);const _0x1defe4=[];let _0x122ada=0x0;for(let _0x55e7ad=0x0;_0x55e7ad<_0x31ab98;_0x55e7ad++){_0x1defe4[_0x2e43c4(0x1bb)]({'id':_0x55e7ad,'scale':_0x128c25,'width':_0x32064e,'height':_0xbb760a,'widthScale':_0x34f854,'heightScale':_0x16500c,'rows':[]});for(let _0x1c4269=0x0;_0x1c4269<_0x1ae6d6;_0x1c4269++){const _0x2876d9=[];for(let _0x2bd521=0x0;_0x2bd521<_0x3e9a22;_0x2bd521++){if(_0x122ada>=_0x45f7a2)break;_0x2876d9[_0x2e43c4(0x1bb)]({'status':0x0,'pos':{'x':Math[_0x2e43c4(0x1d6)](_0x2bd521*_0x34f854),'y':Math[_0x2e43c4(0x1d6)](_0x1c4269*_0x16500c)}}),_0x122ada++;}_0x1defe4[_0x55e7ad]['rows'][_0x2e43c4(0x1bb)](_0x2876d9);if(_0x122ada>=_0x45f7a2)break;}}return console['log'](_0x2e43c4(0x1a8),_0x1ae6d6),console[_0x2e43c4(0x1c2)](_0x2e43c4(0x1e1),_0x3e9a22),{'scale':_0x128c25,'rows':_0x1ae6d6,'cols':_0x3e9a22,'total':_0x122ada,'positions':_0x1defe4};}async function delay(_0x31157f){return new Promise(_0x3132e6=>{setTimeout(_0x3132e6,_0x31157f);});}