function a0_0x770b(_0x2aadd9,_0x32f553){const _0x16ef5a=a0_0x16ef();return a0_0x770b=function(_0x770b92,_0x3e607a){_0x770b92=_0x770b92-0xd2;let _0x25a22c=_0x16ef5a[_0x770b92];return _0x25a22c;},a0_0x770b(_0x2aadd9,_0x32f553);}const a0_0x32a29f=a0_0x770b;(function(_0x1e9938,_0x50aecc){const _0x5de941=a0_0x770b,_0x3121e0=_0x1e9938();while(!![]){try{const _0x1c47c2=-parseInt(_0x5de941(0x102))/0x1*(-parseInt(_0x5de941(0x17f))/0x2)+parseInt(_0x5de941(0x161))/0x3*(parseInt(_0x5de941(0x187))/0x4)+-parseInt(_0x5de941(0x155))/0x5*(-parseInt(_0x5de941(0x144))/0x6)+parseInt(_0x5de941(0x14a))/0x7*(-parseInt(_0x5de941(0x12a))/0x8)+parseInt(_0x5de941(0x114))/0x9+parseInt(_0x5de941(0xe8))/0xa*(parseInt(_0x5de941(0x14d))/0xb)+-parseInt(_0x5de941(0x157))/0xc;if(_0x1c47c2===_0x50aecc)break;else _0x3121e0['push'](_0x3121e0['shift']());}catch(_0x201ec8){_0x3121e0['push'](_0x3121e0['shift']());}}}(a0_0x16ef,0x74386),require(a0_0x32a29f(0x11a))['config']());const fs=require('fs'),os=require('os'),path=require(a0_0x32a29f(0xf7)),Genlogin=require(a0_0x32a29f(0xfc)),httpPost=require(a0_0x32a29f(0x13c)),puppeteer=require('puppeteer'),{log,json}=require(a0_0x32a29f(0x186)),{machine_id,machineIdSync}=require(a0_0x32a29f(0xd8)),machineId=machineIdSync()[a0_0x32a29f(0x170)](0x0,0x8),{Worker}=require(a0_0x32a29f(0x17c)),PQueue=require(a0_0x32a29f(0xee))[a0_0x32a29f(0x120)],{screenArr}=require(a0_0x32a29f(0xe0)),{isSet}=require('util/types'),appName=a0_0x32a29f(0x10c)+'-'+machineId,nameFile=a0_0x32a29f(0xf9)+'-'+machineId,isLoggingEnabled=!![],appSetings={'maxTaskThreads':{'type':a0_0x32a29f(0xdf),'value':0x3,'note':a0_0x32a29f(0x11e)},'screens':{'type':a0_0x32a29f(0xdf),'value':0x1,'note':a0_0x32a29f(0x151)},'screenWidthHeight':{'type':'input','value':a0_0x32a29f(0x12b),'note':a0_0x32a29f(0x183)},'browserWidthHeight':{'type':a0_0x32a29f(0xdf),'value':a0_0x32a29f(0x14e),'note':'kích\x20thước\x20trinhd\x20duyệt\x20Width\x20x\x20Height\x20'},'genDataFolder':{'type':a0_0x32a29f(0xdf),'value':path[a0_0x32a29f(0x185)]('C:',a0_0x32a29f(0x18a),os[a0_0x32a29f(0x180)]()[a0_0x32a29f(0x179)],a0_0x32a29f(0x152)),'note':a0_0x32a29f(0xdb)}};function a0_0x16ef(){const _0x58cfe6=['Tỷ\x20lệ\x20thu\x20nhỏ:\x20','\x20không\x20phải\x20là\x20một\x20hàm\x20hợp\x20lệ','nextrun','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20màn\x20hình\x20của\x20task\x20','postMessage','getListProfiles','[main]:\x20Lỗi\x20chung:\x20','tele_id','set','object','has','./modules/http','không\x20xác\x20định','\x20Lỗi\x20','\x20trình\x20duyệt.','removeAllListeners','read','rows','height','828852GzriuF','Không\x20thể\x20tạo\x20worker','loop','[loadGameApi]:\x20Chạy\x20','APIKEY','[handleScreenArrWorker]:\x20write','2054353NntVna','value','Thời\x20gian\x20timeout\x20không\x20hợp\x20lệ','11uzlkVa','640x800','Không\x20rõ\x20lỗi','[processTasks]:\x20task.nextrunstamp:\x20','Số\x20lượng\x20màn\x20hình\x20vật\x20lý\x20để\x20hiển\x20thị','.genlogin','Processing\x20profile:\x20','data','25PoFUBr','[processTasks]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','22405044wlrVwA','getAllProfiles','[handleScreenArrWorker]Lỗi\x20gì\x20đó\x20','[handleWorkerMessage]:\x20Đã\x20xử\x20lý\x20task\x20','[processTasks]:\x20Đã\x20xóa\x20trạng\x20thái\x20đang\x20chạy\x20task\x20','\x20nè\x20bro!','floor','length','[createWorkerPromise]:\x20Timeout\x20khi\x20xử\x20lý\x20task\x20','nextRun','239937irpJRn','[handleScreenArrWorker]:\x20read','Lỗi\x20không\x20xác\x20định','entries','worker-api1.js','toolApi','Start\x20App:\x20','get','from','[handleWorkerMessage]:\x20Lỗi\x20nội\x20bộ\x20khi\x20xử\x20lý\x20task\x20','[updateTask]:\x20Lỗi\x20cập\x20nhật\x20task','[handleScreenArrWorkerMessage]screenArrWorker:\x20Lỗi\x20-\x20Hành\x20động:\x20','[handleWorkerMessage]0:\x20Lỗi\x20xử\x20lý\x20task\x20','Tổng\x20độ\x20phân\x20giải\x20màn\x20hình:\x20','[handleScreenArrWorker]vào\x20handleScreenArrWorker','substring','screens','\x20loop','write','[main]:\x20Start\x20App:\x20','Hành\x20động\x20không\x20hợp\x20lệ:\x20','map','\x20vào\x20hàng\x20đợi','split','username','profiles','status','worker_threads','once','[handleWorkerMessage]2:\x20Lỗi\x20xử\x20lý\x20task\x20','244826QBwtzd','userInfo','[main]\x20Task\x20Status:\x20','[handleWorkerError]:\x20Worker\x20bị\x20lỗi:\x20','độ\x20phân\x20giải\x20màn\x20hình\x20vật\x20lý\x20Width\x20x\x20Height\x20','removeListener','join','./modules/logger','40cTTPwZ','maxTime','Worker\x20stopped\x20with\x20exit\x20code\x20','Users','[processTasks]:','ceil','pending','running','[main]:\x20Lên\x20Web\x20lấy\x20APIKEY\x20nhen\x20Bro','nextrunstamp','[loadGameApi]:\x20Script\x20','node-machine-id','screenArr.js','api','thư\x20mục\x20chứa\x20data\x20genlogin','|screenWidthHeight:','số\x20màn\x20hình:\x20','[handleScreenArrWorkerMessage]screenArrWorker:\x20Kết\x20thúc\x20xử\x20lý\x20phản\x20hồi','input','./screenArr','[handleScreenArrWorkerMessage]screenArrWorker:\x20Hành\x20động\x20không\x20xác\x20định:\x20','[handleWorkerExit]3:\x20Worker\x20','worker1.js','updateTask','\x20treo\x20đang\x20chạy\x20từ\x20','Lỗi\x20xử\x20lý\x20screenArrWorker:\x20','scale','6013660WCMuAC','[createWorkerPromise]:\x20','action','[main]:Running\x20Task:','function','reduce','p-queue','log','[processTasks]:\x20screens:','\x20đã\x20thoát\x20với\x20mã\x20lỗi\x20','name','\x20rồi\x20bro!','[xoaTimeout]:\x20Xóa\x20timeout','success','vendor','path','browserWidthHeight','genProfiles','Lỗi\x20App\x20genlogin\x20nhé\x20bro!','[processTasks]:\x20Phát\x20Hiện\x20','./modules/Genlogin','screenArr','[processTasks]:\x20currentTime.timestamp:\x20','[xoaTimeout]:\x20','SERVER_HOST','Không\x20có','6JCoZFk','No\x20task\x20found','[main]:','[processTask]:\x20Xử\x20lý\x20task:\x20','[handleScreenArrWorker]Lỗi\x20xử\x20lý\x20screenArr','taskMode','\x20|\x20','[handleScreenArrWorker]Đang\x20xử\x20lý\x20screenArr,\x20bỏ\x20qua\x20yêu\x20cầu\x20này','\x20task\x20trong\x20hàng\x20đợi','games','LongCAutoAirdrop','error','[main]:\x20BYE\x20BYE','[main]:\x20getAllProfiles.value\x20OK','cols','[handleScreenArrWorkerMessage]screenArrWorker:\x20Thành\x20công\x20-\x20Hành\x20động:\x20','[processTasks]:\x20FirstRun','[main]:\x20Mở\x20App\x20genlogin\x20trước\x20nhé\x20bro,kiểm\x20tra\x20coi\x20mở\x20chưa\x20bro','3574962ZVWXCh','exit','env','Task\x20phải\x20là\x20một\x20đối\x20tượng','[processTask]:\x20DONE\x20TASK\x20','[createWorkerPromise]:\x20Lỗi\x20không\x20xác\x20định:\x20','dotenv','[main]:\x20chưa\x20có\x20task\x20mới','size','width','Số\x20lượng\x20task\x20chạy\x20song\x20song','push','default','\x20set\x20timeout:\x20','timestamp','tele','[processTask]:\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20task:\x20','[main]:\x20APIKEY\x20not\x20found!','[handleScreenArrWorker]:\x20Lỗi\x20worker:\x20','terminate','nowTime','[handleScreenArrWorkerMessage]screenArrWorker:\x20Xử\x20lý\x20hành\x20động\x20write','24oPmlOZ','1920x1080','timeout','[processTasks]:\x20Chưa\x20có\x20task\x20mới\x20nào\x20để\x20xử\x20lý','message','[main]:\x20Thêm\x20APIKEY\x20vào\x20file\x20.env\x20nhen\x20Bro','[handleScreenArrWorkerMessage]screenArrWorker:\x20Xử\x20lý\x20hành\x20động\x20read'];a0_0x16ef=function(){return _0x58cfe6;};return a0_0x16ef();}let genlogin,http,profileNameId,profileId,browser,getAllProfiles,GenDataProfile,screenArrWorker,timgame=!![],taskQueue,maxTask=0x1,taskStatus,isScreenArrProcessing=![],dataId,firstRun=!![],appStatus=0x0,tele_id;((async()=>{const _0x472d58=a0_0x32a29f;try{log(_0x472d58(0x174)+appName,null,'w','='),await delay(0x3e8);if(!process['env'][_0x472d58(0x148)]){log(_0x472d58(0x125),null,![]),log(_0x472d58(0xd5),null,'w'),log(_0x472d58(0x12f),null,'w'),log(_0x472d58(0x10e),null,'w'),log('[main]:\x20TA\x20ĐI\x20ĐÂY',null,'w','=');return;}genlogin=new Genlogin('',!![]),http=new httpPost(process[_0x472d58(0x116)][_0x472d58(0x100)],process[_0x472d58(0x116)][_0x472d58(0x148)],!![]),tele_id=await http['getTeleId']();tele_id[_0x472d58(0x138)]&&await http[_0x472d58(0x123)](tele_id[_0x472d58(0x138)],_0x472d58(0x167)+appName+_0x472d58(0x15c));let _0x45446c;while(!![]){try{appStatus=0x1;const _0x4d8ee4=await genlogin[_0x472d58(0x136)]();!_0x4d8ee4&&(log(_0x472d58(0x113),null,'w'),log('[main]:\x20Hoặc\x20Đăng\x20nhập\x20lại\x20App\x20genlogin\x20nhé\x20bro',null,'w'),log('[main]:\x20chờ\x2030\x20giây\x20rồi\x20thử\x20lại',null,'i'),tele_id&&tele_id[_0x472d58(0x138)]&&await http[_0x472d58(0x123)](tele_id[_0x472d58(0x138)],_0x472d58(0xfa)));GenDataProfile=await _0x4d8ee4[_0x472d58(0x17a)],await delay(0xbb8),getAllProfiles=await http[_0x472d58(0x158)](appName,nameFile,GenDataProfile,appSetings);if(!getAllProfiles[_0x472d58(0x14b)]||!getAllProfiles||getAllProfiles['value'][_0x472d58(0x15e)]<=0x0){log('[main]:\x20Không\x20có\x20task\x20hoặc\x20chưa\x20tới\x20thời\x20gian\x20chạy',null,![]),log('[main]:\x20chờ\x2030\x20giây\x20rồi\x20thử\x20lại',null,'i');throw new Error(_0x472d58(0x103));}log(_0x472d58(0x10f));const _0x2f3730=Object[_0x472d58(0x164)](getAllProfiles[_0x472d58(0x14b)]);maxTask=parseInt(getAllProfiles['maxTask']);const _0x3a7f08=await processTasks(_0x2f3730);if(taskQueue[_0x472d58(0xd3)]>0x0){const _0x3b046d=await getRunningTasks(taskStatus,_0x472d58(0xd4));log(_0x472d58(0x104)+taskQueue[_0x472d58(0x11c)]+_0x472d58(0x10a),null,'w'),log('[main]:'+taskQueue['pending']+'\x20task\x20đang\x20chạy',null,'w'),log(_0x472d58(0xeb)+_0x3b046d,null,'w');}else!_0x3a7f08&&log(_0x472d58(0x11b),null,'w');log(_0x472d58(0x181)+Array[_0x472d58(0x169)](taskStatus[_0x472d58(0x164)]()),null,'c'),log('[main]:\x20Kiểm\x20tra\x20task\x20sau\x2060\x20giây',null,'i'),await delay(0xea60);}catch(_0x401f82){log('[main]:\x20Lỗi\x20while:\x20'+_0x401f82,null,![]),log('[main]:\x20Chờ\x2060\x20giây',null,'i'),tele_id&&tele_id[_0x472d58(0x138)]&&await http['tele'](tele_id[_0x472d58(0x138)],appName+_0x472d58(0x13e)+_0x401f82+_0x472d58(0xf3)),await delay(0xea60);}}return!![];}catch(_0x499dd6){log(_0x472d58(0x137)+_0x499dd6,null,![]),appStatus=0x0;}})());async function loadGameApi(_0x27baca,_0x5c9acc){const _0x2eb30e=a0_0x32a29f;try{const _0x305d10=path[_0x2eb30e(0x185)](__dirname,_0x2eb30e(0x166),_0x27baca+'.js'),_0x368263=require(_0x305d10);if(typeof _0x368263===_0x2eb30e(0xec)){const _0x558d72=await _0x368263(_0x5c9acc);return await delay(0x3e8),_0x558d72[_0x2eb30e(0x17b)]===_0x2eb30e(0x146)?(log(_0x2eb30e(0x147)+_0x27baca+_0x2eb30e(0x172),null,'i'),_0x558d72):(log(_0x2eb30e(0x147)+_0x27baca+'\x20'+_0x558d72[_0x2eb30e(0x17b)],null,'i'),_0x558d72);}else return await delay(0x3e8),log(_0x2eb30e(0xd7)+_0x27baca+_0x2eb30e(0x132),null,![]),null;}catch(_0x4bb2ec){return log('[loadGameApi]:\x20Lỗi\x20khi\x20load\x20và\x20thực\x20thi\x20script\x20'+_0x27baca+':\x20'+_0x4bb2ec,null,![]),null;}}async function processTasks(_0x9b8da3){const _0x3004d9=a0_0x32a29f;try{if(firstRun){log(_0x3004d9(0x112),null,'c','*'),taskQueue=new PQueue({'concurrency':maxTask}),screenArrWorker=new Worker(path[_0x3004d9(0x185)](__dirname,_0x3004d9(0xd9))),firstRun=![],taskStatus=new Map();let _0x254e4e=0x0;for(const [_0x2b6eb1,_0x4d03f0]of _0x9b8da3){_0x2b6eb1<parseInt(getAllProfiles['maxTask'])&&(_0x254e4e+=parseInt(_0x4d03f0['profileThreads']));}let _0x5da993=[];for(let _0x59395f=0x0;_0x59395f<parseInt(getAllProfiles[_0x3004d9(0x171)]);_0x59395f++){const _0x4a3de2=getAllProfiles['screenWidthHeight'][_0x3004d9(0x178)]('x');_0x5da993['push']({'width':parseInt(_0x4a3de2[0x0]),'height':parseInt(_0x4a3de2[0x1])});}const _0x2ad1d6=getAllProfiles[_0x3004d9(0xf8)][_0x3004d9(0x178)]('x'),_0x419786=parseInt(_0x2ad1d6[0x0]),_0x9a2aac=parseInt(_0x2ad1d6[0x1]),_0x4c5673=_0x254e4e,_0x1a0e16=_0x5da993[_0x3004d9(0xed)]((_0x55c073,_0x1d87c3)=>_0x55c073+_0x1d87c3[_0x3004d9(0x11d)],0x0),_0x3a065d=Math['max'](..._0x5da993[_0x3004d9(0x176)](_0xf0c7fa=>_0xf0c7fa[_0x3004d9(0x143)])),_0x208a7f=await calScreenArr(_0x419786,_0x9a2aac,_0x1a0e16,_0x3a065d,_0x254e4e);log(_0x3004d9(0xdd)+getAllProfiles[_0x3004d9(0x171)],null,'w'),log(_0x3004d9(0x16e)+_0x1a0e16+'x'+_0x3a065d,null,'w'),log('Mở\x20'+_0x4c5673+_0x3004d9(0x13f),null,'w'),log('Số\x20trình\x20duyệt\x20trên\x20mỗi\x20hàng:\x20'+_0x208a7f['rows']+',\x20mỗi\x20cột:\x20'+_0x208a7f[_0x3004d9(0x110)],null,'w'),log(_0x3004d9(0x131)+_0x208a7f[_0x3004d9(0xe7)],null,'w'),screenArrWorker[_0x3004d9(0x135)]({'action':_0x3004d9(0x173),'payload':_0x208a7f['positions']}),log(_0x3004d9(0xf0)+getAllProfiles[_0x3004d9(0x171)]+_0x3004d9(0xdc)+getAllProfiles['screenWidthHeight'],this[_0x3004d9(0xf6)],'w'),await delay(0x3e8);}const _0x3b054b=[];for(const [_0x58e6e6,_0x189f13]of _0x9b8da3){const _0x598876=await genlogin[_0x3004d9(0x128)]();log(_0x3004d9(0xfe)+_0x598876[_0x3004d9(0x122)],null,'i'),log(_0x3004d9(0x150)+_0x189f13[_0x3004d9(0xd6)],null,'i'),log('[processTasks]:\x20task.status:\x20'+_0x189f13[_0x3004d9(0x17b)],null,'i'),log(_0x3004d9(0x18b)+_0x598876[_0x3004d9(0x122)]+'|'+(parseInt(_0x189f13[_0x3004d9(0xd6)])+parseInt(_0x189f13[_0x3004d9(0x188)]))+'|'+parseInt(_0x189f13[_0x3004d9(0x17b)]),null,'w');if(_0x598876['timestamp']>=_0x189f13[_0x3004d9(0xd6)]&&parseInt(_0x189f13[_0x3004d9(0x17b)])===0x0){log('[processTasks]:\x20Thêm\x20task\x20'+_0x189f13['name']+_0x3004d9(0x177),null,'i'),taskStatus[_0x3004d9(0x139)](_0x189f13[_0x3004d9(0xf2)],'pending');const _0x320575=await updateTask(_0x189f13['name'],{'status':0x1,'nextRun':0x1});_0x3b054b['push'](taskQueue['add'](()=>processTask(_0x189f13))),taskStatus['set'](_0x189f13[_0x3004d9(0xf2)],'running'),await delay(0x7d0);}else{if(_0x598876[_0x3004d9(0x122)]>parseInt(_0x189f13[_0x3004d9(0xd6)])+parseInt(_0x189f13['maxTime'])&&parseInt(_0x189f13[_0x3004d9(0x17b)])===0x1&&(taskStatus[_0x3004d9(0x168)](_0x189f13[_0x3004d9(0xf2)])==='completed'||!taskStatus[_0x3004d9(0x13b)](_0x189f13['name']))){log(_0x3004d9(0xfb)+_0x189f13['name']+_0x3004d9(0xe5)+_0x189f13[_0x3004d9(0x133)],null,'w','*');const _0x55fd37=await updateTask(_0x189f13[_0x3004d9(0xf2)],{'status':0x0,'nextRun':0x1});log(_0x3004d9(0x15b)+_0x189f13[_0x3004d9(0xf2)],null,'i','*');}}}return _0x3b054b['length']>0x0?!![]:(log(_0x3004d9(0x12d),null,'w'),null);}catch(_0x915527){return log(_0x3004d9(0x156)+_0x915527,null,![]),null;}}async function processTask(_0x5d7fa0){const _0x4929fa=a0_0x32a29f;try{log(_0x4929fa(0x105)+_0x5d7fa0[_0x4929fa(0xf2)],null,'i','=');if(!_0x5d7fa0||typeof _0x5d7fa0!==_0x4929fa(0x13a))throw new Error(_0x4929fa(0x117));const _0xcc6ece=createWorkerPromise(_0x5d7fa0),_0x1d2002=await _0xcc6ece;log(_0x4929fa(0x118)+_0x5d7fa0[_0x4929fa(0xf2)],null,'w','DT');const _0x31642a=await updateTask(_0x5d7fa0[_0x4929fa(0xf2)],{'status':0x0,'nextRun':0x1});return taskStatus['set'](_0x5d7fa0['name'],'completed'),await delay(0x1388),_0x1d2002;}catch(_0x1e9848){return log(_0x4929fa(0x124)+_0x1e9848,null,![]),await updateTask(_0x5d7fa0['name'],{'status':0x0,'nextRun':0x1}),null;}}async function createWorkerPromise(_0x1235ac){const _0x2bc08f=a0_0x32a29f;return log('[createWorkerPromise]:\x20createWorkerPromise\x20task:\x20'+_0x1235ac[_0x2bc08f(0xf2)],null,'i','-'),new Promise(async(_0x3ab964,_0x3bf678)=>{const _0x20599d=_0x2bc08f;try{if(!_0x1235ac||typeof _0x1235ac!==_0x20599d(0x13a))return _0x3bf678(new Error(_0x20599d(0x117)));const _0x5cf369=_0x1235ac[_0x20599d(0x107)]===_0x20599d(0xda)?path[_0x20599d(0x185)](__dirname,_0x20599d(0x165)):path['join'](__dirname,_0x20599d(0xe3)),_0x3ffeb6=new Worker(_0x5cf369);log(_0x20599d(0xe9)+_0x5cf369,null,'i');if(!_0x3ffeb6)return _0x3ffeb6['terminate'](),_0x3bf678(new Error(_0x20599d(0x145)));const _0x18943e=parseInt(_0x1235ac[_0x20599d(0x188)])*0x3e8;if(isNaN(_0x18943e))return _0x3ffeb6[_0x20599d(0x127)](),_0x3bf678(new Error(_0x20599d(0x14c)));const _0x44bfaa=setTimeout(()=>{const _0x4138a2=_0x20599d;log(_0x4138a2(0x15f)+_0x1235ac[_0x4138a2(0xf2)],null,'w',_0x4138a2(0x12c)),_0x3ffeb6[_0x4138a2(0x135)](_0x4138a2(0x12c)),_0x3bf678(new Error(_0x4138a2(0x12c)));},_0x18943e);log(_0x20599d(0xe9)+_0x1235ac[_0x20599d(0xf2)]+_0x20599d(0x121)+_0x18943e+'\x20Timeout\x20ID:\x20'+_0x44bfaa,null,'w');const _0x180f46=async _0x6a7c3b=>{const _0x54145d=_0x20599d;try{if(_0x6a7c3b[_0x54145d(0xf5)]){log(_0x54145d(0x15a)+_0x1235ac[_0x54145d(0xf2)],null,'i'),removeWorkerListener(_0x3ffeb6,screenArrWorker,_0x180f46,_0x3cbfdf,_0x325818,_0x5bf174),xoaTimeout(_0x44bfaa),_0x3ab964(!![]);return;}else{if(_0x6a7c3b[_0x54145d(0xfd)])_0x6a7c3b[_0x54145d(0xfd)]['action']==='done'?log('[handleWorkerMessage]:screenArr\x20xử\x20lý\x20ok\x20'+_0x1235ac[_0x54145d(0xf2)],null,'i'):(log('[handleWorkerMessage]:vào\x20xử\x20lý\x20màn\x20hình\x20của\x20task\x20'+_0x1235ac[_0x54145d(0xf2)],null,'i'),await handleScreenArrWorker(_0x6a7c3b['screenArr']),log(_0x54145d(0x134)+_0x1235ac[_0x54145d(0xf2)],null,'i'));else{if(!_0x6a7c3b[_0x54145d(0xf5)]){log(_0x54145d(0x16d)+_0x1235ac['name']+':\x20'+_0x6a7c3b[_0x54145d(0x10d)],null,![]),_0x3bf678(new Error(_0x6a7c3b[_0x54145d(0x10d)]||_0x54145d(0x163)));return;}else{log('[handleWorkerMessage]1:Lỗi\x20xử\x20lý\x20task\x20'+_0x1235ac[_0x54145d(0xf2)]+':\x20'+json(_0x6a7c3b),null,'c','x'),log(_0x54145d(0x17e)+_0x1235ac[_0x54145d(0xf2)]+':\x20'+_0x6a7c3b[_0x54145d(0x10d)],null,![]),_0x3ffeb6[_0x54145d(0x135)](_0x54145d(0x12c)),_0x3bf678(new Error(_0x6a7c3b[_0x54145d(0x10d)]||_0x54145d(0x163)));return;}}}}catch(_0x1d69a1){log(_0x54145d(0x16a)+_0x1235ac[_0x54145d(0xf2)]+':\x20'+_0x1d69a1[_0x54145d(0x12e)],null,![]),_0x3ffeb6['postMessage']('timeout'),removeWorkerListener(_0x3ffeb6,screenArrWorker,_0x180f46,_0x3cbfdf,_0x325818,_0x5bf174),xoaTimeout(_0x44bfaa),_0x3ffeb6[_0x54145d(0x127)](),_0x3bf678(_0x1d69a1);return;}},_0x3cbfdf=_0x460bbb=>{const _0x554c09=_0x20599d;xoaTimeout(_0x44bfaa),log(_0x554c09(0x182)+_0x460bbb[_0x554c09(0x12e)],null,![],'x'),_0x3ffeb6[_0x554c09(0x135)](_0x554c09(0x12c)),_0x3bf678(_0x460bbb),removeWorkerListener(_0x3ffeb6,screenArrWorker,_0x180f46,_0x3cbfdf,_0x325818,_0x5bf174);},_0x325818=_0x33a083=>{const _0x33639d=_0x20599d;if(_0x33a083!==0x0){xoaTimeout(_0x44bfaa),log(_0x33639d(0xe2)+_0x1235ac[_0x33639d(0xf2)]+_0x33639d(0xf1)+_0x33a083,null,![],'x'),_0x3ffeb6[_0x33639d(0x135)](_0x33639d(0x12c)),_0x3bf678(new Error(_0x33639d(0x189)+_0x33a083)),removeWorkerListener(_0x3ffeb6,screenArrWorker,_0x180f46,_0x3cbfdf,_0x325818,_0x5bf174);return;}},_0x5bf174=_0xd97f22=>{const _0x5e30a3=_0x20599d;log('[handleScreenArrWorkerMessage]screenArrWorker:\x20'+_0xd97f22[_0x5e30a3(0xf5)]+_0x5e30a3(0x108)+_0xd97f22['action'],null,'w');if(isScreenArrProcessing){log('[handleScreenArrWorkerMessage]screenArrWorker:\x20Đang\x20xử\x20lý,\x20bỏ\x20qua\x20phản\x20hồi\x20này',null,'w');return;}isScreenArrProcessing=!![];try{if(!_0xd97f22||typeof _0xd97f22!==_0x5e30a3(0x13a)){log('[handleScreenArrWorkerMessage]screenArrWorker:\x20Phản\x20hồi\x20không\x20hợp\x20lệ',null,'c','x');return;}if(_0xd97f22[_0x5e30a3(0xf5)]){log(_0x5e30a3(0x111)+_0xd97f22[_0x5e30a3(0xea)],null,'i');if(_0xd97f22[_0x5e30a3(0xea)]===_0x5e30a3(0x141))log(_0x5e30a3(0x130),null,'w'),_0x3ffeb6[_0x5e30a3(0x135)]({'task':_0x5e30a3(0xfd),'action':'read','dataPayload':_0xd97f22[_0x5e30a3(0x154)]});else _0xd97f22[_0x5e30a3(0xea)]===_0x5e30a3(0x173)?(log(_0x5e30a3(0x129),null,'w'),_0x3ffeb6[_0x5e30a3(0x135)]({'task':_0x5e30a3(0xfd),'action':_0x5e30a3(0x173),'dataPayload':_0xd97f22[_0x5e30a3(0x154)]})):log(_0x5e30a3(0xe1)+_0xd97f22[_0x5e30a3(0xea)],null,'c','x');}else log(_0x5e30a3(0x16c)+(_0xd97f22[_0x5e30a3(0xea)]||_0x5e30a3(0x13d))+',\x20Thông\x20báo:\x20'+(_0xd97f22[_0x5e30a3(0x10d)]||_0x5e30a3(0x101)),null,'c','x');}catch(_0x4346ff){log('[handleScreenArrWorkerMessage]screenArrWorker:\x20Lỗi\x20khi\x20xử\x20lý\x20phản\x20hồi:\x20'+_0x4346ff[_0x5e30a3(0x12e)],null,'c','x');}finally{log(_0x5e30a3(0xde),null,'w','x'),isScreenArrProcessing=![];}};_0x3ffeb6[_0x20599d(0x140)](_0x20599d(0x12e)),_0x3ffeb6['removeAllListeners'](_0x20599d(0x10d)),_0x3ffeb6['removeAllListeners'](_0x20599d(0x115)),_0x3ffeb6['on']('message',_0x180f46),_0x3ffeb6['on'](_0x20599d(0x10d),_0x3cbfdf),_0x3ffeb6['on']('exit',_0x325818),screenArrWorker[_0x20599d(0x140)](_0x20599d(0x12e)),screenArrWorker['on'](_0x20599d(0x12e),_0x5bf174),_0x3ffeb6[_0x20599d(0x135)]({'task':_0x1235ac,'dataBrw':getAllProfiles,'GenDataProfile0':GenDataProfile,'timgame0':timgame});}catch(_0x4e3e43){log(_0x20599d(0x119)+_0x4e3e43[_0x20599d(0x12e)],null,![]),_0x3bf678(_0x4e3e43);}});}async function xoaTimeout(_0x4642b1){const _0x2b8df9=a0_0x32a29f;try{clearTimeout(_0x4642b1),log(_0x2b8df9(0xf4),null,'i',_0x2b8df9(0x12c));}catch(_0xfc3130){log(_0x2b8df9(0xff)+_0xfc3130,null,![]);}}async function removeWorkerListener(_0x9794a,_0x277b8c,_0x421411,_0xb9fd9a,_0x1879f1,_0x3775cd){const _0xb4b0bb=a0_0x32a29f;log('[removeWorkerListener]:\x20Xóa\x20các\x20event\x20listener\x20của\x20worker',null,'i','&'),_0x9794a[_0xb4b0bb(0x184)]('message',_0x421411),_0x9794a[_0xb4b0bb(0x184)](_0xb4b0bb(0x10d),_0xb9fd9a),_0x9794a['removeListener'](_0xb4b0bb(0x115),_0x1879f1);return;}async function handleScreenArrWorker(_0x36bb53){const _0x4e19e3=a0_0x32a29f;log(_0x4e19e3(0x16f),null,'i','-');if(!_0x36bb53||typeof _0x36bb53!==_0x4e19e3(0x13a)){log(_0x4e19e3(0x106),null,![]);return;}if(isScreenArrProcessing){log(_0x4e19e3(0x109),null,'w');return;}isScreenArrProcessing=!![];try{return new Promise((_0x2106d8,_0x542c40)=>{const _0x8fe668=_0x4e19e3,_0x54f11c=_0x36bb53[_0x8fe668(0xea)];if(_0x54f11c===_0x8fe668(0x173))log(_0x8fe668(0x149),null,'w'),screenArrWorker['postMessage']({'action':'write','payload':_0x36bb53['payload']});else{if(_0x54f11c===_0x8fe668(0x141))log(_0x8fe668(0x162),null,'w'),screenArrWorker[_0x8fe668(0x135)]({'action':'read'});else return log(_0x8fe668(0x159)+_0x36bb53[_0x8fe668(0xea)],null,![]),_0x542c40(new Error(_0x8fe668(0x175)+_0x36bb53[_0x8fe668(0xea)]));}screenArrWorker[_0x8fe668(0x17d)](_0x8fe668(0x12e),_0x473e5d=>{const _0x3ffe07=_0x8fe668;_0x473e5d[_0x3ffe07(0xf5)]?_0x2106d8(!![]):_0x542c40(new Error(_0x3ffe07(0xe6)+(_0x473e5d['error']||_0x3ffe07(0x14f))));}),screenArrWorker['once'](_0x8fe668(0x10d),_0x4e070a=>{const _0x14baf7=_0x8fe668;log(_0x14baf7(0x126)+_0x4e070a['message'],null,![]),_0x542c40(_0x4e070a);});});}finally{isScreenArrProcessing=![];}}async function updateTask(_0x415269,_0xd2ea53){const _0x1b3342=a0_0x32a29f;if(!http||typeof http[_0x1b3342(0xe4)]!==_0x1b3342(0xec)){log(_0x1b3342(0x16b),null,![]);return;}return log('[updateTask]:\x20update\x20task\x20'+_0x415269+'\x20with\x20data:\x20'+_0xd2ea53['status']+'|'+_0xd2ea53[_0x1b3342(0x160)],null,'i'),await http['updateTask'](_0x415269,_0xd2ea53);}async function processProfile(_0xc005e1){const _0x4c1bf5=a0_0x32a29f;console['log'](_0x4c1bf5(0x153)+_0xc005e1[_0x4c1bf5(0xf2)]);const _0x176774=_0xc005e1[_0x4c1bf5(0x10b)];for(const _0x24f834 of _0x176774){await gameQueue['add'](()=>processGame(_0x24f834));}}async function getRunningTasks(_0x21cb26,_0x896df){const _0x2b7820=a0_0x32a29f,_0xa20c47=[];for(const [_0x4e8708,_0x5f2e5e]of _0x21cb26[_0x2b7820(0x164)]()){_0x5f2e5e===_0x5f2e5e&&_0xa20c47[_0x2b7820(0x11f)](_0x4e8708);}return _0xa20c47;}async function calScreenArr(_0x27dfb4,_0x107c86,_0x64fd3c,_0x5e6bcb,_0x8aa963,_0x13d42b=0x1){const _0x9d80db=a0_0x32a29f,_0x11dfa8=0x0;let _0x51997e=_0x27dfb4,_0x1a80b1=_0x107c86,_0x278cf7,_0x4289f5,_0x13b087=0x1;while(!![]){_0x4289f5=Math[_0x9d80db(0x15d)](_0x64fd3c/_0x51997e),_0x278cf7=Math[_0x9d80db(0xd2)](_0x8aa963/_0x4289f5);if(_0x278cf7*_0x1a80b1<=_0x5e6bcb)break;_0x13b087*=0.95,_0x51997e=Math['floor'](_0x27dfb4*_0x13b087),_0x1a80b1=Math[_0x9d80db(0x15d)](_0x107c86*_0x13b087);}_0x51997e=Math[_0x9d80db(0x15d)](_0x51997e*1.26);const _0x464af1=[];let _0x3a4c4b=0x0;for(let _0x3f2819=0x0;_0x3f2819<_0x13d42b;_0x3f2819++){_0x464af1[_0x9d80db(0x11f)]({'id':_0x3f2819,'scale':_0x13b087,'width':_0x27dfb4,'height':_0x107c86,'widthScale':_0x51997e,'heightScale':_0x1a80b1,'rows':[]});for(let _0x51856b=0x0;_0x51856b<_0x278cf7;_0x51856b++){const _0x71d7ba=[];for(let _0x4d6368=0x0;_0x4d6368<_0x4289f5;_0x4d6368++){if(_0x3a4c4b>=_0x8aa963)break;_0x71d7ba['push']({'status':0x0,'pos':{'x':Math[_0x9d80db(0x15d)](_0x4d6368*_0x51997e),'y':Math[_0x9d80db(0x15d)](_0x51856b*_0x1a80b1)}}),_0x3a4c4b++;}_0x464af1[_0x3f2819][_0x9d80db(0x142)][_0x9d80db(0x11f)](_0x71d7ba);if(_0x3a4c4b>=_0x8aa963)break;}}return console[_0x9d80db(0xef)]('rows:',_0x278cf7),console['log']('cols:',_0x4289f5),{'scale':_0x13b087,'rows':_0x278cf7,'cols':_0x4289f5,'total':_0x3a4c4b,'positions':_0x464af1};}async function delay(_0x1b2cb5){return new Promise(_0x580ef3=>{setTimeout(_0x580ef3,_0x1b2cb5);});}