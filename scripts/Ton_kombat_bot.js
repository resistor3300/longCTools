function a0_0x2852(){const _0x1e0502=['now','1585462IQBaPI','//span[text()=\x27Check\x20news\x27]','message','][checkClosePopup]Tìm\x20thấy\x20claimDailyReward','switchFrame','name','5373720kUSYuY','][checkClosePopup]\x20checkClosePopup\x20nè','toLocaleTimeString',']Đã\x20tìm\x20thấy\x20iframe','10425976eXFQyk','][checkClosePopup]Không\x20tìm\x20thayas\x20claimDailyReward','checkNews','snapshotLength',']Không\x20tìm\x20thấy\x20coin','utf8','coin','][checkClaim]\x20checkClaim\x20nè','loop','][checkClaim]Click\x20claim\x20OK','4261642UjIAAY',']không\x20xử\x20lý\x20được\x20thoigianconlai','][click]Không\x20click\x20được\x20vào\x20','][click]Click\x20','floor','textContent','ORDERED_NODE_SNAPSHOT_TYPE','102645OWShBo','01:00:00',']Không\x20click\x20được\x20vào\x20Check\x20news','claim','mainframe','][click][Lỗi]:\x20',']Xử\x20lý\x20thoigianconlai\x20OK','NextRun','NextRunStamp','promises','[getFile]\x20error:\x20','readFile','][lamQuest]Click\x20quest\x20OK','2096937ZxpJOL','evaluate','][lamQuest]Không\x20click\x20được\x20vào\x20quest','path',']Ra\x20game\x20nè','updateData','][getCoin]:\x20','Không\x20tìm\x20thấy\x20iframe','\x20OK',']Tìm\x20thấy\x20coin:\x20',']Không\x20tìm\x20thấy\x20iframe','][thoigianconlai]:\x20','][lamQuest]Làm\x20Quest\x20nè','612791MwQode','\x20nè','javascript','][checkClaim]\x20error:\x20',']Không\x20tìm\x20thấy\x20Claim','//span[contains(@class,\x27text-shadow\x20font-bold\x20text-3xl\x20lsm:text-[40px]\x27)]','claimDailyReward','load',']Auto\x20tap\x20','][autoTap]:\x20','][lamQuest]Không\x20tìm\x20thấy\x20quest','click','elementExistsByXPath','join','52efmZHn','][lamQuest]Tìm\x20thấy\x20quest','en-GB',']nextRunAt:\x20','Không\x20click\x20được\x20vào\x20quest','//span[text()=\x27Claim\x27]','-autoTap','][checkClaim]Không\x20click\x20được\x20vào\x20claim',']Tìm\x20thấy\x20Check\x20news','][Lỗi]:\x20'];a0_0x2852=function(){return _0x1e0502;};return a0_0x2852();}(function(_0x2f6d04,_0x2418cf){const _0x589cf3=a0_0x5678,_0x56515d=_0x2f6d04();while(!![]){try{const _0x5d030b=parseInt(_0x589cf3(0x134))/0x1+parseInt(_0x589cf3(0x14d))/0x2+-parseInt(_0x589cf3(0x127))/0x3+parseInt(_0x589cf3(0x142))/0x4*(-parseInt(_0x589cf3(0x11a))/0x5)+parseInt(_0x589cf3(0x153))/0x6+parseInt(_0x589cf3(0x161))/0x7+-parseInt(_0x589cf3(0x157))/0x8;if(_0x5d030b===_0x2418cf)break;else _0x56515d['push'](_0x56515d['shift']());}catch(_0x32a59c){_0x56515d['push'](_0x56515d['shift']());}}}(a0_0x2852,0x9c74d));import{log,json}from'../modules/logger.js';function a0_0x5678(_0x2f0e4c,_0x466f76){const _0x285280=a0_0x2852();return a0_0x5678=function(_0x567812,_0x5d257c){_0x567812=_0x567812-0x115;let _0xd4559=_0x285280[_0x567812];return _0xd4559;},a0_0x5678(_0x2f0e4c,_0x466f76);}export default async function (context,signal){const _0x585706=a0_0x5678,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot[_0x585706(0x152)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime;const xpath={'checkNews':_0x585706(0x14e),'claim':_0x585706(0x147),'coin':_0x585706(0x139)};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x585706(0x131),![]);throw new Error(_0x585706(0x12e));}log(profileNameId,'['+botName+']Vào\x20game\x20OK'),await delay(0x3e8);const kqCheckNews=await genlogin[_0x585706(0x140)](profileNameId,subframe,xpath[_0x585706(0x159)],0x7d0);if(!kqCheckNews)log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20Check\x20news',null,![]);else{log(profileNameId,'['+botName+_0x585706(0x14a));const clicked=await click(xpath['checkNews']);if(!clicked)log(profileNameId,'['+botName+_0x585706(0x11c),null,![]);else return log(profileNameId,'['+botName+']Click\x20Check\x20news\x20OK'),{'status':_0x585706(0x15f)};}const kqClaim=await checkClaim();!kqClaim&&log(profileNameId,'['+botName+_0x585706(0x138),null,![]);log(profileNameId,'['+botName+']Claim\x20OK');const coin=await getCoin();!coin&&log(profileNameId,'['+botName+_0x585706(0x15b),![]);await http[_0x585706(0x12c)](profileNameId,profileNameId,dataId,null,null,coin),log(profileNameId,'['+botName+_0x585706(0x130)+coin);const remainT=await thoigianconlai(_0x585706(0x11b));return!remainT&&log(profileNameId,'['+botName+_0x585706(0x162),null,![]),log(profileNameId,'['+botName+_0x585706(0x120)),log(profileNameId,'['+botName+_0x585706(0x145)+remainT[_0x585706(0x121)]),{'status':!![],'coin':coin,'nextRun':remainT[_0x585706(0x121)],'nextRunStamp':remainT[_0x585706(0x122)]};}catch(error){log(profileNameId,'['+botName+'][Lỗi]:\x20'+error,![]);}async function vaoGame(){const _0x390798=_0x585706;try{log(profileNameId,'['+botName+']Vào\x20game\x20nè');const subframe0=await genlogin[_0x390798(0x151)](profileNameId,currentPage,getAks['Iframe'],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x390798(0x131),![]);throw new Error('Không\x20tìm\x20thấy\x20iframe');}return log(profileNameId,'['+botName+_0x390798(0x156)),subframe0;}catch(error){return log(profileNameId,'['+botName+'][Lỗi]:\x20'+error,![]),null;}}async function raGame(){const _0x4f2a58=_0x585706;try{log(profileNameId,'['+botName+_0x4f2a58(0x12b)),currentPage=genlogin['switchFrame'](profileNameId,currentPage,_0x4f2a58(0x11e),0x7d0);if(!currentPage){log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20main\x20frame',![]);throw new Error('Không\x20tìm\x20thấy\x20main\x20frame');}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0x4f2a58(0x14b)+error,![]),null;}}async function click(xpath){const _0x2a2689=_0x585706;try{await delay(0x3e8);const clicked=await genlogin[_0x2a2689(0x13f)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x2a2689(0x115)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x2a2689(0x116)+xpath+_0x2a2689(0x12f)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x2a2689(0x11f)+error,null,![]),null;}}async function autoTap(tapElement){const _0x25d1e2=_0x585706;try{log(profileNameId,'['+botName+_0x25d1e2(0x13c)+tapElement+_0x25d1e2(0x135));let codeAutoTap=await getFile(botName+_0x25d1e2(0x148));return genlogin[_0x25d1e2(0x136)](profileNameId,subframe,codeAutoTap),log(profileNameId,'['+botName+']Auto\x20tap\x20'+tapElement+_0x25d1e2(0x12f)),!![];}catch(error){return log(profileNameId,'['+botName+_0x25d1e2(0x13d)+error,null,![]),null;}}async function getFile(nameFile){const _0x33c14d=_0x585706;try{const fs=require('fs'),path=require(_0x33c14d(0x12a)),filePath=path[_0x33c14d(0x141)](__dirname,_0x33c14d(0x136),nameFile),code=await fs[_0x33c14d(0x123)][_0x33c14d(0x125)](filePath,_0x33c14d(0x15c));return code;}catch(e){log(_0x33c14d(0x124)+e[_0x33c14d(0x14f)]);}}async function checkClosePopup(){const _0x4b0552=_0x585706;try{log(profileNameId,'['+botName+_0x4b0552(0x154));const kqClosePopup=await genlogin[_0x4b0552(0x140)](profileNameId,subframe,xpath[_0x4b0552(0x13a)],0x7d0);if(!kqClosePopup)log(profileNameId,'['+botName+_0x4b0552(0x158),null,![]);else{log(profileNameId,'['+botName+_0x4b0552(0x150));const clicked=await click(xpath[_0x4b0552(0x13a)]);!clicked?log(profileNameId,'['+botName+'][checkClosePopup]Không\x20click\x20được\x20vào\x20claimDailyReward',null,![]):log(profileNameId,'['+botName+'][checkClosePopup]Click\x20claimDailyReward\x20OK');}return await delay(0xbb8),!![];}catch(error){log(profileNameId,'['+botName+'][checkClosePopup]\x20error:\x20'+error[_0x4b0552(0x14f)],null,![]);}}async function checkClaim(){const _0x2dee32=_0x585706;try{log(profileNameId,'['+botName+_0x2dee32(0x15e));const kqClaim=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x2dee32(0x11d)],0x7d0);if(!kqClaim)log(profileNameId,'['+botName+'][checkClaim]Không\x20tìm\x20thấy\x20claim',null,![]);else{log(profileNameId,'['+botName+'][checkClaim]Tìm\x20thấy\x20claim');const clicked=await click(xpath[_0x2dee32(0x11d)]);!clicked?log(profileNameId,'['+botName+_0x2dee32(0x149),null,![]):log(profileNameId,'['+botName+_0x2dee32(0x160));}return await delay(0x3e8),!![];}catch(e){return log(profileNameId,'['+botName+_0x2dee32(0x137)+e[_0x2dee32(0x14f)],null,![]),null;}}async function lamQuest(){const _0x519c84=_0x585706;try{log(profileNameId,'['+botName+_0x519c84(0x133));const kq10=await genlogin[_0x519c84(0x140)](profileNameId,subframe,xpath['quest'],0x7d0);if(!kq10){log(profileNameId,'['+botName+_0x519c84(0x13e),![]);throw new Error('Không\x20tìm\x20thấy\x20quest');}log(profileNameId,'['+botName+_0x519c84(0x143));const clicked=await click(xpath['quest']);if(!clicked){log(profileNameId,'['+botName+_0x519c84(0x129),![]);throw new Error(_0x519c84(0x146));}return log(profileNameId,'['+botName+_0x519c84(0x126)),!![];}catch(error){return log(profileNameId,'['+botName+'][lamQuest]:\x20'+error,null,![]),null;}}async function getCoin(){const _0x54db09=_0x585706;try{let xpathCoin=xpath[_0x54db09(0x15d)];log(profileNameId,'['+botName+'][getCoin]:\x20Xử\x20lý\x20coin\x20nè');const numberString=await subframe[_0x54db09(0x128)](xpathCoin=>{const _0x5c3753=_0x54db09,result=document['evaluate'](xpathCoin,document,null,XPathResult[_0x5c3753(0x119)],null);let numberString='';for(let i=0x0;i<result[_0x5c3753(0x15a)];i++){numberString+=result['snapshotItem'](i)[_0x5c3753(0x118)];}return numberString;},xpathCoin);return numberString;}catch(error){return log(profileNameId,'['+botName+_0x54db09(0x12d)+error,null,![]),null;}}async function thoigianconlai(thoigianconlai){const _0xf4ae80=_0x585706;try{log(profileNameId,'['+botName+'][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè');let parts=thoigianconlai['split'](':'),hour0=parseInt(parts[0x0]),minute0=parseInt(parts[0x1]),second0=parseInt(parts[0x2]),hours=parseInt(hour0),minutes=parseInt(minute0),seconds=parseInt(second0),totalSeconds=parseInt(hours*0xe10+minutes*0x3c+seconds);const unixTime=Math[_0xf4ae80(0x117)](Date[_0xf4ae80(0x14c)]()/0x3e8),newUnixTime=unixTime+totalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate['toLocaleDateString'](),formattedTime=newDate[_0xf4ae80(0x155)](_0xf4ae80(0x144),{'hour12':![]});let NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+_0xf4ae80(0x132)+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x57d84a=_0x585706;if(Atomics[_0x57d84a(0x13b)](tasksData,taskIndex)===0x1)return!![];return![];}};