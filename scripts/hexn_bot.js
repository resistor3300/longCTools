function a0_0x3612(_0x1e6b3c,_0x124dff){const _0x45ac6a=a0_0x45ac();return a0_0x3612=function(_0x3612a0,_0x51a8f8){_0x3612a0=_0x3612a0-0x82;let _0x5181b8=_0x45ac6a[_0x3612a0];return _0x5181b8;},a0_0x3612(_0x1e6b3c,_0x124dff);}(function(_0x40f859,_0x1d9e5f){const _0x192c6c=a0_0x3612,_0x57d462=_0x40f859();while(!![]){try{const _0x1d2f7a=-parseInt(_0x192c6c(0xc7))/0x1*(parseInt(_0x192c6c(0xa7))/0x2)+-parseInt(_0x192c6c(0x88))/0x3*(parseInt(_0x192c6c(0x9d))/0x4)+-parseInt(_0x192c6c(0xc6))/0x5*(-parseInt(_0x192c6c(0x99))/0x6)+-parseInt(_0x192c6c(0xb1))/0x7*(parseInt(_0x192c6c(0xa8))/0x8)+parseInt(_0x192c6c(0x85))/0x9*(parseInt(_0x192c6c(0xd8))/0xa)+parseInt(_0x192c6c(0x9f))/0xb+-parseInt(_0x192c6c(0xb0))/0xc*(parseInt(_0x192c6c(0xc5))/0xd);if(_0x1d2f7a===_0x1d9e5f)break;else _0x57d462['push'](_0x57d462['shift']());}catch(_0x225476){_0x57d462['push'](_0x57d462['shift']());}}}(a0_0x45ac,0x4b322));import{log,json}from'../modules/logger.js';function a0_0x45ac(){const _0x23352e=[']không\x20Tìm\x20thấy\x20claim',']Click\x20farming\x20OK','en-GB','88740NbjPKx','coin','quest','17211tzLJhn',']không\x20Tìm\x20thấy\x20coinTag',']không\x20click\x20được\x20vào\x20kqClickReload','toLocaleDateString','farming','Iframe','javascript','][lamQuest]Click\x20quest\x20OK',']tìm\x20thấy\x20closePopup','][lamQuest]:\x20','split',']Click\x20kqClickReload2\x20OK',']Xử\x20lý\x20thoigianconlai\x20OK',']Vào\x20game\x20OK','trim','//span[text()=\x27Start\x20farming\x27]',']Không\x20click\x20được\x20vào\x20closePopup','76878QWiYIX',']Không\x20click\x20được\x20vào\x20claim','mainframe','click','72MygPET',']Không\x20tìm\x20thấy\x20iframe','1338865oaEMqa','][lamQuest]Không\x20tìm\x20thấy\x20quest','\x20OK','][Lỗi]:\x20','getTextByXPath','Không\x20tìm\x20thấy\x20main\x20frame','elementExistsByXPath','toLocaleTimeString','550xjGPoT','9776RnSmbX','[getFile]\x20error:\x20','][click]Click\x20','Không\x20click\x20được\x20vào\x20quest','message',']Tìm\x20thấy\x20remainTTag',']Tìm\x20thấy\x20startFarming',']không\x20click\x20được\x20vào\x20kqClickReload2','36ThQChW','70ZOeHSt','length',']Click\x20claim\x20OK','][lamQuest]Không\x20click\x20được\x20vào\x20quest','popupReloadBtn','load',']Không\x20tìm\x20thấy\x20main\x20frame',']Tìm\x20thấy\x20coin:\x20',']Ra\x20game\x20nè','claim','thoigianconlai','path',']không\x20Tìm\x20thấy\x20farming','promises',']Click\x20closePopup\x20OK','closePopup','][thoigianconlai]:\x20',']Click\x20startFarming\x20OK','floor',']không\x20tìm\x20thấy\x20remainTText','271596JztcfW','165zYrRyV','284PXGAdy','//div[contains(@class,\x20\x27flex--1xns6ui0\x20size_1--1xns6ui2\x20block\x27)]//span[contains(@class,\x20\x27_1a8kbji0\x20__className_420ce8\x27)]',']không\x20Tìm\x20thấy\x20startFarming',']không\x20xử\x20lý\x20được\x20thoigianconlai',']nextRunAt:\x20','//span[text()=\x27Ok\x27]',']Auto\x20tap\x20',']không\x20Tìm\x20thấy\x20kqThreDot',']Không\x20click\x20được\x20vào\x20startFarming','][lamQuest]Làm\x20Quest\x20nè',']Tìm\x20thấy\x20coinTag','startFarming','\x20nè','NextRunStamp','Không\x20tìm\x20thấy\x20iframe','][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè',']Click\x20kqClickReload\x20OK','20MELHfo','][lamQuest]Tìm\x20thấy\x20quest','pupupThreeDotBtn','utf8','][click][Lỗi]:\x20','switchFrame','//a[contains(@href,\x20\x27/farming\x27)]',']không\x20Tìm\x20thấy\x20remainTTag',']Tìm\x20thấy\x20remainTText:\x20','][click]Không\x20click\x20được\x20vào\x20','-autoTap','maxday','NextRun','now'];a0_0x45ac=function(){return _0x23352e;};return a0_0x45ac();}export default async function (context,signal){const _0x57de30=a0_0x3612,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot['name'];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0;const xpath={'closePopup':_0x57de30(0xcc),'farming':_0x57de30(0xde),'claim':'//span[text()=\x27Claim\x27]','startFarming':_0x57de30(0x97),'coin':_0x57de30(0xc8),'thoigianconlai':'//span[contains(@class,\x20\x27text--3pg4pp0\x20size_3--3pg4ppd\x20block\x27)]//div[contains(@class,\x20\x27flex--1xns6ui0\x20size_2--1xns6ui3\x27)]'};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x57de30(0x9e),![]);throw new Error(_0x57de30(0xd5));}log(profileNameId,'['+botName+_0x57de30(0x95)),await delay(0x3e8);const closePopup=await genlogin[_0x57de30(0xa5)](profileNameId,subframe,xpath['closePopup'],0x3e8);if(closePopup){log(profileNameId,'['+botName+_0x57de30(0x90)),await delay(0x3e8);const clicked=await click(xpath['closePopup']);!clicked&&log(profileNameId,'['+botName+_0x57de30(0x98),null,![]),log(profileNameId,'['+botName+_0x57de30(0xbf));}const farming=await genlogin[_0x57de30(0xa5)](profileNameId,subframe,xpath[_0x57de30(0x8c)],0x3e8);!farming?log(profileNameId,'['+botName+_0x57de30(0xbd),null,![]):log(profileNameId,'['+botName+']Tìm\x20thấy\x20farming');const clickedFarming=await click(xpath[_0x57de30(0x8c)]);!clickedFarming&&log(profileNameId,'['+botName+']Không\x20click\x20được\x20vào\x20farming',null,![]);log(profileNameId,'['+botName+_0x57de30(0x83));const kqThreDot=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x57de30(0xda)],0x3e8);!kqThreDot&&log(profileNameId,'['+botName+_0x57de30(0xce),null,![]);const kqClickReload=await clickM(getAks[_0x57de30(0xda)]);!kqClickReload&&log(profileNameId,'['+botName+_0x57de30(0x8a),null,![]);log(profileNameId,'['+botName+_0x57de30(0xd7));const kqClickReload2=await clickM(getAks[_0x57de30(0xb5)]);!kqClickReload2&&log(profileNameId,'['+botName+_0x57de30(0xaf),null,![]);log(profileNameId,'['+botName+_0x57de30(0x93)),await delay(0x7d0);const closePopup2=await genlogin[_0x57de30(0xa5)](profileNameId,subframe,xpath[_0x57de30(0xc0)],0x3e8);if(closePopup2){log(profileNameId,'['+botName+_0x57de30(0x90)),await delay(0x3e8);const clicked=await click(xpath['closePopup']);!clicked&&log(profileNameId,'['+botName+_0x57de30(0x98),null,![]),log(profileNameId,'['+botName+_0x57de30(0xbf));}const claim=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x57de30(0xba)],0x3e8);!claim?log(profileNameId,'['+botName+_0x57de30(0x82),null,![]):log(profileNameId,'['+botName+']Tìm\x20thấy\x20claim');if(claim){const clicked=await click(xpath['claim']);!clicked?log(profileNameId,'['+botName+_0x57de30(0x9a),null,![]):log(profileNameId,'['+botName+_0x57de30(0xb3)),await delay(0x1388);}const startFarming=await genlogin[_0x57de30(0xa5)](profileNameId,subframe,xpath['startFarming'],0x3e8);!startFarming?log(profileNameId,'['+botName+_0x57de30(0xc9),null,![]):log(profileNameId,'['+botName+_0x57de30(0xae));if(startFarming){const clicked1=await click(xpath[_0x57de30(0xd2)]);!clicked1&&log(profileNameId,'['+botName+_0x57de30(0xcf),null,![]),log(profileNameId,'['+botName+_0x57de30(0xc2));}await delay(0x7d0);const coinTag=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x57de30(0x86)],0x3e8);!coinTag&&log(profileNameId,'['+botName+_0x57de30(0x89),null,![]);log(profileNameId,'['+botName+_0x57de30(0xd1));const coin=await genlogin[_0x57de30(0xa3)](profileNameId,subframe,xpath[_0x57de30(0x86)],0x7d0);!coin&&log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20coin',null,![]);log(profileNameId,'['+botName+_0x57de30(0xb8)+coin);const remainTTag=await genlogin[_0x57de30(0xa5)](profileNameId,subframe,xpath[_0x57de30(0xbb)],0x7d0);!remainTTag&&log(profileNameId,'['+botName+_0x57de30(0xdf),null,![]);log(profileNameId,'['+botName+_0x57de30(0xad));const remainTText=await genlogin['getTextByXPath'](profileNameId,subframe,xpath['thoigianconlai'],0x7d0);!remainTText&&log(profileNameId,'['+botName+_0x57de30(0xc4),null,![]);log(profileNameId,'['+botName+_0x57de30(0xe0)+remainTText);const remainT=await thoigianconlai(remainTText);return!remainT&&log(profileNameId,'['+botName+_0x57de30(0xca),null,![]),log(profileNameId,'['+botName+_0x57de30(0x94)),log(profileNameId,'['+botName+_0x57de30(0xcb)+remainT[_0x57de30(0xe4)]),{'status':!![],'coin':coin,'nextRun':remainT[_0x57de30(0xe4)],'nextRunStamp':remainT[_0x57de30(0xd4)]};}catch(error){log(profileNameId,'['+botName+'][Lỗi]:\x20'+error,null,![]);}async function vaoGame(){const _0x265556=_0x57de30;try{log(profileNameId,'['+botName+']Vào\x20game\x20nè');const subframe0=await genlogin[_0x265556(0xdd)](profileNameId,currentPage,getAks[_0x265556(0x8d)],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x265556(0x9e),![]);throw new Error(_0x265556(0xd5));}return log(profileNameId,'['+botName+']Đã\x20tìm\x20thấy\x20iframe'),subframe0;}catch(error){return log(profileNameId,'['+botName+_0x265556(0xa2)+error,![]),null;}}async function raGame(){const _0x148668=_0x57de30;try{log(profileNameId,'['+botName+_0x148668(0xb9)),currentPage=genlogin['switchFrame'](profileNameId,currentPage,_0x148668(0x9b),0x7d0);if(!currentPage){log(profileNameId,'['+botName+_0x148668(0xb7),![]);throw new Error(_0x148668(0xa4));}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0x148668(0xa2)+error,![]),null;}}async function click(xpath){const _0x273709=_0x57de30;try{const clicked=await genlogin[_0x273709(0x9c)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x273709(0xe1)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x273709(0xaa)+xpath+_0x273709(0xa1)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x273709(0xdc)+error,null,![]),null;}}async function clickM(xpath){const _0x1037c5=_0x57de30;try{await delay(0x3e8);const clicked=await genlogin[_0x1037c5(0x9c)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x1037c5(0xe1)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x1037c5(0xaa)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x1037c5(0xdc)+error,null,![]),null;}}async function xuLyFullHp(fullHp){const _0x14e468=_0x57de30;try{let fullhp0=fullHp[_0x14e468(0x96)]()['replace'](/,/g,''),parts=fullhp0[_0x14e468(0x92)]('\x20'),tapCountPart=parts['length']>=0x3?parseInt(parts[parts[_0x14e468(0xb2)]-0x3]):null,dayleft=parts[_0x14e468(0xb2)]>=0x4?parseInt(parts[0x3]):null,daylimit=parts[_0x14e468(0xb2)]>=0x6?parseInt(parts[0x5]):null,tapElement=tapCountPart;return dayleft!==null&&dayleft<=0x0&&(tapElement=_0x14e468(0xe3)),{'tapElement':tapElement,'dayleft':dayleft,'daylimit':daylimit};}catch(error){return log(profileNameId,'['+botName+'][xuLyFullHp]:\x20'+error,null,![]),null;}}async function autoTap(tapElement){const _0x12bd7d=_0x57de30;try{log(profileNameId,'['+botName+']Auto\x20tap\x20'+tapElement+_0x12bd7d(0xd3));let codeAutoTap=await getFile(botName+_0x12bd7d(0xe2));return genlogin[_0x12bd7d(0x8e)](profileNameId,subframe,codeAutoTap),log(profileNameId,'['+botName+_0x12bd7d(0xcd)+tapElement+_0x12bd7d(0xa1)),!![];}catch(error){return log(profileNameId,'['+botName+'][autoTap]:\x20'+error,null,![]),null;}}async function getFile(nameFile){const _0x63e995=_0x57de30;try{const fs=require('fs'),path=require(_0x63e995(0xbc)),filePath=path['join'](__dirname,_0x63e995(0x8e),nameFile),code=await fs[_0x63e995(0xbe)]['readFile'](filePath,_0x63e995(0xdb));return code;}catch(e){log(_0x63e995(0xa9)+e[_0x63e995(0xac)]);}}async function lamQuest(){const _0x3ef304=_0x57de30;try{log(profileNameId,'['+botName+_0x3ef304(0xd0));const kq10=await genlogin[_0x3ef304(0xa5)](profileNameId,subframe,xpath[_0x3ef304(0x87)],0x7d0);if(!kq10){log(profileNameId,'['+botName+_0x3ef304(0xa0),![]);throw new Error('Không\x20tìm\x20thấy\x20quest');}log(profileNameId,'['+botName+_0x3ef304(0xd9));const clicked=await click(xpath[_0x3ef304(0x87)]);if(!clicked){log(profileNameId,'['+botName+_0x3ef304(0xb4),![]);throw new Error(_0x3ef304(0xab));}return log(profileNameId,'['+botName+_0x3ef304(0x8f)),!![];}catch(error){return log(profileNameId,'['+botName+_0x3ef304(0x91)+error,null,![]),null;}}async function thoigianconlai(thoigianconlai){const _0x1f468d=_0x57de30;try{log(profileNameId,'['+botName+_0x1f468d(0xd6));let hour0=thoigianconlai[_0x1f468d(0x92)]('h')[0x0],minute0=thoigianconlai[_0x1f468d(0x92)]('h')[0x1][_0x1f468d(0x92)]('m')[0x0],hour=parseInt(hour0),minutes=parseInt(minute0),seconds=parseInt(0x0),newtime=hour+':'+minutes+':'+seconds,totalSeconds=parseInt(hour*0xe10+minutes*0x3c+seconds);const unixTime=Math[_0x1f468d(0xc3)](Date[_0x1f468d(0xe5)]()/0x3e8),newUnixTime=unixTime+totalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate[_0x1f468d(0x8b)](),formattedTime=newDate[_0x1f468d(0xa6)](_0x1f468d(0x84),{'hour12':![]});let NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+_0x1f468d(0xc1)+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x17d5fc=_0x57de30;if(Atomics[_0x17d5fc(0xb6)](tasksData,taskIndex)===0x1)return!![];return![];}};