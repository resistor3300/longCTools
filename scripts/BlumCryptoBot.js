function a0_0xf433(){const _0x1a3a32=['][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần\x20quay\x20lại:\x20','2mytEgs','Play','][lamTask]Click\x20blumBits\x20OK','//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27New\x27]','][lamTask]Tìm\x20thấy\x20academy','][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20iframe','][lamTask]:\x20',']Không\x20tìm\x20thấy\x20timeleft','//button[contains(@class,\x27is-status-ready-for-claim\x27)]//div[text()=\x27Claim\x27]','][checkLoopQuayLaiTasks]\x20Đóng\x20tab\x20mới\x20thành\x20công','][lamTask]Tìm\x20thấy\x20frens','][checkLoopQuayLaiTasks]\x20Kiểm\x20tra\x20lần\x20quay\x20lại:\x20','][thoigianconlai]:\x20','][backToHome]Tìm\x20thayas\x20vaoHome','CloseGame',']Tìm\x20thấy\x20coin:\x20','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20backXpath','continue','][backToHome]Không\x20tìm\x20thayas\x20vaoHome',']Không\x20tìm\x20thấy\x20iframe','restore','sorry','][checkLoopQuayLaiTasks]\x20Không\x20phát\x20hiện\x20tab\x20mới',']\x20đã\x20get\x20timeleft1\x20ok\x20trước\x20đó\x20','][lamTask]Tìm\x20thấy\x20socials','getCurrentPage','Iframe','][checkStartClaim]Không\x20click\x20được\x20vào\x20Verify\x20Submit','][checkQuayLaiXpath]\x20Lỗi\x20khi\x20đóng\x20tab\x20mới','LaunchCancel',']Done\x20lamTask','][lamTask]Click\x20new\x20OK','][lamTask]Click\x20earn\x20OK','][checkClaim]\x20checkClaim\x20nè','replace','getCode','Không\x20click\x20được\x20vào\x20earn','][checkQuayLaiXpath]\x20Đóng\x20tab\x20mới\x20thành\x20công',']Ra\x20game\x20nè','][AdsGramDetec]:\x20','][checkQuayLaiXpath]\x20Vào\x20game\x20thành\x20công','][finalStep]\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20cuối\x20cùng:\x20','claim','NextRun',']Đã\x20tìm\x20thấy\x20iframe','][checkLoopQuayLaiTasks]\x20Lỗi\x20khi\x20đóng\x20tab\x20mới','][checkLoopQuayLaiTasks]\x20Chỉ\x20có\x20','dialogClose','][checkStartClaim]Tìm\x20thấy\x20task\x20name:\x20','][checkLoopQuayLaiTasks]\x20Lỗi\x20trong\x20quá\x20trình\x20kiểm\x20tra:\x20','//div[contains(@class,\x27pass\x27)]','][choNhatHoaXong]\x20Đã\x20click\x20vào\x20play','Frens','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20subcribeBtn','][checkClosePopup]\x20error:\x20','closeQcBtn','][choNhatHoaXong]\x20Đã\x20chơi\x20xong\x20',']Không\x20tìm\x20thấy\x20coin','][checkQuayLaiXpath]\x20Lỗi\x20trong\x20quá\x20trình\x20kiểm\x20tra:\x20','//div[contains(@class,\x27default\x27)]//button//div[text()=\x27Play\x27]','split','][backToHome]\x20backToHome\x20nè','][getFile]\x20error:\x20','][checkLoopQuayLaiTasks]\x20Phát\x20hiện\x20tab\x20mới','//div[contains(@class,\x27shown\x20open\x27)]//i[contains(@class,\x27icon-close\x27)]','earn','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20currentPage',']Lôi\x20claim','][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần:\x20','][choNhatHoaXong]Không\x20click\x20được\x20vào\x20playAgain','88wMnzcq',']Auto\x20tap\x20','//div[contains(@class,\x27kit-fixed-wrapper\x20no-layout-tabs\x27)]//div[text()=\x27Verify\x27]','taskVerifySubmit','][checkQuayLaiXpath]\x20Phát\x20hiện\x20tab\x20mới','][checkStartClaim]Không\x20quay\x20lại\x20được\x20tasks','][lamTask]Tìm\x20thấy\x20farming','Không\x20tìm\x20thấy\x20iframe','][checkClaim]Không\x20tìm\x20thấy\x20restore','][lamTask]Click\x20home\x20OK',']Tìm\x20thấy\x20ticketTag','][checkClaim]Ticket:\x20','taskVerifyFail','\x20tab\x20đang\x20mở','][checkLoopQuayLaiTasks]\x20Không\x20tìm\x20thấy\x20iframe','javascript','][checkClaim]Không\x20tìm\x20thấy\x20claim','][checkStartClaim]Tìm\x20thấy\x20Start',':00','][checkQuayLaiXpath]Không\x20click\x20được\x20vào\x20closeQcBtn','botSet','//span[contains(.,\x20\x27Play\x27)\x20and\x20contains(.,\x20\x27left\x27)]',']\x20Tìm\x20thấy\x20timeleft1:\x20','promises','value','[getFile]\x20error:\x20','][checkStartClaim]Click\x20Claim\x20OK','][lamTask]Tìm\x20thấy\x20home','//input[contains(@placeholder,\x20\x27Keyword\x27)]','(//div[contains(@class,\x27pages-wallet-asset\x27)]//div[contains(@class,\x27balance\x27)])[2]','][checkLoopQuayLaiTasks]\x20Tìm\x20thấy\x20currentPage','closeTab','\x20OK','][lamTask]Làm\x20Task\x20nè','length','][checkClaim]\x20error:\x20','//button[contains(text(),\x27Reload\x27)]','scroll','][checkClosePopup]\x20Không\x20tìm\x20thấy\x20closePopup','][choNhatHoaXong]\x20Đang\x20chờ\x20tap\x20xong\x20','utf8','home','4BrGxnc','ticket:\x20','][thoigianconlai]','playbtn',']nextRunAt:\x20','][checkClaim]Click\x20restore\x20OK','Socials','path','][checkLoopQuayLaiTasks]\x20Đã\x20đạt\x20số\x20lần\x20kiểm\x20tra\x20tối\x20đa\x20(','readFile','][lamTask]Click\x20frens\x20OK','][autoTap]:\x20','][checkQuayLaiTasks]Không\x20quay\x20lại\x20được\x20tasks','][checkQuayLaiXpath]\x20quay\x20lại\x20tasks\x20thành\x20công','//button[contains(@class,\x27is-state-claim\x27)]//div[contains(text(),\x27Farm\x27)]','][click][Lỗi]:\x20',']Không\x20tìm\x20thấy\x20thoigian\x20con\x20lai','][checkLoopQuayLaiTasks]\x20Vào\x20game\x20thành\x20công','32793398ZFyXgU','updateData','][checkQuayLaiTasks]\x20Quay\x20lại\x20tasks\x20OK',']Vào\x20game\x20OK','match','//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27Farming\x27]','Không\x20tìm\x20thấy\x20main\x20frame','9snCSiq','Continue','3584973TEsKIy','\x20lần','][checkQuayLaiXpath]\x20Chỉ\x20có\x20','][checkStartClaim]\x20checkStartClaim\x20nè','(//div[text()=\x27Continue\x27])[1]','(//div[text()=\x27Farming\x27])[1]','//div[contains(@class,\x27kit-tooltip\x27)]//div[contains(@class,\x27content\x20is-left\x27)]//div','join','name','//div[contains(text(),\x20\x27Sorry,\x20something\x27)]','-autoTap','][checkStartClaim]Click\x20Verify\x20Submit\x20OK','][backToHome]Click\x20vaoHome\x20OK','48930CogRSs','][Lỗi]:\x20','][checkClaim]Không\x20click\x20được\x20vào\x20restore','trim','(//span[text()=\x27Frens\x27])[1]','][checkQuayLaiXpath]\x20Click\x20closeQcBtn\x20OK','reload','//div[text()=\x27Verify\x27]','Start','][lamTask]Tìm\x20thấy\x20new','][getCoin]:\x20','][checkStartClaim]Không\x20tìm\x20thấy\x20task\x20name','][lamTask]Không\x20click\x20được\x20vào\x20earn','2970234SmGJxA','soLanNhatHoa',']Xử\x20lý\x20thoigianconlai\x20OK','][checkClaim]Không\x20click\x20được\x20vào\x20startFarming','][getCoin]:\x20Tìm\x20thấy\x20xpathCoin','(//div[contains(@data-tc-modal,\x27true\x27)]//button[contains(@data-tc-icon-button,\x27true\x27)])[1]','][checkStartClaim]Không\x20click\x20được\x20vào\x20Claim','soHoaBoQua','][AdsGramDetec]:\x20đang\x20chờ\x20Ads\x20','closeAds','][choNhatHoaXong]\x20Đã\x20click\x20vào\x20continue','Academy','][checkStartClaim]Tìm\x20thấy\x20Fail','][lamTask]Tìm\x20thấy\x20blumBits','][checkClosePopup]\x20Không\x20click\x20được\x20vào\x20closePopup','reset','New','popupBackBtn','//div[contains(@class,\x27close_btn\x27)]','][checkStartClaim]Không\x20click\x20được\x20vào\x20Verify','][lamTask]Tìm\x20thấy\x20earn','443247oaHCHJ',']Lôi','click','00:10:00','][checkStartClaim]Không\x20tìm\x20thấy\x20code','//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27Blum\x20Bits\x27]','][checkStartClaim]Click\x20Start\x20OK','map','12FffXgu','subcribeBtn','load','floor','//p[contains(text(),\x27Incorrect\x27)]','][xuLyFullHp]:\x20','][lamTask]Click\x20academy\x20OK','(//dialog//button[contains(@class,\x27close-btn\x27)])[1]',']Không\x20tìm\x20thấy\x20ticket','][checkClaim]Không\x20tìm\x20thấy\x20startFarming','][checkClaim]Tìm\x20thấy\x20claim','][checkStartClaim]Không\x20click\x20được\x20vào\x20input','][getCoin]:\x20Xử\x20lý\x20coin\x20nè','][checkStartClaim]Type\x20code\x20OK','6882610QzghwW','timeleft1','elementExistsByXPath',']Không\x20tìm\x20thấy\x20home','toLocaleDateString','][checkStartClaim]\x20error:\x20','][lamTask]Không\x20tìm\x20thấy\x20earn','timeleft','][backToHome]\x20error:\x20','][thoigianconlai]:\x20Xử\x20lý\x20danh\x20sách\x20thời\x20gian','ticket','(//span[text()=\x27Home\x27])[1]','][getCoin]:\x20coinText:\x20','//div[contains(@style,\x27-adsgram-\x27)]','2910625RPZfwd','][click]Click\x20','mainframe','][choNhatHoaXong]Không\x20click\x20được\x20vào\x20continue','blumBits','][checkStartClaim]Không\x20click\x20được\x20vào\x20Start','en-GB','][checkStartClaim]Không\x20tìm\x20thấy\x20Fail','][checkStartClaim]Click\x20Verify\x20OK',']Lôi\x20choNhatHoaXong','switchFrame','Farming','(//span[text()=\x27Earn\x27])[1]','][checkLoopQuayLaiTasks]\x20Kiểm\x20tra\x20lần:\x20','][lamTask]Click\x20socials\x20OK','taskVerifyInput','][checkStartClaim]Không\x20type\x20được\x20code','maxday','][AdsGramDetec]:\x20Done\x20Ads','][checkClaim]Tìm\x20thấy\x20restore','getTextByXPath','][checkStartClaim]Tìm\x20thấy\x20code:\x20','NextRunStamp','Không\x20tìm\x20thấy\x20earn','coin',']Không\x20tìm\x20thấy\x20timeleft1','message','soBombDuocClick',']không\x20xử\x20lý\x20được\x20thoigianconlai','][click]Không\x20click\x20được\x20vào\x20','typeText','Claim'];a0_0xf433=function(){return _0x1a3a32;};return a0_0xf433();}(function(_0x3cf1d8,_0x383a60){const _0x31fd08=a0_0x5648,_0x3924b0=_0x3cf1d8();while(!![]){try{const _0x575887=-parseInt(_0x31fd08(0xcb))/0x1+parseInt(_0x31fd08(0x132))/0x2*(-parseInt(_0x31fd08(0xbe))/0x3)+-parseInt(_0x31fd08(0xa3))/0x4*(parseInt(_0x31fd08(0x111))/0x5)+-parseInt(_0x31fd08(0xd8))/0x6+parseInt(_0x31fd08(0xed))/0x7*(-parseInt(_0x31fd08(0x79))/0x8)+parseInt(_0x31fd08(0xbc))/0x9*(parseInt(_0x31fd08(0x103))/0xa)+parseInt(_0x31fd08(0xb5))/0xb*(parseInt(_0x31fd08(0xf5))/0xc);if(_0x575887===_0x383a60)break;else _0x3924b0['push'](_0x3924b0['shift']());}catch(_0x54429d){_0x3924b0['push'](_0x3924b0['shift']());}}}(a0_0xf433,0x9f257));import{log,json}from'../modules/logger.js';export default async function (context,signal){const _0x34f3e8=a0_0x5648,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot[_0x34f3e8(0xc6)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime,ticket,soLanNhatHoa=0x3,thoiGanchoNhatHoa=0x78,soHoaBoQua=0x5,soBombDuocClick=0x0;parseInt(bot[_0x34f3e8(0x8d)]['soLanNhatHoa']['value'])>0x0&&(soLanNhatHoa=parseInt(bot[_0x34f3e8(0x8d)][_0x34f3e8(0xd9)][_0x34f3e8(0x91)]),thoiGanchoNhatHoa=soLanNhatHoa*0x3c);parseInt(bot['botSet'][_0x34f3e8(0xdf)]['value'])>=0x0&&(soHoaBoQua=parseInt(bot[_0x34f3e8(0x8d)][_0x34f3e8(0xdf)][_0x34f3e8(0x91)]));parseInt(bot['botSet']['soBombDuocClick'][_0x34f3e8(0x91)])>=0x0&&(soBombDuocClick=parseInt(bot['botSet'][_0x34f3e8(0x12c)][_0x34f3e8(0x91)]));const xpath={'continue':_0x34f3e8(0xc2),'claim':'(//div[normalize-space(text())=\x27Claim\x27\x20and\x20not(contains(@class,\x27hidden\x27))])[1]','startFarming':'(//span[text()=\x27Start\x20farming\x27])[1]','farming':_0x34f3e8(0xc3),'playbtn':_0x34f3e8(0x6e),'ticket':_0x34f3e8(0x164),'coin':_0x34f3e8(0x96),'home':_0x34f3e8(0x10e),'earn':_0x34f3e8(0x11d),'frens':_0x34f3e8(0xcf),'timeleft':'//div[contains(@class,\x27pages-index-daily-reward\x20reward\x27)]//div[contains(@class,\x20\x27subtitle\x27)]/text()','timeleft1':_0x34f3e8(0xc4),'new':'//label[contains(@class,\x27show-dot\x27)]//span[text()=\x27New\x27]','sorry':_0x34f3e8(0xc7),'reset':'//button[contains(@class,\x20\x27reset\x27)]','showTimeleft1':'//div[contains(@class,\x27kit-tooltip\x27)]//button'};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x34f3e8(0x145),null,![]);throw new Error('Không\x20tìm\x20thấy\x20iframe');}log(profileNameId,'['+botName+_0x34f3e8(0xb8)),await delay(0x3e8);const closePopup=await checkClosePopup();await delay(0x3e8),await backToHome();const claim=await checkClaim();!claim&&log(profileNameId,'['+botName+_0x34f3e8(0x76),null,![]);log(profileNameId,'['+botName+']Done\x20claim'),await delay(0x7d0);if(bot[_0x34f3e8(0x8d)]['autoLamTask']['value']==='y'){const kqlamTask=await lamTask();!kqlamTask&&log(profileNameId,'['+botName+']Lôi\x20lamTask',null,![]),log(profileNameId,'['+botName+_0x34f3e8(0x150));}if(bot[_0x34f3e8(0x8d)]['autoNhatHoa'][_0x34f3e8(0x91)]==='y'){const kqHome=await genlogin[_0x34f3e8(0x105)](profileNameId,subframe,xpath['home'],0x3e8);!kqHome&&(log(profileNameId,'['+botName+_0x34f3e8(0x106),null,![]),await checkQuayLai(xpath[_0x34f3e8(0xa2)]));await autoNhatHoa();const kqAutoNhatHoa=await choNhatHoaXong(soLanNhatHoa);!kqAutoNhatHoa&&log(profileNameId,'['+botName+_0x34f3e8(0x11a),null,![]),log(profileNameId,'['+botName+']Done\x20auto\x20nhặt\x20hoa');}const kqloi=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x34f3e8(0x147)],0x3e8);kqloi&&(log(profileNameId,'['+botName+_0x34f3e8(0xee),null,![]),await click(xpath[_0x34f3e8(0xe7)]),await delay(0x1388));const ticketTag=await genlogin[_0x34f3e8(0x105)](profileNameId,subframe,xpath['ticket'],0x3e8);return ticketTag&&(log(profileNameId,'['+botName+_0x34f3e8(0x83)),ticket=await genlogin[_0x34f3e8(0x125)](profileNameId,subframe,xpath['ticket'],0x7d0),!ticket&&log(profileNameId,'['+botName+_0x34f3e8(0xfd),null,![]),await http[_0x34f3e8(0xb6)](profileNameId,profileNameId,dataId,_0x34f3e8(0xa4)+ticket)),await finalStep();}catch(error){log(profileNameId,'['+botName+_0x34f3e8(0xcc)+error,null,![]);}async function vaoGame(){const _0x29499c=_0x34f3e8;try{log(profileNameId,'['+botName+']Vào\x20game\x20nè');const subframe0=await genlogin[_0x29499c(0x11b)](profileNameId,currentPage,getAks[_0x29499c(0x14c)],0x2710);if(!subframe0){log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20iframe',null,![]);throw new Error(_0x29499c(0x80));}return log(profileNameId,'['+botName+_0x29499c(0x15e)),subframe0;}catch(error){return log(profileNameId,'['+botName+_0x29499c(0xcc)+error,null,![]),null;}}async function raGame(){const _0x4283d7=_0x34f3e8;try{log(profileNameId,'['+botName+_0x4283d7(0x158)),currentPage=genlogin[_0x4283d7(0x11b)](profileNameId,currentPage,_0x4283d7(0x113),0x7d0);if(!currentPage){log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20main\x20frame',null,![]);throw new Error(_0x4283d7(0xbb));}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0x4283d7(0xcc)+error,null,![]),null;}}async function click(xpath){const _0x2d3c86=_0x34f3e8;try{await delay(0x3e8);const clicked=await genlogin[_0x2d3c86(0xef)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x7d0);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x2d3c86(0x12e)+xpath,null,![]),!![];return log(profileNameId,'['+botName+'][click]Click\x20'+xpath+_0x2d3c86(0x99)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x2d3c86(0xb2)+error,null,![]),null;}}async function clickM(xpath){const _0x690db9=_0x34f3e8;try{await delay(0x3e8);const clicked=await genlogin[_0x690db9(0xef)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+'][click]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x690db9(0x112)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+'][click][Lỗi]:\x20'+error,null,![]),null;}}async function xuLyFullHp(fullHp){const _0x1b2a0a=_0x34f3e8;try{let fullhp0=fullHp[_0x1b2a0a(0xce)]()[_0x1b2a0a(0x154)](/,/g,''),parts=fullhp0['split']('\x20'),tapCountPart=parts[_0x1b2a0a(0x9b)]>=0x3?parseInt(parts[parts[_0x1b2a0a(0x9b)]-0x3]):null,dayleft=parts[_0x1b2a0a(0x9b)]>=0x4?parseInt(parts[0x3]):null,daylimit=parts[_0x1b2a0a(0x9b)]>=0x6?parseInt(parts[0x5]):null,tapElement=tapCountPart;return dayleft!==null&&dayleft<=0x0&&(tapElement=_0x1b2a0a(0x122)),{'tapElement':tapElement,'dayleft':dayleft,'daylimit':daylimit};}catch(error){return log(profileNameId,'['+botName+_0x1b2a0a(0xfa)+error,null,![]),null;}}async function autoTap(tapElement){const _0xd1c8c6=_0x34f3e8;try{log(profileNameId,'['+botName+_0xd1c8c6(0x7a)+tapElement+'\x20nè');let codeAutoTap=await getFile(botName+'-autoTap');return genlogin[_0xd1c8c6(0x88)](profileNameId,subframe,codeAutoTap),log(profileNameId,'['+botName+_0xd1c8c6(0x7a)+tapElement+_0xd1c8c6(0x99)),!![];}catch(error){return log(profileNameId,'['+botName+_0xd1c8c6(0xae)+error,null,![]),null;}}async function getFile(nameFile){const _0x50e96a=_0x34f3e8;try{const fs=require('fs'),path=require(_0x50e96a(0xaa)),filePath=path[_0x50e96a(0xc5)](__dirname,_0x50e96a(0x88),nameFile),code=await fs[_0x50e96a(0x90)][_0x50e96a(0xac)](filePath,_0x50e96a(0xa1));return code;}catch(e){log(_0x50e96a(0x92)+e[_0x50e96a(0x12b)]);}}async function checkClosePopup(){const _0x422af3=_0x34f3e8;try{log(profileNameId,'['+botName+'][checkClosePopup]\x20checkClosePopup\x20nè');const kqClosePopup=await genlogin[_0x422af3(0x105)](profileNameId,subframe,xpath[_0x422af3(0x143)],0x7d0);if(!kqClosePopup)return log(profileNameId,'['+botName+_0x422af3(0x9f),null,![]),null;else{log(profileNameId,'['+botName+'][checkClosePopup]\x20Tìm\x20thấy\x20closePopup');const clicked=await click(xpath[_0x422af3(0x143)]);if(!clicked)return log(profileNameId,'['+botName+_0x422af3(0xe6),null,![]),null;else log(profileNameId,'['+botName+'][checkClosePopup]\x20Click\x20closePopup\x20OK');}return await delay(0xbb8),!![];}catch(e){return log(profileNameId,'['+botName+_0x422af3(0x69)+e[_0x422af3(0x12b)],null,![]),null;}}async function checkClaim(){const _0x175dc2=_0x34f3e8,xpathClaim={'ticket':'//div[contains(@class,\x27default\x27)]//div[contains(@class,\x27balance\x27)]/text()[1]','restore':'//button[contains(@class,\x27is-state-claim\x27)]//div[contains(text(),\x27Restore\x27)]','claim':'//button[contains(@class,\x27is-state-claim\x27)]//div[contains(text(),\x27Claim\x27)\x20and\x20not(contains(@class,\x27hidden\x27))]','startFarming':_0x175dc2(0xb1)};try{log(profileNameId,'['+botName+_0x175dc2(0x153));const kqticket=await genlogin[_0x175dc2(0x105)](profileNameId,subframe,xpathClaim[_0x175dc2(0x10d)],0x3e8);kqticket&&(ticket=await genlogin[_0x175dc2(0x125)](profileNameId,subframe,xpathClaim[_0x175dc2(0x10d)],0x7d0),log(profileNameId,'['+botName+_0x175dc2(0x84)+ticket));let demLoop=0x0;const maxDemLoop=0x5;while(demLoop<maxDemLoop){demLoop++;const kqRestore=await genlogin[_0x175dc2(0x105)](profileNameId,subframe,xpathClaim[_0x175dc2(0x146)],0x7d0);if(!kqRestore)log(profileNameId,'['+botName+_0x175dc2(0x81),null,![]);else{log(profileNameId,'['+botName+_0x175dc2(0x124));const clicked=await click(xpathClaim['restore']);!clicked?log(profileNameId,'['+botName+_0x175dc2(0xcd),null,![]):log(profileNameId,'['+botName+_0x175dc2(0xa8));await delay(0x1388);continue;}const kqClaim=await genlogin[_0x175dc2(0x105)](profileNameId,subframe,xpathClaim[_0x175dc2(0x15c)],0x7d0);if(!kqClaim)log(profileNameId,'['+botName+_0x175dc2(0x89),null,![]);else{log(profileNameId,'['+botName+_0x175dc2(0xff));const clicked=await click(xpathClaim[_0x175dc2(0x15c)]);!clicked?log(profileNameId,'['+botName+'][checkClaim]Không\x20click\x20được\x20vào\x20claim',null,![]):log(profileNameId,'['+botName+'][checkClaim]Click\x20claim\x20OK');await delay(0x1388);continue;}const kqStartFarming=await genlogin[_0x175dc2(0x105)](profileNameId,subframe,xpathClaim['startFarming'],0x7d0);if(!kqStartFarming){log(profileNameId,'['+botName+_0x175dc2(0xfe),null,![]);break;}else{log(profileNameId,'['+botName+'][checkClaim]Tìm\x20thấy\x20startFarming');const clickedStartFarming=await click(xpathClaim['startFarming']);!clickedStartFarming?log(profileNameId,'['+botName+_0x175dc2(0xdb),null,![]):log(profileNameId,'['+botName+'][checkClaim]Click\x20startFarming\x20OK');await delay(0x1388);continue;}}return!![];}catch(e){log(profileNameId,'['+botName+_0x175dc2(0x9c)+e[_0x175dc2(0x12b)],null,![]);}}async function lamTask(){const _0x235741=_0x34f3e8;try{const earn={'New':_0x235741(0x135),'Socials':'//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27Socials\x27]','blumBits':_0x235741(0xf2),'Academy':'//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27Academy\x27]','Frens':'//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27Frens\x27]','Farming':_0x235741(0xba)};log(profileNameId,'['+botName+_0x235741(0x9a));const kq10=await genlogin[_0x235741(0x105)](profileNameId,subframe,xpath['earn'],0x7d0);if(!kq10){log(profileNameId,'['+botName+'][lamTask]Không\x20tìm\x20thấy\x20earn',null,![]);throw new Error(_0x235741(0x128));}log(profileNameId,'['+botName+_0x235741(0xec));const clicked=await click(xpath[_0x235741(0x74)]);if(!clicked){log(profileNameId,'['+botName+_0x235741(0xd7),null,![]);throw new Error(_0x235741(0x156));}log(profileNameId,'['+botName+_0x235741(0x152));const kqSocials=await genlogin[_0x235741(0x105)](profileNameId,subframe,earn[_0x235741(0xa9)],0x7d0);if(kqSocials){log(profileNameId,'['+botName+_0x235741(0x14a)),await genlogin[_0x235741(0x9e)](profileNameId,subframe,{'xpath':earn['Socials']},0xbb8);const clickedSocials=await click(earn[_0x235741(0xa9)]);clickedSocials&&(log(profileNameId,'['+botName+_0x235741(0x11f)),await delay(0x3e8),await checkStartClaim());}const kqnew=await genlogin['elementExistsByXPath'](profileNameId,subframe,earn['New'],0x7d0);if(kqnew){log(profileNameId,'['+botName+_0x235741(0xd4)),await genlogin['scroll'](profileNameId,subframe,{'xpath':earn[_0x235741(0xe8)]},0xbb8);const clickednew=await click(earn['New']);clickednew&&(log(profileNameId,'['+botName+_0x235741(0x151)),await delay(0x3e8),await checkStartClaim());}const kqAcademy=await genlogin[_0x235741(0x105)](profileNameId,subframe,earn[_0x235741(0xe3)],0x7d0);if(kqAcademy){log(profileNameId,'['+botName+_0x235741(0x136)),await genlogin[_0x235741(0x9e)](profileNameId,subframe,{'xpath':earn[_0x235741(0xe3)]},0xbb8);const clickedAcademy=await click(earn[_0x235741(0xe3)]);clickedAcademy&&(log(profileNameId,'['+botName+_0x235741(0xfb)),await delay(0x3e8),await checkStartClaim());}const kqBlumBits=await genlogin[_0x235741(0x105)](profileNameId,subframe,earn['blumBits'],0x7d0);if(kqBlumBits){log(profileNameId,'['+botName+_0x235741(0xe5)),await genlogin[_0x235741(0x9e)](profileNameId,subframe,{'xpath':earn['blumBits']},0xbb8);const clickedBlumBits=await click(earn[_0x235741(0x115)]);clickedBlumBits&&(log(profileNameId,'['+botName+_0x235741(0x134)),await delay(0x3e8),await checkStartClaim());}const kqFrens=await genlogin[_0x235741(0x105)](profileNameId,subframe,earn[_0x235741(0x67)],0x7d0);if(kqFrens){log(profileNameId,'['+botName+_0x235741(0x13c)),await genlogin[_0x235741(0x9e)](profileNameId,subframe,{'xpath':earn[_0x235741(0x67)]},0xbb8);const clickedFrens=await click(earn[_0x235741(0x67)]);clickedFrens&&(log(profileNameId,'['+botName+_0x235741(0xad)),await delay(0x3e8),await checkStartClaim());}const kqFarming=await genlogin['elementExistsByXPath'](profileNameId,subframe,earn[_0x235741(0x11c)],0x7d0);if(kqFarming){log(profileNameId,'['+botName+_0x235741(0x7f)),await genlogin[_0x235741(0x9e)](profileNameId,subframe,{'xpath':earn['Farming']},0xbb8);const clickedFarming=await click(earn['Farming']);clickedFarming&&(log(profileNameId,'['+botName+'][lamTask]Click\x20farming\x20OK'),await delay(0x3e8),await checkStartClaim());}const kqHome=await genlogin[_0x235741(0x105)](profileNameId,subframe,xpath[_0x235741(0xa2)],0x7d0);if(kqHome){log(profileNameId,'['+botName+'][lamTask]Tìm\x20thấy\x20home');const clickedHome=await click(xpath[_0x235741(0xa2)]);clickedHome&&(log(profileNameId,'['+botName+_0x235741(0x82)),await delay(0x3e8));}return!![];}catch(error){return log(profileNameId,'['+botName+_0x235741(0x138)+error,null,![]),null;}}async function checkStartClaim(){const _0x17fc75=_0x34f3e8;try{const loopEarn={'Claim':_0x17fc75(0x13a),'Verify':_0x17fc75(0xd2),'Start':'//div[text()=\x27Start\x27]','taskVerifyTitle':'//div[@class=\x27pages-tasks-verify\x27]//div[@class=\x27title\x27]','taskVerifyInput':_0x17fc75(0x95),'taskVerifySubmit':_0x17fc75(0x7b),'taskVerifyFail':_0x17fc75(0xf9),'walletClose':_0x17fc75(0xdd),'dialogClose':_0x17fc75(0xfc)};log(profileNameId,'['+botName+_0x17fc75(0xc1));let attempClaim=0x0,maxAttempClaim=0x3;while(attempClaim<maxAttempClaim){attempClaim++,await delay(0x3e8);const kq10=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath['earn'],0x7d0);if(!kq10){log(profileNameId,'['+botName+_0x17fc75(0x109),null,![]);continue;}log(profileNameId,'['+botName+_0x17fc75(0xec));const clicked=await click(xpath['earn']);if(!clicked){log(profileNameId,'['+botName+'][lamTask]Không\x20click\x20được\x20vào\x20earn',null,![]);continue;}log(profileNameId,'['+botName+_0x17fc75(0x152));let xpathClaim='('+loopEarn[_0x17fc75(0x130)]+')['+attempClaim+']';const kqClaim=await genlogin[_0x17fc75(0x105)](profileNameId,subframe,xpathClaim,0x3e8);if(kqClaim){log(profileNameId,'['+botName+'][checkStartClaim]Tìm\x20thấy\x20Claim'),await genlogin[_0x17fc75(0x9e)](profileNameId,subframe,{'xpath':xpathClaim},0xbb8),await delay(0x3e8);const clickedClaim=await click(xpathClaim);if(clickedClaim)log(profileNameId,'['+botName+_0x17fc75(0x93)),await delay(0x3e8);else{log(profileNameId,'['+botName+_0x17fc75(0xde),null,![]);continue;}}else{log(profileNameId,'['+botName+'][checkStartClaim]Không\x20tìm\x20thấy\x20Claim',null,![]);break;}}log(profileNameId,'['+botName+_0x17fc75(0xc1));let attempStart=0x0,maxAttempStart=0x3;while(attempStart<maxAttempStart){attempStart++,await delay(0x3e8);let xpathStart='('+loopEarn[_0x17fc75(0xd3)]+')['+attempStart+']';const kqStart=await genlogin[_0x17fc75(0x105)](profileNameId,subframe,xpathStart,0x3e8);if(kqStart){log(profileNameId,'['+botName+_0x17fc75(0x8a)),await genlogin[_0x17fc75(0x9e)](profileNameId,subframe,{'xpath':xpathStart},0x7d0),await delay(0x3e8);const clickedStart=await click(xpathStart);if(clickedStart){log(profileNameId,'['+botName+_0x17fc75(0xf3)),await delay(0x3e8);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x17fc75(0x7e),null,![]);break;}continue;}else{log(profileNameId,'['+botName+_0x17fc75(0x116),null,![]);continue;}}else{log(profileNameId,'['+botName+'][checkStartClaim]Không\x20tìm\x20thấy\x20Start',null,![]);break;}}log(profileNameId,'['+botName+_0x17fc75(0xc1));let attempVerify=0x0,maxAttempVerify=0x3;while(attempVerify<maxAttempVerify){attempVerify++,await delay(0x3e8);let xpathVerify='('+loopEarn['Verify']+')['+attempVerify+']';const kqVerify=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpathVerify,0x3e8);if(kqVerify){log(profileNameId,'['+botName+'][checkStartClaim]Tìm\x20thấy\x20Verify'),await genlogin[_0x17fc75(0x9e)](profileNameId,subframe,{'xpath':xpathVerify},0xbb8),await delay(0x3e8);const clickedVerify=await click(xpathVerify);if(clickedVerify){log(profileNameId,'['+botName+_0x17fc75(0x119)),await delay(0x3e8);const kqTaskName=await genlogin[_0x17fc75(0x125)](profileNameId,subframe,loopEarn['taskVerifyTitle'],0xbb8);log(profileNameId,'['+botName+_0x17fc75(0x162)+json(kqTaskName)),await delay(0x3e8);if(kqTaskName){log(profileNameId,'['+botName+_0x17fc75(0x162)+kqTaskName);const kqCode=await http[_0x17fc75(0x155)](profileNameId,profileNameId,botName,kqTaskName,0x0);if(kqCode['value'])log(profileNameId,'['+botName+_0x17fc75(0x126)+kqCode[_0x17fc75(0x91)]);else{log(profileNameId,'['+botName+_0x17fc75(0xf1),null,![]);const checkBack=await checkQuayLaiTasks(xpath[_0x17fc75(0x74)]);if(!checkBack){log(profileNameId,'['+botName+_0x17fc75(0x7e),![]);break;}continue;}const kqInput=await genlogin['elementExistsByXPath'](profileNameId,subframe,loopEarn[_0x17fc75(0x120)],0xbb8);if(kqInput){log(profileNameId,'['+botName+'][checkStartClaim]Tìm\x20thấy\x20input'),await genlogin[_0x17fc75(0x9e)](profileNameId,subframe,{'xpath':loopEarn[_0x17fc75(0x120)]},0xbb8),await delay(0x3e8);const kqClick0=await click(loopEarn[_0x17fc75(0x120)]);if(kqClick0){log(profileNameId,'['+botName+'][checkStartClaim]Click\x20input\x20OK'),await delay(0x3e8);const kqType=await genlogin[_0x17fc75(0x12f)](profileNameId,currentPage,loopEarn[_0x17fc75(0x120)],kqCode[_0x17fc75(0x91)],0x1,0xbb8);if(kqType){log(profileNameId,'['+botName+_0x17fc75(0x102)),await delay(0x3e8);const kqClick1=await click(loopEarn[_0x17fc75(0x7c)]);if(kqClick1){log(profileNameId,'['+botName+_0x17fc75(0xc9)),await delay(0x3e8);const kqFail=await genlogin[_0x17fc75(0x105)](profileNameId,subframe,loopEarn[_0x17fc75(0x85)],0x3e8);if(kqFail){log(profileNameId,'['+botName+_0x17fc75(0xe4));const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x17fc75(0x7e),null,![]);break;}continue;}else{log(profileNameId,'['+botName+_0x17fc75(0x118));const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x17fc75(0x7e),null,![]);break;}continue;}}else{log(profileNameId,'['+botName+_0x17fc75(0x14d),null,![]);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+'][checkStartClaim]Không\x20quay\x20lại\x20được\x20tasks',null,![]);break;}continue;}}else{log(profileNameId,'['+botName+_0x17fc75(0x121),null,![]);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x17fc75(0x7e),null,![]);break;}continue;}}else{log(profileNameId,'['+botName+_0x17fc75(0x100),null,![]);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x17fc75(0x7e),null,![]);break;}continue;}}else{log(profileNameId,'['+botName+'][checkStartClaim]Không\x20tìm\x20thấy\x20input',null,![]);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+'][checkStartClaim]Không\x20quay\x20lại\x20được\x20tasks',null,![]);break;}continue;}}else{log(profileNameId,'['+botName+_0x17fc75(0xd6),null,![]);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x17fc75(0x7e),null,![]);break;}continue;}}else{log(profileNameId,'['+botName+_0x17fc75(0xeb),null,![]);continue;}}}return!![];}catch(e){return log(profileNameId,'['+botName+_0x17fc75(0x108)+e[_0x17fc75(0x12b)],null,![]),null;}}async function autoNhatHoa(){const _0x21adc7=_0x34f3e8;try{log(profileNameId,'['+botName+'][autoNhatHoa]Auto\x20nhặt\x20hoa',null,'i');let codeAutoTap=await getFile(botName+_0x21adc7(0xc8));return genlogin['javascript'](profileNameId,subframe,codeAutoTap,soHoaBoQua,soBombDuocClick),log(profileNameId,'['+botName+'][autoNhatHoa]Set\x20Auto\x20nhặt\x20hoa\x20OK'),!![];}catch(error){return log(profileNameId,'['+botName+'][autoNhatHoa]:\x20'+error,null,![]),null;}}async function choNhatHoaXong(count){const _0x4c3ec7=_0x34f3e8;try{const nhatHoa={'Play':_0x4c3ec7(0x8e),'Continue':'//div[text()=\x27Continue\x27]'};let maxAttempts=thoiGanchoNhatHoa,LoutChoiXong=0x0,attempt=0x0,demMotLuot=0x0;while(attempt<maxAttempts){attempt++;const kq10=await genlogin[_0x4c3ec7(0x105)](profileNameId,subframe,nhatHoa[_0x4c3ec7(0x133)],0x3e8);if(kq10){LoutChoiXong++,demMotLuot=0x0,log(profileNameId,'['+botName+_0x4c3ec7(0x6b)+LoutChoiXong+'/'+count+_0x4c3ec7(0xbf),null,'i');if(LoutChoiXong>=parseInt(count))break;const kq11=await click(nhatHoa[_0x4c3ec7(0x133)]);if(!kq11){log(profileNameId,'['+botName+_0x4c3ec7(0x78),null,![]);break;}log(profileNameId,'['+botName+_0x4c3ec7(0x165));continue;}demMotLuot++;if(demMotLuot>=0x14){log(profileNameId,'['+botName+'][choNhatHoaXong]\x20Quá\x20thời\x20gian\x201\x20lượt\x20chơi,\x20lỗi\x20gì\x20đó\x20rồi',null,![]);break;}const kq12=await genlogin['elementExistsByXPath'](profileNameId,subframe,nhatHoa[_0x4c3ec7(0xbd)],0x3e8);if(kq12){const kq13=await click(nhatHoa[_0x4c3ec7(0xbd)]);if(!kq13){log(profileNameId,'['+botName+_0x4c3ec7(0x114),null,![]);break;}log(profileNameId,'['+botName+_0x4c3ec7(0xe2));break;}log(profileNameId,'['+botName+_0x4c3ec7(0xa0)+attempt+'|'+maxAttempts,null,'i');const kqPlayBtn=await genlogin[_0x4c3ec7(0x105)](profileNameId,subframe,xpath['playbtn'],0x3e8);if(kqPlayBtn){await genlogin[_0x4c3ec7(0x9e)](profileNameId,subframe,{'xpath':xpath[_0x4c3ec7(0xa6)],'direction':'up','speed':0x1}),await delay(0x3e8);const kq1=await click(xpath['playbtn']);await delay(0x3e8);}await delay(0x1388);}await checkQuayLaiTasks();const kqHome=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x4c3ec7(0xa2)],0x7d0);if(kqHome){log(profileNameId,'['+botName+_0x4c3ec7(0x94));const clickedHome=await click(xpath[_0x4c3ec7(0xa2)]);clickedHome&&(log(profileNameId,'['+botName+_0x4c3ec7(0x82)),await delay(0x3e8));}return!![];}catch(error){return log(profileNameId,'['+botName+'][choNhatHoaXong]:\x20'+error,null,![]),null;}}async function getFile(nameFile){const _0x1ef6ad=_0x34f3e8;try{const fs=require('fs'),path=require(_0x1ef6ad(0xaa)),filePath=path['join'](__dirname,'javascript',nameFile),code=await fs[_0x1ef6ad(0x90)][_0x1ef6ad(0xac)](filePath,_0x1ef6ad(0xa1));return code;}catch(e){log(profileNameId,'['+botName+_0x1ef6ad(0x71)+e[_0x1ef6ad(0x12b)]);}}async function backToHome(){const _0x1b6bca=_0x34f3e8;try{log(profileNameId,'['+botName+_0x1b6bca(0x70));const kqVaoHome=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x1b6bca(0xa2)],0x3e8);if(!kqVaoHome)return log(profileNameId,'['+botName+_0x1b6bca(0x144),null,![]),null;else{log(profileNameId,'['+botName+_0x1b6bca(0x13f));const clickedHome=await click(xpath[_0x1b6bca(0xa2)]);return!clickedHome?(log(profileNameId,'['+botName+'][backToHome]Không\x20click\x20là\x20vaoHome',null,![]),null):(log(profileNameId,'['+botName+_0x1b6bca(0xca)),await delay(0x3e8),await AdsGramDetect(),!![]);}}catch(e){return log(profileNameId,'['+botName+_0x1b6bca(0x10b)+e[_0x1b6bca(0x12b)],null,![]),null;}}async function AdsGramDetect(){const _0x33b651=_0x34f3e8;try{const xpathAdsGram=_0x33b651(0x110);let kqAdsGram=await genlogin[_0x33b651(0x105)](profileNameId,subframe,xpathAdsGram,0x3e8);if(kqAdsGram){let demLoop=0x0;const maxDemLoop=0x3c;while(demLoop<maxDemLoop){demLoop++,kqAdsGram=await genlogin[_0x33b651(0x105)](profileNameId,subframe,xpathAdsGram,0x3e8),log(profileNameId,'['+botName+_0x33b651(0xe0)+demLoop+'/'+maxDemLoop,null,'i');if(!kqAdsGram){log(profileNameId,'['+botName+_0x33b651(0x123),null,'i');break;}await choMs(0x7d0);}return!![];}else{const kqAdsGram2=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x33b651(0xe1)],0x3e8);if(kqAdsGram2)return await clickM(getAks['closeAds']),!![];return null;}}catch(error){return log(profileNameId,'['+botName+_0x33b651(0x159)+error,null,![]),null;}}async function checkQuayLaiTasks(){const _0x2cc37c=_0x34f3e8;try{log(profileNameId,'['+botName+'][checkQuayLaiTasks]\x20checkQuayLaiTasks\x20nè');const kqcheck=await checkLoopQuayLaiTasks();if(!kqcheck)return log(profileNameId,'['+botName+_0x2cc37c(0xaf),null,![]),null;return log(profileNameId,'['+botName+_0x2cc37c(0xb7)),!![];}catch(error){return log(profileNameId,'['+botName+'][checkQuayLaiTasks]:\x20'+error,null,![]),null;}}async function checkLoopQuayLaiTasks(){const _0x50374a=_0x34f3e8,maxattemptCQ=0xa;let attemptCQ=0x0;const loopBack={'walletClose':_0x50374a(0xdd),'dialogClose':_0x50374a(0xfc)};while(attemptCQ<maxattemptCQ){attemptCQ++,log(profileNameId,'['+botName+_0x50374a(0x11e)+attemptCQ);try{const kqloi1=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x50374a(0x147)],0x3e8);kqloi1&&(log(profileNameId,'['+botName+_0x50374a(0xee),null,![]),await click(xpath[_0x50374a(0xe7)]),await delay(0x1388));const currentPage=await genlogin[_0x50374a(0x14b)](profileNameId,browser);if(!currentPage)return log(profileNameId,'['+botName+'][checkLoopQuayLaiTasks]\x20Không\x20tìm\x20thấy\x20currentPage',null,![]),null;log(profileNameId,'['+botName+_0x50374a(0x97));const kqTelePage=await genlogin[_0x50374a(0x105)](profileNameId,currentPage,getAks[_0x50374a(0x140)],0x7d0);if(!kqTelePage){log(profileNameId,'['+botName+_0x50374a(0x72));const countTab=await genlogin['countOpenTabs'](profileNameId,browser);if(countTab<=0x1)return log(profileNameId,'['+botName+_0x50374a(0x160)+countTab+'\x20tab\x20đang\x20mở'),!![];const closeTab=await genlogin[_0x50374a(0x98)](profileNameId,browser,countTab-0x1,0xbb8);if(!closeTab)return log(profileNameId,'['+botName+_0x50374a(0x15f),null,![]),null;log(profileNameId,'['+botName+_0x50374a(0x13b)),await delay(0xbb8);continue;}log(profileNameId,'['+botName+_0x50374a(0x148)),subframe=await vaoGame();if(!subframe)return log(profileNameId,'['+botName+_0x50374a(0x87),null,![]),null;log(profileNameId,'['+botName+_0x50374a(0xb4));if(!![]){let attemptBack=0x0,maxAttempBack=0xa,kqBack=![];while(attemptBack<maxAttempBack){attemptBack++,log(profileNameId,'['+botName+_0x50374a(0x13d)+attemptBack);const kqb0=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x50374a(0xe9)],0x3e8);if(kqb0){await clickM(getAks['popupBackBtn']);continue;}await delay(0x3e8);break;}}let attemptW=0x0,maxAttemptsW=0xa;while(attemptW<maxAttemptsW){attemptW++;const checkWalletClose=await genlogin[_0x50374a(0x105)](profileNameId,subframe,loopBack['walletClose'],0x3e8);checkWalletClose&&await click(loopBack['walletClose']);const checkdialogClose=await genlogin[_0x50374a(0x105)](profileNameId,subframe,loopBack[_0x50374a(0x161)],0x3e8);checkdialogClose&&await click(loopBack[_0x50374a(0x161)]);if(!checkWalletClose&&!checkdialogClose)break;}const kqloi0=await genlogin[_0x50374a(0x105)](profileNameId,subframe,xpath[_0x50374a(0x147)],0x3e8);kqloi0&&(log(profileNameId,'['+botName+_0x50374a(0xee),null,![]),await click(xpath[_0x50374a(0xe7)]),await delay(0x1388));const kqPopupLaunch=await genlogin[_0x50374a(0x105)](profileNameId,currentPage,getAks['LaunchCancel'],0x3e8);return kqPopupLaunch&&await clickM(getAks[_0x50374a(0x14f)]),log(profileNameId,'['+botName+'][checkLoopQuayLaiTasks]\x20quay\x20lại\x20tasks\x20thành\x20công'),!![];}catch(error){return log(profileNameId,'['+botName+_0x50374a(0x163)+error[_0x50374a(0x12b)],null,![]),null;}await delay(0xbb8);}return log(profileNameId,'['+botName+_0x50374a(0xab)+maxattemptCQ+')'),null;}async function checkQuayLaiXpath(backXpath){const _0x2116a4=_0x34f3e8;try{const maxattemptCQ=0x5;let attemptCQ=0x0;const loopBack={'walletClose':_0x2116a4(0xdd),'dialogClose':_0x2116a4(0xfc),'closeQcBtn':_0x2116a4(0xea),'reload':_0x2116a4(0x9d),'closeModal':_0x2116a4(0x73)};while(attemptCQ<maxattemptCQ){attemptCQ++,await delay(0x1f4);const kqCloseQcBtn=await genlogin[_0x2116a4(0x105)](profileNameId,subframe,loopBack[_0x2116a4(0x6a)],0x3e8);if(kqCloseQcBtn){const kqClickCloseQcBtn=await click(loopBack[_0x2116a4(0x6a)]);if(!kqClickCloseQcBtn){log(profileNameId,'['+botName+_0x2116a4(0x8c),null,![]);continue;}log(profileNameId,'['+botName+_0x2116a4(0xd0));}log(profileNameId,'['+botName+_0x2116a4(0x77)+attemptCQ);const currentPage=await genlogin['getCurrentPage'](profileNameId,browser);if(!currentPage){log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20currentPage',null,![]);continue;}log(profileNameId,'['+botName+_0x2116a4(0x75));const kqTelePage=await genlogin[_0x2116a4(0x105)](profileNameId,currentPage,getAks[_0x2116a4(0x140)],0x3e8);if(!kqTelePage){log(profileNameId,'['+botName+_0x2116a4(0x7d));const countTab=await genlogin['countOpenTabs'](profileNameId,browser);if(countTab<=0x1){log(profileNameId,'['+botName+_0x2116a4(0xc0)+countTab+_0x2116a4(0x86),null,'i');break;}const closeTab=await genlogin['closeTab'](profileNameId,browser,countTab-0x1,0xbb8);if(!closeTab){log(profileNameId,'['+botName+_0x2116a4(0x14e),null,![]);continue;}log(profileNameId,'['+botName+_0x2116a4(0x157)),await delay(0x7d0);continue;}log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Không\x20phát\x20hiện\x20tab\x20mới',null,'i'),subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x2116a4(0x137),null,![]);continue;}log(profileNameId,'['+botName+_0x2116a4(0x15a));const kqSubcribeBtn=await genlogin[_0x2116a4(0x105)](profileNameId,currentPage,getAks[_0x2116a4(0xf6)],0x3e8);kqSubcribeBtn&&(log(profileNameId,'['+botName+_0x2116a4(0x68),null,'i'),await clickM(getAks['subcribeBtn']));const kqbackXpath=await genlogin[_0x2116a4(0x105)](profileNameId,subframe,backXpath,0x3e8);if(kqbackXpath){log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Tìm\x20thấy\x20backXpath');break;}if(!![]){let attemptBack=0x0,maxAttempBack=0x5,kqBack=![];while(attemptBack<maxAttempBack){attemptBack++,log(profileNameId,'['+botName+_0x2116a4(0x131)+attemptBack);const kqbackXpath=await genlogin[_0x2116a4(0x105)](profileNameId,subframe,backXpath,0x3e8);if(kqbackXpath){log(profileNameId,'['+botName+_0x2116a4(0x142));break;}const kqb0=await genlogin[_0x2116a4(0x105)](profileNameId,currentPage,getAks[_0x2116a4(0xe9)],0x3e8);if(kqb0){await clickM(getAks[_0x2116a4(0xe9)]);continue;}await delay(0x3e8);}}const kqPopupLaunch=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x2116a4(0x14f)],0x3e8);if(kqPopupLaunch){await clickM(getAks[_0x2116a4(0x14f)]);continue;}const kqReload=await genlogin[_0x2116a4(0x105)](profileNameId,subframe,loopBack[_0x2116a4(0xd1)],0x3e8);if(kqReload){await click(loopBack['reload']);continue;}await delay(0x3e8),await AdsGramDetect();}return log(profileNameId,'['+botName+_0x2116a4(0xb0)),!![];}catch(error){return log(profileNameId,'['+botName+_0x2116a4(0x6d)+error[_0x2116a4(0x12b)],null,![]),null;}}async function getCoin(){const _0x31add7=_0x34f3e8;try{let coinValue=0x0,xpathCoin=xpath[_0x31add7(0x129)];log(profileNameId,'['+botName+_0x31add7(0x101));const kqCoin=await genlogin[_0x31add7(0x105)](profileNameId,subframe,xpathCoin,0x3e8);if(!kqCoin)return log(profileNameId,'['+botName+'][getCoin]:\x20Không\x20tìm\x20thấy\x20xpathCoin',null,![]),null;else{log(profileNameId,'['+botName+_0x31add7(0xdc));const coinText=await genlogin[_0x31add7(0x125)](profileNameId,subframe,xpathCoin);log(profileNameId,'['+botName+_0x31add7(0x10f)+coinText),coinValue=coinText;}return coinValue;}catch(error){return log(profileNameId,'['+botName+_0x31add7(0xd5)+error,null,![]),null;}}async function finalStep(){const _0x5e8523=_0x34f3e8;try{await checkQuayLaiXpath(xpath[_0x5e8523(0xa2)]),await backToHome();const coin=await getCoin();!coin?log(profileNameId,'['+botName+_0x5e8523(0x6c),![]):(await http['updateData'](profileNameId,profileNameId,dataId,null,null,coin),log(profileNameId,'['+botName+_0x5e8523(0x141)+coin));const remainT=await xuLyhoiGianConLai();return!remainT&&log(profileNameId,'['+botName+_0x5e8523(0x12d),null,![]),log(profileNameId,'['+botName+_0x5e8523(0xda)),log(profileNameId,'['+botName+_0x5e8523(0xa7)+remainT[_0x5e8523(0x15d)]),{'status':!![],'coin':coin,'nextRun':remainT[_0x5e8523(0x15d)],'nextRunStamp':remainT[_0x5e8523(0x127)]};}catch(error){log(profileNameId,'['+botName+_0x5e8523(0x15b)+error[_0x5e8523(0x12b)],null,![]);}}async function xuLyhoiGianConLai(){const _0x4533b9=_0x34f3e8;try{let timeleft=[_0x4533b9(0xf0),0x0],timeleft1=['00:10:00',0x0],demLoop=0x0;const maxDemLoop=0x5;while(demLoop<maxDemLoop){demLoop++;if(timeleft[0x1]===0x1)log(profileNameId,'['+botName+']\x20đã\x20get\x20timeleft\x20ok\x20trước\x20đó\x20'+timeleft[0x0]);else{const kqCkTime=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x4533b9(0x10a)],0x3e8);if(!kqCkTime)log(profileNameId,'['+botName+_0x4533b9(0x139),null,![]);else{const kqGetTime=await genlogin['getTextByXPath'](profileNameId,subframe,xpath['timeleft'],0x3e8);!kqGetTime&&log(profileNameId,'['+botName+_0x4533b9(0xb3),null,![]);log(profileNameId,'['+botName+']Tìm\x20thấy\x20timeleft:\x20'+kqGetTime);const regex=/(\d+)h\s+(\d+)m/,match=kqGetTime['match'](regex);match&&(timeleft[0x0]=parseInt(match[0x1],0xa)+':'+parseInt(match[0x2],0xa)+_0x4533b9(0x8b),timeleft[0x1]=0x1);}}if(timeleft1[0x1]===0x1)log(profileNameId,'['+botName+_0x4533b9(0x149)+timeleft1[0x0]);else{const kqCkTimeleft1=await genlogin[_0x4533b9(0x105)](profileNameId,subframe,xpath[_0x4533b9(0x104)],0x3e8);if(!kqCkTimeleft1){log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20timeleft1',null,![]);const kqShowTimeleft1=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath['showTimeleft1'],0x3e8);if(kqShowTimeleft1){await click(xpath['showTimeleft1']),await delay(0x3e8),log(profileNameId,'['+botName+']Click\x20show\x20timeleft1\x20OK');continue;}}else{const kqGetTimeleft1=await genlogin['getTextByXPath'](profileNameId,subframe,xpath['timeleft1'],0x3e8);if(!kqGetTimeleft1)log(profileNameId,'['+botName+_0x4533b9(0x12a),null,![]);else{log(profileNameId,'['+botName+_0x4533b9(0x8f)+kqGetTimeleft1);const regex=/(\d+)h\s+(\d+)m/,match=kqGetTimeleft1[_0x4533b9(0xb9)](regex);match&&(timeleft1[0x0]=parseInt(match[0x1],0xa)+':'+parseInt(match[0x2],0xa)+':00',timeleft1[0x1]=0x1);}}}}return await thoigianconlai(timeleft[0x0],timeleft1[0x0]);}catch(error){return log(profileNameId,'['+botName+'][xuLyhoiGianConLai]\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20thời\x20gian\x20còn\x20lại:\x20'+error[_0x4533b9(0x12b)],null,![]),{'NextRun':0x0,'NextRunStamp':0x0};}}async function thoigianconlai(...listOfTimes){const _0x40171f=_0x34f3e8;try{log(profileNameId,'['+botName+_0x40171f(0x10c));const totalSecondsList=listOfTimes[_0x40171f(0xf4)](timeStr=>{const _0x285144=_0x40171f;log(profileNameId,'['+botName+_0x285144(0xa5)+timeStr);const parts=timeStr[_0x285144(0x6f)](':'),hours=parseInt(parts[0x0],0xa)||0x0,minutes=parseInt(parts[0x1],0xa)||0x0,seconds=parseInt(parts[0x2],0xa)||0x0;return hours*0xe10+minutes*0x3c+seconds;}),minTotalSeconds=Math['min'](...totalSecondsList),unixTime=Math[_0x40171f(0xf8)](Date['now']()/0x3e8),newUnixTime=unixTime+minTotalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate[_0x40171f(0x107)](),formattedTime=newDate['toLocaleTimeString'](_0x40171f(0x117),{'hour12':![]}),NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+_0x40171f(0x13e)+error,null,![]),null;}}async function AdsGramDetect(){const _0x20dd0e=_0x34f3e8;try{const xpathAdsGram='//div[contains(@style,\x27-adsgram-\x27)]';let kqAdsGram=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpathAdsGram,0x3e8);if(kqAdsGram){let demLoop=0x0;const maxDemLoop=0x3c;while(demLoop<maxDemLoop){demLoop++,kqAdsGram=await genlogin[_0x20dd0e(0x105)](profileNameId,subframe,xpathAdsGram,0x3e8),log(profileNameId,'['+botName+'][AdsGramDetec]:\x20đang\x20chờ\x20Ads\x20'+demLoop+'/'+maxDemLoop,null,'i');if(!kqAdsGram){log(profileNameId,'['+botName+_0x20dd0e(0x123),null,'i');break;}await choMs(0x7d0);}return!![];}else{const kqAdsGram2=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x20dd0e(0xe1)],0x3e8);if(kqAdsGram2)return await clickM(getAks[_0x20dd0e(0xe1)]),!![];return null;}}catch(error){return log(profileNameId,'['+botName+_0x20dd0e(0x159)+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x688a3b=_0x34f3e8;if(Atomics[_0x688a3b(0xf7)](tasksData,taskIndex)===0x1)return!![];return![];}}function a0_0x5648(_0x45c5dd,_0x310b17){const _0xf4337a=a0_0xf433();return a0_0x5648=function(_0x56481d,_0x1e7a79){_0x56481d=_0x56481d-0x67;let _0x4a0c63=_0xf4337a[_0x56481d];return _0x4a0c63;},a0_0x5648(_0x45c5dd,_0x310b17);};