const a0_0x5596d4=a0_0x4003;(function(_0x4eb40e,_0x10e3ab){const _0x36884b=a0_0x4003,_0x2f25de=_0x4eb40e();while(!![]){try{const _0x411739=-parseInt(_0x36884b(0x23a))/0x1+parseInt(_0x36884b(0x1af))/0x2*(-parseInt(_0x36884b(0x178))/0x3)+parseInt(_0x36884b(0x198))/0x4*(parseInt(_0x36884b(0x157))/0x5)+parseInt(_0x36884b(0x18f))/0x6+-parseInt(_0x36884b(0x190))/0x7*(parseInt(_0x36884b(0x221))/0x8)+parseInt(_0x36884b(0x168))/0x9+parseInt(_0x36884b(0x139))/0xa*(parseInt(_0x36884b(0x1c2))/0xb);if(_0x411739===_0x10e3ab)break;else _0x2f25de['push'](_0x2f25de['shift']());}catch(_0x181b61){_0x2f25de['push'](_0x2f25de['shift']());}}}(a0_0x47a9,0xc3245));function a0_0x47a9(){const _0x1a4d26=['//div[text()=\x27Continue\x27]','][click]Không\x20click\x20được\x20vào\x20','][checkLoopQuayLaiTasks]\x20Đóng\x20tab\x20mới\x20thành\x20công','Start','][checkStartClaim]Không\x20quay\x20lại\x20được\x20tasks','timeleft1','][checkQuayLaiXpath]\x20Vào\x20game\x20thành\x20công','33MeyCfO','][checkQuayLaiTasks]:\x20',']Lôi\x20lamTask','elementExistsByXPath','][checkStartClaim]Click\x20Claim\x20OK','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20subcribeBtn','claim',']Lôi\x20choNhatHoaXong','(//div[normalize-space(text())=\x27Claim\x27\x20and\x20not(contains(@class,\x27hidden\x27))])[1]','][choNhatHoaXong]\x20Đã\x20click\x20vào\x20play','\x20tab\x20đang\x20mở',']Lôi','closeTab','][Lỗi]:\x20','][checkStartClaim]Click\x20input\x20OK','][checkStartClaim]Tìm\x20thấy\x20task\x20name:\x20','//input[contains(@placeholder,\x20\x27Keyword\x27)]','javascript','Farming','][checkStartClaim]Type\x20code\x20OK',']Done\x20lamTask','//div[contains(@class,\x27close_btn\x27)]','][thoigianconlai]','][checkStartClaim]Không\x20tìm\x20thấy\x20input','][checkQuayLaiXpath]\x20Click\x20closeQcBtn\x20OK','(//div[text()=\x27Continue\x27])[1]','][lamTask]Tìm\x20thấy\x20farming',']Không\x20tìm\x20thấy\x20home','][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần\x20quay\x20lại:\x20','][lamTask]Click\x20new\x20OK','][checkStartClaim]Tìm\x20thấy\x20Start','soBombDuocClick','\x20lần','][checkStartClaim]Tìm\x20thấy\x20Claim','][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20currentPage',']Xử\x20lý\x20thoigianconlai\x20OK','][checkStartClaim]Không\x20click\x20được\x20vào\x20Verify\x20Submit','][choNhatHoaXong]\x20Đã\x20click\x20vào\x20continue','popupBackBtn','][AdsGramDetec]:\x20Done\x20Ads','][lamTask]Click\x20socials\x20OK','][checkClaim]Click\x20claim\x20OK','][checkClosePopup]\x20checkClosePopup\x20nè','continue','url','New','getTextByXPath','CloseGame','][checkClaim]Không\x20tìm\x20thấy\x20claim','earn','][lamTask]Tìm\x20thấy\x20home',']Đã\x20tìm\x20thấy\x20iframe','load','][lamTask]Click\x20farming\x20OK',']không\x20xử\x20lý\x20được\x20thoigianconlai','][checkClaim]\x20error:\x20',']\x20Tìm\x20thấy\x20timeleft1:\x20',']Không\x20tìm\x20thấy\x20iframe','Claim','path','][lamTask]:\x20','][checkClaim]Không\x20click\x20được\x20vào\x20startFarming','][checkStartClaim]Không\x20click\x20được\x20vào\x20Start','][choNhatHoaXong]Không\x20click\x20được\x20vào\x20continue','][AdsGramDetec]:\x20đang\x20chờ\x20Ads\x20','(//div[contains(@class,\x27pages-wallet-asset\x27)]//div[contains(@class,\x27balance\x27)])[2]','][backToHome]Không\x20click\x20là\x20vaoHome','][checkClaim]Click\x20startFarming\x20OK','][checkClaim]Tìm\x20thấy\x20startFarming','//div[contains(@class,\x27default\x27)]//div[contains(@class,\x27balance\x27)]/text()[1]',':00','][lamTask]Tìm\x20thấy\x20new','][checkClosePopup]\x20Không\x20click\x20được\x20vào\x20closePopup','restore','][lamTask]Click\x20academy\x20OK','Không\x20click\x20được\x20vào\x20earn','-autoTap',']Không\x20tìm\x20thấy\x20ticket','match','//button[contains(@class,\x27is-state-claim\x27)]//div[contains(text(),\x27Restore\x27)]','blumBits','][lamTask]Click\x20blumBits\x20OK','][checkClaim]Không\x20click\x20được\x20vào\x20restore','typeText','Frens','coin','Play','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20backXpath','][lamTask]Click\x20earn\x20OK',']Ra\x20game\x20nè','][checkStartClaim]Không\x20tìm\x20thấy\x20Fail','][backToHome]Không\x20tìm\x20thayas\x20vaoHome','(//dialog//button[contains(@class,\x27close-btn\x27)])[1]','][checkLoopQuayLaiTasks]\x20Không\x20tìm\x20thấy\x20iframe','][click]Click\x20','2255464gqjWGo','//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27Farming\x27]','][checkClaim]Tìm\x20thấy\x20restore','utf8','][choNhatHoaXong]Không\x20click\x20được\x20vào\x20playAgain','][checkClaim]Không\x20tìm\x20thấy\x20restore','soLanNhatHoa','][checkQuayLaiXpath]\x20Đóng\x20tab\x20mới\x20thành\x20công','][checkLoopQuayLaiTasks]\x20Đã\x20đạt\x20số\x20lần\x20kiểm\x20tra\x20tối\x20đa\x20(','getCurrentPage','][checkLoopQuayLaiTasks]\x20Chỉ\x20có\x20','Continue','getCode','reload',']Không\x20tìm\x20thấy\x20timeleft1','(//div[contains(@data-tc-modal,\x27true\x27)]//button[contains(@data-tc-icon-button,\x27true\x27)])[1]','][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20iframe',']Tìm\x20thấy\x20timeleft:\x20','][backToHome]\x20error:\x20','][checkStartClaim]Không\x20tìm\x20thấy\x20Claim','][backToHome]\x20backToHome\x20nè','Academy','][checkQuayLaiTasks]Không\x20quay\x20lại\x20được\x20tasks','message','countOpenTabs','784789JbNswZ','//p[contains(text(),\x27Incorrect\x27)]','trim','][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần:\x20','autoLamTask','][checkClaim]Không\x20tìm\x20thấy\x20startFarming','][checkStartClaim]Không\x20tìm\x20thấy\x20task\x20name',']Không\x20tìm\x20thấy\x20coin','closeAds','2947830esUdVy','][autoNhatHoa]Set\x20Auto\x20nhặt\x20hoa\x20OK','botSet','][checkStartClaim]Không\x20click\x20được\x20vào\x20Verify','replace','][choNhatHoaXong]\x20Quá\x20thời\x20gian\x201\x20lượt\x20chơi,\x20lỗi\x20gì\x20đó\x20rồi','split','click','Socials','][checkStartClaim]\x20checkStartClaim\x20nè','][lamTask]Tìm\x20thấy\x20blumBits',']Vào\x20game\x20OK','][lamTask]Click\x20frens\x20OK','][lamTask]Không\x20tìm\x20thấy\x20earn','][checkStartClaim]Không\x20tìm\x20thấy\x20Start','//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27Blum\x20Bits\x27]','][autoNhatHoa]Auto\x20nhặt\x20hoa','//button[contains(@class,\x20\x27reset\x27)]',']Done\x20auto\x20nhặt\x20hoa','NextRun','][checkStartClaim]Không\x20click\x20được\x20vào\x20Claim','][checkClaim]Click\x20restore\x20OK','dialogClose',']Tìm\x20thấy\x20ticketTag','//button[contains(@class,\x27is-status-ready-for-claim\x27)]//div[text()=\x27Claim\x27]','][thoigianconlai]:\x20Xử\x20lý\x20danh\x20sách\x20thời\x20gian','NextRunStamp','Không\x20tìm\x20thấy\x20main\x20frame','\x20OK','//div[contains(@class,\x27shown\x20open\x27)]//i[contains(@class,\x27icon-close\x27)]','55585bJheec','][choNhatHoaXong]\x20Đã\x20chơi\x20xong\x20','reset','length','][checkQuayLaiXpath]\x20Chỉ\x20có\x20','][getCoin]:\x20Tìm\x20thấy\x20xpathCoin','//div[contains(@class,\x27pages-index-daily-reward\x20reward\x27)]//div[contains(@class,\x20\x27subtitle\x27)]/text()','][checkQuayLaiTasks]\x20checkQuayLaiTasks\x20nè','en-GB','closeQcBtn','][lamTask]Tìm\x20thấy\x20academy','][autoNhatHoa]:\x20','maxday','][checkStartClaim]Click\x20Verify\x20OK',']Không\x20tìm\x20thấy\x20main\x20frame','Không\x20tìm\x20thấy\x20iframe','][checkLoopQuayLaiTasks]\x20Lỗi\x20trong\x20quá\x20trình\x20kiểm\x20tra:\x20','2274615YCJRct','switchFrame',']Vào\x20game\x20nè','home',']Lôi\x20claim','][checkLoopQuayLaiTasks]\x20Kiểm\x20tra\x20lần:\x20','ticket','Iframe','][checkStartClaim]Tìm\x20thấy\x20input','floor','LaunchCancel','][checkLoopQuayLaiTasks]\x20Lỗi\x20khi\x20đóng\x20tab\x20mới','scroll','][lamTask]Tìm\x20thấy\x20earn','sorry','][getCoin]:\x20Không\x20tìm\x20thấy\x20xpathCoin','3fZFdiA','(//div[text()=\x27Farming\x27])[1]','][checkStartClaim]\x20error:\x20','subcribeBtn','//div[contains(@class,\x27kit-tooltip\x27)]//div[contains(@class,\x27content\x20is-left\x27)]//div','startFarming','taskVerifyFail','(//span[text()=\x27Earn\x27])[1]','//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27Socials\x27]','(//span[text()=\x27Frens\x27])[1]','][getCoin]:\x20','updateData','promises','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20currentPage',']nextRunAt:\x20',']Tìm\x20thấy\x20coin:\x20','][checkStartClaim]Tìm\x20thấy\x20code:\x20','][xuLyhoiGianConLai]\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20thời\x20gian\x20còn\x20lại:\x20','][choNhatHoaXong]:\x20','][choNhatHoaXong]\x20Đang\x20chờ\x20tap\x20xong\x20','taskVerifyInput','][checkStartClaim]Không\x20tìm\x20thấy\x20code','][checkStartClaim]Không\x20click\x20được\x20vào\x20input','6849870sSjhvp','14wZfanz','][checkLoopQuayLaiTasks]\x20Không\x20tìm\x20thấy\x20currentPage','error:\x20',']Auto\x20tap\x20','Không\x20tìm\x20thấy\x20earn','//label[contains(@class,\x27show-dot\x27)]//span[text()=\x27New\x27]','showTimeleft1','ticket:\x20','424htZgUh','][checkStartClaim]Click\x20Verify\x20Submit\x20OK','][AdsGramDetec]:\x20','][lamTask]Tìm\x20thấy\x20socials','//div[contains(@class,\x27default\x27)]//button//div[text()=\x27Play\x27]','][checkClaim]\x20checkClaim\x20nè',']Done\x20claim','][checkQuayLaiXpath]\x20Lỗi\x20khi\x20đóng\x20tab\x20mới','readFile','][checkQuayLaiXpath]Không\x20click\x20được\x20vào\x20closeQcBtn',']\x20đã\x20get\x20timeleft\x20ok\x20trước\x20đó\x20','walletClose','][checkLoopQuayLaiTasks]\x20Phát\x20hiện\x20tab\x20mới','playbtn','][checkQuayLaiXpath]\x20Phát\x20hiện\x20tab\x20mới','//button[contains(@class,\x27is-state-claim\x27)]//div[contains(text(),\x27Farm\x27)]','][autoTap]:\x20','//div[contains(@style,\x27-adsgram-\x27)]','][checkClaim]Ticket:\x20','][checkLoopQuayLaiTasks]\x20Vào\x20game\x20thành\x20công','][checkQuayLaiXpath]\x20Không\x20phát\x20hiện\x20tab\x20mới','][getCoin]:\x20coinText:\x20','soHoaBoQua','2618350Ibotmx','][checkLoopQuayLaiTasks]\x20Kiểm\x20tra\x20lần\x20quay\x20lại:\x20','dirname','][lamTask]Không\x20click\x20được\x20vào\x20earn','][checkLoopQuayLaiTasks]\x20Không\x20phát\x20hiện\x20tab\x20mới','//span[contains(.,\x20\x27Play\x27)\x20and\x20contains(.,\x20\x27left\x27)]','min','//div[contains(@class,\x27kit-tooltip\x27)]//button','value','][lamTask]Click\x20home\x20OK','00:10:00','//button[contains(text(),\x27Reload\x27)]'];a0_0x47a9=function(){return _0x1a4d26;};return a0_0x47a9();}import{log,json}from'../modules/logger.js';import a0_0x4b9d71 from'path';function a0_0x4003(_0x1dfc5d,_0x2d22e8){const _0x47a984=a0_0x47a9();return a0_0x4003=function(_0x400350,_0x58d72a){_0x400350=_0x400350-0x138;let _0x212cf0=_0x47a984[_0x400350];return _0x212cf0;},a0_0x4003(_0x1dfc5d,_0x2d22e8);}import{fileURLToPath}from'url';import a0_0x2b1fad from'fs/promises';const __filename=fileURLToPath(import.meta[a0_0x5596d4(0x1ee)]),__dirname=a0_0x4b9d71[a0_0x5596d4(0x1b1)](__filename);export default async function (context,signal){const _0x14fd9b=a0_0x5596d4,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot['name'];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime,ticket,soLanNhatHoa=0x3,thoiGanchoNhatHoa=0x78,soHoaBoQua=0x5,soBombDuocClick=0x0;parseInt(bot[_0x14fd9b(0x13b)][_0x14fd9b(0x227)]['value'])>0x0&&(soLanNhatHoa=parseInt(bot[_0x14fd9b(0x13b)][_0x14fd9b(0x227)][_0x14fd9b(0x1b7)]),thoiGanchoNhatHoa=soLanNhatHoa*0x3c);parseInt(bot[_0x14fd9b(0x13b)]['soHoaBoQua'][_0x14fd9b(0x1b7)])>=0x0&&(soHoaBoQua=parseInt(bot['botSet'][_0x14fd9b(0x1ae)][_0x14fd9b(0x1b7)]));parseInt(bot['botSet']['soBombDuocClick'][_0x14fd9b(0x1b7)])>=0x0&&(soBombDuocClick=parseInt(bot[_0x14fd9b(0x13b)][_0x14fd9b(0x1e1)][_0x14fd9b(0x1b7)]));const xpath={'continue':_0x14fd9b(0x1db),'claim':_0x14fd9b(0x1ca),'startFarming':'(//span[text()=\x27Start\x20farming\x27])[1]','farming':_0x14fd9b(0x179),'playbtn':_0x14fd9b(0x19c),'ticket':'//div[contains(@class,\x27pass\x27)]','coin':_0x14fd9b(0x203),'home':'(//span[text()=\x27Home\x27])[1]','earn':_0x14fd9b(0x17f),'frens':_0x14fd9b(0x181),'timeleft':_0x14fd9b(0x15d),'timeleft1':_0x14fd9b(0x17c),'new':_0x14fd9b(0x195),'sorry':'//div[contains(text(),\x20\x27Sorry,\x20something\x27)]','reset':_0x14fd9b(0x14a),'showTimeleft1':_0x14fd9b(0x1b6)};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x14fd9b(0x1fb),null,![]);throw new Error(_0x14fd9b(0x166));}log(profileNameId,'['+botName+_0x14fd9b(0x144)),await delay(0x3e8);const closePopup=await checkClosePopup();await delay(0x3e8),await backToHome();const claim=await checkClaim();!claim&&log(profileNameId,'['+botName+_0x14fd9b(0x16c),null,![]);log(profileNameId,'['+botName+_0x14fd9b(0x19e)),await delay(0x7d0);if(bot[_0x14fd9b(0x13b)][_0x14fd9b(0x23e)]['value']==='y'){const kqlamTask=await lamTask();!kqlamTask&&log(profileNameId,'['+botName+_0x14fd9b(0x1c4),null,![]),log(profileNameId,'['+botName+_0x14fd9b(0x1d6));}if(bot[_0x14fd9b(0x13b)]['autoNhatHoa']['value']==='y'){const kqHome=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x14fd9b(0x16b)],0x3e8);!kqHome&&(log(profileNameId,'['+botName+_0x14fd9b(0x1dd),null,![]),await checkQuayLai(xpath[_0x14fd9b(0x16b)]));await autoNhatHoa();const kqAutoNhatHoa=await choNhatHoaXong(soLanNhatHoa);!kqAutoNhatHoa&&log(profileNameId,'['+botName+_0x14fd9b(0x1c9),null,![]),log(profileNameId,'['+botName+_0x14fd9b(0x14b));}const kqloi=await genlogin[_0x14fd9b(0x1c5)](profileNameId,subframe,xpath[_0x14fd9b(0x176)],0x3e8);kqloi&&(log(profileNameId,'['+botName+']Lôi',null,![]),await click(xpath[_0x14fd9b(0x159)]),await delay(0x1388));const ticketTag=await genlogin[_0x14fd9b(0x1c5)](profileNameId,subframe,xpath[_0x14fd9b(0x16e)],0x3e8);return ticketTag&&(log(profileNameId,'['+botName+_0x14fd9b(0x150)),ticket=await genlogin[_0x14fd9b(0x1f0)](profileNameId,subframe,xpath[_0x14fd9b(0x16e)],0x7d0),!ticket&&log(profileNameId,'['+botName+_0x14fd9b(0x20f),null,![]),await http[_0x14fd9b(0x183)](profileNameId,profileNameId,dataId,_0x14fd9b(0x197)+ticket)),await finalStep();}catch(error){log(profileNameId,'['+botName+_0x14fd9b(0x1cf)+error,null,![]);}async function vaoGame(){const _0x12484a=_0x14fd9b;try{log(profileNameId,'['+botName+_0x12484a(0x16a));const subframe0=await genlogin[_0x12484a(0x169)](profileNameId,currentPage,getAks[_0x12484a(0x16f)],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x12484a(0x1fb),null,![]);throw new Error(_0x12484a(0x166));}return log(profileNameId,'['+botName+_0x12484a(0x1f5)),subframe0;}catch(error){return log(profileNameId,'['+botName+_0x12484a(0x1cf)+error,null,![]),null;}}async function raGame(){const _0x2f9aff=_0x14fd9b;try{log(profileNameId,'['+botName+_0x2f9aff(0x21b)),currentPage=genlogin[_0x2f9aff(0x169)](profileNameId,currentPage,'mainframe',0x7d0);if(!currentPage){log(profileNameId,'['+botName+_0x2f9aff(0x165),null,![]);throw new Error(_0x2f9aff(0x154));}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0x2f9aff(0x1cf)+error,null,![]),null;}}async function click(xpath){const _0x38d7ee=_0x14fd9b;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x7d0);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x38d7ee(0x1bc)+xpath,null,![]),!![];return log(profileNameId,'['+botName+_0x38d7ee(0x220)+xpath+_0x38d7ee(0x155)),clicked;}catch(error){return log(profileNameId,'['+botName+'][click][Lỗi]:\x20'+error,null,![]),null;}}async function clickM(xpath){const _0x1d1019=_0x14fd9b;try{await delay(0x3e8);const clicked=await genlogin[_0x1d1019(0x140)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x1d1019(0x1bc)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x1d1019(0x220)+xpath+_0x1d1019(0x155)),clicked;}catch(error){return log(profileNameId,'['+botName+'][click][Lỗi]:\x20'+error,null,![]),null;}}async function xuLyFullHp(fullHp){const _0xdcb8e4=_0x14fd9b;try{let fullhp0=fullHp[_0xdcb8e4(0x23c)]()[_0xdcb8e4(0x13d)](/,/g,''),parts=fullhp0[_0xdcb8e4(0x13f)]('\x20'),tapCountPart=parts['length']>=0x3?parseInt(parts[parts[_0xdcb8e4(0x15a)]-0x3]):null,dayleft=parts[_0xdcb8e4(0x15a)]>=0x4?parseInt(parts[0x3]):null,daylimit=parts[_0xdcb8e4(0x15a)]>=0x6?parseInt(parts[0x5]):null,tapElement=tapCountPart;return dayleft!==null&&dayleft<=0x0&&(tapElement=_0xdcb8e4(0x163)),{'tapElement':tapElement,'dayleft':dayleft,'daylimit':daylimit};}catch(error){return log(profileNameId,'['+botName+'][xuLyFullHp]:\x20'+error,null,![]),null;}}async function autoTap(tapElement){const _0x4ef7d9=_0x14fd9b;try{log(profileNameId,'['+botName+']Auto\x20tap\x20'+tapElement+'\x20nè');let codeAutoTap=await getFile(botName+_0x4ef7d9(0x20e));return genlogin[_0x4ef7d9(0x1d3)](profileNameId,subframe,codeAutoTap),log(profileNameId,'['+botName+_0x4ef7d9(0x193)+tapElement+_0x4ef7d9(0x155)),!![];}catch(error){return log(profileNameId,'['+botName+_0x4ef7d9(0x1a8)+error,null,![]),null;}}async function getFile(nameFile){const _0x5479b7=_0x14fd9b;try{const fs=require('fs'),path=require(_0x5479b7(0x1fd)),filePath=path['join'](__dirname,'javascript',nameFile),code=await fs[_0x5479b7(0x184)][_0x5479b7(0x1a0)](filePath,_0x5479b7(0x224));return code;}catch(e){log('[getFile]\x20error:\x20'+e[_0x5479b7(0x238)]);}}async function checkClosePopup(){const _0x48d53f=_0x14fd9b;try{log(profileNameId,'['+botName+_0x48d53f(0x1ec));const kqClosePopup=await genlogin[_0x48d53f(0x1c5)](profileNameId,subframe,xpath[_0x48d53f(0x1ed)],0x7d0);if(!kqClosePopup)return log(profileNameId,'['+botName+'][checkClosePopup]\x20Không\x20tìm\x20thấy\x20closePopup',null,![]),null;else{log(profileNameId,'['+botName+'][checkClosePopup]\x20Tìm\x20thấy\x20closePopup');const clicked=await click(xpath[_0x48d53f(0x1ed)]);if(!clicked)return log(profileNameId,'['+botName+_0x48d53f(0x20a),null,![]),null;else log(profileNameId,'['+botName+'][checkClosePopup]\x20Click\x20closePopup\x20OK');}return await delay(0xbb8),!![];}catch(e){return log(profileNameId,'['+botName+'][checkClosePopup]\x20error:\x20'+e[_0x48d53f(0x238)],null,![]),null;}}async function checkClaim(){const _0x538073=_0x14fd9b,xpathClaim={'ticket':_0x538073(0x207),'restore':_0x538073(0x211),'claim':'//button[contains(@class,\x27is-state-claim\x27)]//div[contains(text(),\x27Claim\x27)\x20and\x20not(contains(@class,\x27hidden\x27))]','startFarming':_0x538073(0x1a7)};try{log(profileNameId,'['+botName+_0x538073(0x19d));const kqticket=await genlogin[_0x538073(0x1c5)](profileNameId,subframe,xpathClaim[_0x538073(0x16e)],0x3e8);kqticket&&(ticket=await genlogin[_0x538073(0x1f0)](profileNameId,subframe,xpathClaim[_0x538073(0x16e)],0x7d0),log(profileNameId,'['+botName+_0x538073(0x1aa)+ticket));let demLoop=0x0;const maxDemLoop=0x5;while(demLoop<maxDemLoop){demLoop++;const kqRestore=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpathClaim[_0x538073(0x20b)],0x7d0);if(!kqRestore)log(profileNameId,'['+botName+_0x538073(0x226),null,![]);else{log(profileNameId,'['+botName+_0x538073(0x223));const clicked=await click(xpathClaim[_0x538073(0x20b)]);!clicked?log(profileNameId,'['+botName+_0x538073(0x214),null,![]):log(profileNameId,'['+botName+_0x538073(0x14e));await delay(0x1388);continue;}const kqClaim=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpathClaim[_0x538073(0x1c8)],0x7d0);if(!kqClaim)log(profileNameId,'['+botName+_0x538073(0x1f2),null,![]);else{log(profileNameId,'['+botName+'][checkClaim]Tìm\x20thấy\x20claim');const clicked=await click(xpathClaim['claim']);!clicked?log(profileNameId,'['+botName+'][checkClaim]Không\x20click\x20được\x20vào\x20claim',null,![]):log(profileNameId,'['+botName+_0x538073(0x1eb));await delay(0x1388);continue;}const kqStartFarming=await genlogin[_0x538073(0x1c5)](profileNameId,subframe,xpathClaim[_0x538073(0x17d)],0x7d0);if(!kqStartFarming){log(profileNameId,'['+botName+_0x538073(0x23f),null,![]);break;}else{log(profileNameId,'['+botName+_0x538073(0x206));const clickedStartFarming=await click(xpathClaim[_0x538073(0x17d)]);!clickedStartFarming?log(profileNameId,'['+botName+_0x538073(0x1ff),null,![]):log(profileNameId,'['+botName+_0x538073(0x205));await delay(0x1388);continue;}}return!![];}catch(e){log(profileNameId,'['+botName+_0x538073(0x1f9)+e['message'],null,![]);}}async function lamTask(){const _0x1b4ac3=_0x14fd9b;try{const earn={'New':'//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27New\x27]','Socials':_0x1b4ac3(0x180),'blumBits':_0x1b4ac3(0x148),'Academy':'//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27Academy\x27]','Frens':'//label[contains(@class,\x27show-dot\x27)and\x20@data-tab=\x27Frens\x27]','Farming':_0x1b4ac3(0x222)};log(profileNameId,'['+botName+'][lamTask]Làm\x20Task\x20nè');const kq10=await genlogin[_0x1b4ac3(0x1c5)](profileNameId,subframe,xpath['earn'],0x7d0);if(!kq10){log(profileNameId,'['+botName+_0x1b4ac3(0x146),null,![]);throw new Error(_0x1b4ac3(0x194));}log(profileNameId,'['+botName+_0x1b4ac3(0x175));const clicked=await click(xpath['earn']);if(!clicked){log(profileNameId,'['+botName+_0x1b4ac3(0x1b2),null,![]);throw new Error(_0x1b4ac3(0x20d));}log(profileNameId,'['+botName+_0x1b4ac3(0x21a));const kqSocials=await genlogin[_0x1b4ac3(0x1c5)](profileNameId,subframe,earn[_0x1b4ac3(0x141)],0x7d0);if(kqSocials){log(profileNameId,'['+botName+_0x1b4ac3(0x19b)),await genlogin[_0x1b4ac3(0x174)](profileNameId,subframe,{'xpath':earn[_0x1b4ac3(0x141)]},0xbb8);const clickedSocials=await click(earn[_0x1b4ac3(0x141)]);clickedSocials&&(log(profileNameId,'['+botName+_0x1b4ac3(0x1ea)),await delay(0x3e8),await checkStartClaim());}const kqnew=await genlogin['elementExistsByXPath'](profileNameId,subframe,earn[_0x1b4ac3(0x1ef)],0x7d0);if(kqnew){log(profileNameId,'['+botName+_0x1b4ac3(0x209)),await genlogin['scroll'](profileNameId,subframe,{'xpath':earn[_0x1b4ac3(0x1ef)]},0xbb8);const clickednew=await click(earn['New']);clickednew&&(log(profileNameId,'['+botName+_0x1b4ac3(0x1df)),await delay(0x3e8),await checkStartClaim());}const kqAcademy=await genlogin['elementExistsByXPath'](profileNameId,subframe,earn[_0x1b4ac3(0x236)],0x7d0);if(kqAcademy){log(profileNameId,'['+botName+_0x1b4ac3(0x161)),await genlogin[_0x1b4ac3(0x174)](profileNameId,subframe,{'xpath':earn[_0x1b4ac3(0x236)]},0xbb8);const clickedAcademy=await click(earn[_0x1b4ac3(0x236)]);clickedAcademy&&(log(profileNameId,'['+botName+_0x1b4ac3(0x20c)),await delay(0x3e8),await checkStartClaim());}const kqBlumBits=await genlogin[_0x1b4ac3(0x1c5)](profileNameId,subframe,earn[_0x1b4ac3(0x212)],0x7d0);if(kqBlumBits){log(profileNameId,'['+botName+_0x1b4ac3(0x143)),await genlogin[_0x1b4ac3(0x174)](profileNameId,subframe,{'xpath':earn[_0x1b4ac3(0x212)]},0xbb8);const clickedBlumBits=await click(earn[_0x1b4ac3(0x212)]);clickedBlumBits&&(log(profileNameId,'['+botName+_0x1b4ac3(0x213)),await delay(0x3e8),await checkStartClaim());}const kqFrens=await genlogin[_0x1b4ac3(0x1c5)](profileNameId,subframe,earn[_0x1b4ac3(0x216)],0x7d0);if(kqFrens){log(profileNameId,'['+botName+'][lamTask]Tìm\x20thấy\x20frens'),await genlogin[_0x1b4ac3(0x174)](profileNameId,subframe,{'xpath':earn[_0x1b4ac3(0x216)]},0xbb8);const clickedFrens=await click(earn[_0x1b4ac3(0x216)]);clickedFrens&&(log(profileNameId,'['+botName+_0x1b4ac3(0x145)),await delay(0x3e8),await checkStartClaim());}const kqFarming=await genlogin['elementExistsByXPath'](profileNameId,subframe,earn[_0x1b4ac3(0x1d4)],0x7d0);if(kqFarming){log(profileNameId,'['+botName+_0x1b4ac3(0x1dc)),await genlogin[_0x1b4ac3(0x174)](profileNameId,subframe,{'xpath':earn[_0x1b4ac3(0x1d4)]},0xbb8);const clickedFarming=await click(earn[_0x1b4ac3(0x1d4)]);clickedFarming&&(log(profileNameId,'['+botName+_0x1b4ac3(0x1f7)),await delay(0x3e8),await checkStartClaim());}const kqHome=await genlogin[_0x1b4ac3(0x1c5)](profileNameId,subframe,xpath[_0x1b4ac3(0x16b)],0x7d0);if(kqHome){log(profileNameId,'['+botName+_0x1b4ac3(0x1f4));const clickedHome=await click(xpath[_0x1b4ac3(0x16b)]);clickedHome&&(log(profileNameId,'['+botName+_0x1b4ac3(0x1b8)),await delay(0x3e8));}return!![];}catch(error){return log(profileNameId,'['+botName+_0x1b4ac3(0x1fe)+error,null,![]),null;}}async function checkStartClaim(){const _0x3ecd74=_0x14fd9b;try{const loopEarn={'Claim':_0x3ecd74(0x151),'Verify':'//div[text()=\x27Verify\x27]','Start':'//div[text()=\x27Start\x27]','taskVerifyTitle':'//div[@class=\x27pages-tasks-verify\x27]//div[@class=\x27title\x27]','taskVerifyInput':_0x3ecd74(0x1d2),'taskVerifySubmit':'//div[contains(@class,\x27kit-fixed-wrapper\x20no-layout-tabs\x27)]//div[text()=\x27Verify\x27]','taskVerifyFail':_0x3ecd74(0x23b),'walletClose':_0x3ecd74(0x230),'dialogClose':_0x3ecd74(0x21e)};log(profileNameId,'['+botName+_0x3ecd74(0x142));let attempClaim=0x0,maxAttempClaim=0x3;while(attempClaim<maxAttempClaim){attempClaim++,await delay(0x3e8);const kq10=await genlogin[_0x3ecd74(0x1c5)](profileNameId,subframe,xpath[_0x3ecd74(0x1f3)],0x7d0);if(!kq10){log(profileNameId,'['+botName+_0x3ecd74(0x146),null,![]);continue;}log(profileNameId,'['+botName+_0x3ecd74(0x175));const clicked=await click(xpath['earn']);if(!clicked){log(profileNameId,'['+botName+_0x3ecd74(0x1b2),null,![]);continue;}log(profileNameId,'['+botName+_0x3ecd74(0x21a));let xpathClaim='('+loopEarn[_0x3ecd74(0x1fc)]+')['+attempClaim+']';const kqClaim=await genlogin[_0x3ecd74(0x1c5)](profileNameId,subframe,xpathClaim,0x3e8);if(kqClaim){log(profileNameId,'['+botName+_0x3ecd74(0x1e3)),await genlogin[_0x3ecd74(0x174)](profileNameId,subframe,{'xpath':xpathClaim},0xbb8),await delay(0x3e8);const clickedClaim=await click(xpathClaim);if(clickedClaim)log(profileNameId,'['+botName+_0x3ecd74(0x1c6)),await delay(0x3e8);else{log(profileNameId,'['+botName+_0x3ecd74(0x14d),null,![]);continue;}}else{log(profileNameId,'['+botName+_0x3ecd74(0x234),null,![]);break;}}log(profileNameId,'['+botName+_0x3ecd74(0x142));let attempStart=0x0,maxAttempStart=0x3;while(attempStart<maxAttempStart){attempStart++,await delay(0x3e8);let xpathStart='('+loopEarn[_0x3ecd74(0x1be)]+')['+attempStart+']';const kqStart=await genlogin[_0x3ecd74(0x1c5)](profileNameId,subframe,xpathStart,0x3e8);if(kqStart){log(profileNameId,'['+botName+_0x3ecd74(0x1e0)),await genlogin[_0x3ecd74(0x174)](profileNameId,subframe,{'xpath':xpathStart},0x7d0),await delay(0x3e8);const clickedStart=await click(xpathStart);if(clickedStart){log(profileNameId,'['+botName+'][checkStartClaim]Click\x20Start\x20OK'),await delay(0x3e8);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x3ecd74(0x1bf),null,![]);break;}continue;}else{log(profileNameId,'['+botName+_0x3ecd74(0x200),null,![]);continue;}}else{log(profileNameId,'['+botName+_0x3ecd74(0x147),null,![]);break;}}log(profileNameId,'['+botName+_0x3ecd74(0x142));let attempVerify=0x0,maxAttempVerify=0x3;while(attempVerify<maxAttempVerify){attempVerify++,await delay(0x3e8);let xpathVerify='('+loopEarn['Verify']+')['+attempVerify+']';const kqVerify=await genlogin[_0x3ecd74(0x1c5)](profileNameId,subframe,xpathVerify,0x3e8);if(kqVerify){log(profileNameId,'['+botName+'][checkStartClaim]Tìm\x20thấy\x20Verify'),await genlogin[_0x3ecd74(0x174)](profileNameId,subframe,{'xpath':xpathVerify},0xbb8),await delay(0x3e8);const clickedVerify=await click(xpathVerify);if(clickedVerify){log(profileNameId,'['+botName+_0x3ecd74(0x164)),await delay(0x3e8);const kqTaskName=await genlogin[_0x3ecd74(0x1f0)](profileNameId,subframe,loopEarn['taskVerifyTitle'],0xbb8);log(profileNameId,'['+botName+_0x3ecd74(0x1d1)+json(kqTaskName)),await delay(0x3e8);if(kqTaskName){log(profileNameId,'['+botName+_0x3ecd74(0x1d1)+kqTaskName);const kqCode=await http[_0x3ecd74(0x22d)](profileNameId,profileNameId,botName,kqTaskName,0x0);if(kqCode['value'])log(profileNameId,'['+botName+_0x3ecd74(0x188)+kqCode[_0x3ecd74(0x1b7)]);else{log(profileNameId,'['+botName+_0x3ecd74(0x18d),null,![]);const checkBack=await checkQuayLaiTasks(xpath['earn']);if(!checkBack){log(profileNameId,'['+botName+_0x3ecd74(0x1bf),![]);break;}continue;}const kqInput=await genlogin[_0x3ecd74(0x1c5)](profileNameId,subframe,loopEarn['taskVerifyInput'],0xbb8);if(kqInput){log(profileNameId,'['+botName+_0x3ecd74(0x170)),await genlogin[_0x3ecd74(0x174)](profileNameId,subframe,{'xpath':loopEarn[_0x3ecd74(0x18c)]},0xbb8),await delay(0x3e8);const kqClick0=await click(loopEarn[_0x3ecd74(0x18c)]);if(kqClick0){log(profileNameId,'['+botName+_0x3ecd74(0x1d0)),await delay(0x3e8);const kqType=await genlogin[_0x3ecd74(0x215)](profileNameId,currentPage,loopEarn[_0x3ecd74(0x18c)],kqCode[_0x3ecd74(0x1b7)],0x1,0xbb8);if(kqType){log(profileNameId,'['+botName+_0x3ecd74(0x1d5)),await delay(0x3e8);const kqClick1=await click(loopEarn['taskVerifySubmit']);if(kqClick1){log(profileNameId,'['+botName+_0x3ecd74(0x199)),await delay(0x3e8);const kqFail=await genlogin['elementExistsByXPath'](profileNameId,subframe,loopEarn[_0x3ecd74(0x17e)],0x3e8);if(kqFail){log(profileNameId,'['+botName+'][checkStartClaim]Tìm\x20thấy\x20Fail');const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x3ecd74(0x1bf),null,![]);break;}continue;}else{log(profileNameId,'['+botName+_0x3ecd74(0x21c));const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x3ecd74(0x1bf),null,![]);break;}continue;}}else{log(profileNameId,'['+botName+_0x3ecd74(0x1e6),null,![]);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x3ecd74(0x1bf),null,![]);break;}continue;}}else{log(profileNameId,'['+botName+'][checkStartClaim]Không\x20type\x20được\x20code',null,![]);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x3ecd74(0x1bf),null,![]);break;}continue;}}else{log(profileNameId,'['+botName+_0x3ecd74(0x18e),null,![]);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x3ecd74(0x1bf),null,![]);break;}continue;}}else{log(profileNameId,'['+botName+_0x3ecd74(0x1d9),null,![]);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+'][checkStartClaim]Không\x20quay\x20lại\x20được\x20tasks',null,![]);break;}continue;}}else{log(profileNameId,'['+botName+_0x3ecd74(0x240),null,![]);const checkBack=await checkQuayLaiTasks();if(!checkBack){log(profileNameId,'['+botName+_0x3ecd74(0x1bf),null,![]);break;}continue;}}else{log(profileNameId,'['+botName+_0x3ecd74(0x13c),null,![]);continue;}}}return!![];}catch(e){return log(profileNameId,'['+botName+_0x3ecd74(0x17a)+e[_0x3ecd74(0x238)],null,![]),null;}}async function autoNhatHoa(){const _0x144728=_0x14fd9b;try{log(profileNameId,'['+botName+_0x144728(0x149),null,'i');let codeAutoTap=await getFile(botName+_0x144728(0x20e));return genlogin[_0x144728(0x1d3)](profileNameId,subframe,codeAutoTap,soHoaBoQua,soBombDuocClick),log(profileNameId,'['+botName+_0x144728(0x13a)),!![];}catch(error){return log(profileNameId,'['+botName+_0x144728(0x162)+error,null,![]),null;}}async function choNhatHoaXong(count){const _0x398b2e=_0x14fd9b;try{const nhatHoa={'Play':_0x398b2e(0x1b4),'Continue':_0x398b2e(0x1bb)};let maxAttempts=thoiGanchoNhatHoa,LoutChoiXong=0x0,attempt=0x0,demMotLuot=0x0;while(attempt<maxAttempts){attempt++;const kq10=await genlogin[_0x398b2e(0x1c5)](profileNameId,subframe,nhatHoa[_0x398b2e(0x218)],0x3e8);if(kq10){LoutChoiXong++,demMotLuot=0x0,log(profileNameId,'['+botName+_0x398b2e(0x158)+LoutChoiXong+'/'+count+_0x398b2e(0x1e2),null,'i');if(LoutChoiXong>=parseInt(count))break;const kq11=await click(nhatHoa['Play']);if(!kq11){log(profileNameId,'['+botName+_0x398b2e(0x225),null,![]);break;}log(profileNameId,'['+botName+_0x398b2e(0x1cb));continue;}demMotLuot++;if(demMotLuot>=0x14){log(profileNameId,'['+botName+_0x398b2e(0x13e),null,![]);break;}const kq12=await genlogin[_0x398b2e(0x1c5)](profileNameId,subframe,nhatHoa[_0x398b2e(0x22c)],0x3e8);if(kq12){const kq13=await click(nhatHoa['Continue']);if(!kq13){log(profileNameId,'['+botName+_0x398b2e(0x201),null,![]);break;}log(profileNameId,'['+botName+_0x398b2e(0x1e7));break;}log(profileNameId,'['+botName+_0x398b2e(0x18b)+attempt+'|'+maxAttempts,null,'i');const kqPlayBtn=await genlogin[_0x398b2e(0x1c5)](profileNameId,subframe,xpath['playbtn'],0x3e8);if(kqPlayBtn){await genlogin[_0x398b2e(0x174)](profileNameId,subframe,{'xpath':xpath['playbtn'],'direction':'up','speed':0x1}),await delay(0x3e8);const kq1=await click(xpath[_0x398b2e(0x1a5)]);await delay(0x3e8);}await delay(0x1388);}await checkQuayLaiTasks();const kqHome=await genlogin[_0x398b2e(0x1c5)](profileNameId,subframe,xpath['home'],0x7d0);if(kqHome){log(profileNameId,'['+botName+_0x398b2e(0x1f4));const clickedHome=await click(xpath[_0x398b2e(0x16b)]);clickedHome&&(log(profileNameId,'['+botName+'][lamTask]Click\x20home\x20OK'),await delay(0x3e8));}return!![];}catch(error){return log(profileNameId,'['+botName+_0x398b2e(0x18a)+error,null,![]),null;}}async function getFile(nameFile){const _0x10a503=_0x14fd9b;try{const filePath=a0_0x4b9d71['join'](__dirname,_0x10a503(0x1d3),nameFile),code=await a0_0x2b1fad[_0x10a503(0x1a0)](filePath,'utf8');return code;}catch(e){log(profileNameId,_0x10a503(0x192)+e[_0x10a503(0x238)],null,![]);}}async function backToHome(){const _0xfd9325=_0x14fd9b;try{log(profileNameId,'['+botName+_0xfd9325(0x235));const kqVaoHome=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0xfd9325(0x16b)],0x3e8);if(!kqVaoHome)return log(profileNameId,'['+botName+_0xfd9325(0x21d),null,![]),null;else{log(profileNameId,'['+botName+'][backToHome]Tìm\x20thayas\x20vaoHome');const clickedHome=await click(xpath[_0xfd9325(0x16b)]);return!clickedHome?(log(profileNameId,'['+botName+_0xfd9325(0x204),null,![]),null):(log(profileNameId,'['+botName+'][backToHome]Click\x20vaoHome\x20OK'),await delay(0x3e8),await AdsGramDetect(),!![]);}}catch(e){return log(profileNameId,'['+botName+_0xfd9325(0x233)+e[_0xfd9325(0x238)],null,![]),null;}}async function AdsGramDetect(){const _0x581ae1=_0x14fd9b;try{const xpathAdsGram=_0x581ae1(0x1a9);let kqAdsGram=await genlogin[_0x581ae1(0x1c5)](profileNameId,subframe,xpathAdsGram,0x3e8);if(kqAdsGram){let demLoop=0x0;const maxDemLoop=0x3c;while(demLoop<maxDemLoop){demLoop++,kqAdsGram=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpathAdsGram,0x3e8),log(profileNameId,'['+botName+_0x581ae1(0x202)+demLoop+'/'+maxDemLoop,null,'i');if(!kqAdsGram){log(profileNameId,'['+botName+_0x581ae1(0x1e9),null,'i');break;}await choMs(0x7d0);}return!![];}else{const kqAdsGram2=await genlogin[_0x581ae1(0x1c5)](profileNameId,currentPage,getAks[_0x581ae1(0x138)],0x3e8);if(kqAdsGram2)return await clickM(getAks[_0x581ae1(0x138)]),!![];return null;}}catch(error){return log(profileNameId,'['+botName+_0x581ae1(0x19a)+error,null,![]),null;}}async function checkQuayLaiTasks(){const _0x2c3c02=_0x14fd9b;try{log(profileNameId,'['+botName+_0x2c3c02(0x15e));const kqcheck=await checkLoopQuayLaiTasks();if(!kqcheck)return log(profileNameId,'['+botName+_0x2c3c02(0x237),null,![]),null;return log(profileNameId,'['+botName+'][checkQuayLaiTasks]\x20Quay\x20lại\x20tasks\x20OK'),!![];}catch(error){return log(profileNameId,'['+botName+_0x2c3c02(0x1c3)+error,null,![]),null;}}async function checkLoopQuayLaiTasks(){const _0x49d1b3=_0x14fd9b,maxattemptCQ=0xa;let attemptCQ=0x0;const loopBack={'walletClose':_0x49d1b3(0x230),'dialogClose':'(//dialog//button[contains(@class,\x27close-btn\x27)])[1]'};while(attemptCQ<maxattemptCQ){attemptCQ++,log(profileNameId,'['+botName+_0x49d1b3(0x16d)+attemptCQ);try{const kqloi1=await genlogin[_0x49d1b3(0x1c5)](profileNameId,subframe,xpath['sorry'],0x3e8);kqloi1&&(log(profileNameId,'['+botName+_0x49d1b3(0x1cd),null,![]),await click(xpath[_0x49d1b3(0x159)]),await delay(0x1388));const currentPage=await genlogin[_0x49d1b3(0x22a)](profileNameId,browser);if(!currentPage)return log(profileNameId,'['+botName+_0x49d1b3(0x191),null,![]),null;log(profileNameId,'['+botName+'][checkLoopQuayLaiTasks]\x20Tìm\x20thấy\x20currentPage');const kqTelePage=await genlogin[_0x49d1b3(0x1c5)](profileNameId,currentPage,getAks[_0x49d1b3(0x1f1)],0x7d0);if(!kqTelePage){log(profileNameId,'['+botName+_0x49d1b3(0x1a4));const countTab=await genlogin[_0x49d1b3(0x239)](profileNameId,browser);if(countTab<=0x1)return log(profileNameId,'['+botName+_0x49d1b3(0x22b)+countTab+_0x49d1b3(0x1cc)),!![];const closeTab=await genlogin[_0x49d1b3(0x1ce)](profileNameId,browser,countTab-0x1,0xbb8);if(!closeTab)return log(profileNameId,'['+botName+_0x49d1b3(0x173),null,![]),null;log(profileNameId,'['+botName+_0x49d1b3(0x1bd)),await delay(0xbb8);continue;}log(profileNameId,'['+botName+_0x49d1b3(0x1b3)),subframe=await vaoGame();if(!subframe)return log(profileNameId,'['+botName+_0x49d1b3(0x21f),null,![]),null;log(profileNameId,'['+botName+_0x49d1b3(0x1ab));if(!![]){let attemptBack=0x0,maxAttempBack=0xa,kqBack=![];while(attemptBack<maxAttempBack){attemptBack++,log(profileNameId,'['+botName+_0x49d1b3(0x1b0)+attemptBack);const kqb0=await genlogin[_0x49d1b3(0x1c5)](profileNameId,currentPage,getAks[_0x49d1b3(0x1e8)],0x3e8);if(kqb0){await clickM(getAks[_0x49d1b3(0x1e8)]);continue;}await delay(0x3e8);break;}}let attemptW=0x0,maxAttemptsW=0xa;while(attemptW<maxAttemptsW){attemptW++;const checkWalletClose=await genlogin[_0x49d1b3(0x1c5)](profileNameId,subframe,loopBack[_0x49d1b3(0x1a3)],0x3e8);checkWalletClose&&await click(loopBack[_0x49d1b3(0x1a3)]);const checkdialogClose=await genlogin[_0x49d1b3(0x1c5)](profileNameId,subframe,loopBack[_0x49d1b3(0x14f)],0x3e8);checkdialogClose&&await click(loopBack['dialogClose']);if(!checkWalletClose&&!checkdialogClose)break;}const kqloi0=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x49d1b3(0x176)],0x3e8);kqloi0&&(log(profileNameId,'['+botName+']Lôi',null,![]),await click(xpath[_0x49d1b3(0x159)]),await delay(0x1388));const kqPopupLaunch=await genlogin[_0x49d1b3(0x1c5)](profileNameId,currentPage,getAks['LaunchCancel'],0x3e8);return kqPopupLaunch&&await clickM(getAks[_0x49d1b3(0x172)]),log(profileNameId,'['+botName+'][checkLoopQuayLaiTasks]\x20quay\x20lại\x20tasks\x20thành\x20công'),!![];}catch(error){return log(profileNameId,'['+botName+_0x49d1b3(0x167)+error['message'],null,![]),null;}await delay(0xbb8);}return log(profileNameId,'['+botName+_0x49d1b3(0x229)+maxattemptCQ+')'),null;}async function checkQuayLaiXpath(backXpath){const _0x4e13f5=_0x14fd9b;try{const maxattemptCQ=0x5;let attemptCQ=0x0;const loopBack={'walletClose':'(//div[contains(@data-tc-modal,\x27true\x27)]//button[contains(@data-tc-icon-button,\x27true\x27)])[1]','dialogClose':'(//dialog//button[contains(@class,\x27close-btn\x27)])[1]','closeQcBtn':_0x4e13f5(0x1d7),'reload':_0x4e13f5(0x1ba),'closeModal':_0x4e13f5(0x156)};while(attemptCQ<maxattemptCQ){attemptCQ++,await delay(0x1f4);const kqCloseQcBtn=await genlogin[_0x4e13f5(0x1c5)](profileNameId,subframe,loopBack['closeQcBtn'],0x3e8);if(kqCloseQcBtn){const kqClickCloseQcBtn=await click(loopBack[_0x4e13f5(0x160)]);if(!kqClickCloseQcBtn){log(profileNameId,'['+botName+_0x4e13f5(0x1a1),null,![]);continue;}log(profileNameId,'['+botName+_0x4e13f5(0x1da));}log(profileNameId,'['+botName+_0x4e13f5(0x23d)+attemptCQ);const currentPage=await genlogin[_0x4e13f5(0x22a)](profileNameId,browser);if(!currentPage){log(profileNameId,'['+botName+_0x4e13f5(0x1e4),null,![]);continue;}log(profileNameId,'['+botName+_0x4e13f5(0x185));const kqTelePage=await genlogin[_0x4e13f5(0x1c5)](profileNameId,currentPage,getAks[_0x4e13f5(0x1f1)],0x3e8);if(!kqTelePage){log(profileNameId,'['+botName+_0x4e13f5(0x1a6));const countTab=await genlogin[_0x4e13f5(0x239)](profileNameId,browser);if(countTab<=0x1){log(profileNameId,'['+botName+_0x4e13f5(0x15b)+countTab+_0x4e13f5(0x1cc),null,'i');break;}const closeTab=await genlogin['closeTab'](profileNameId,browser,countTab-0x1,0xbb8);if(!closeTab){log(profileNameId,'['+botName+_0x4e13f5(0x19f),null,![]);continue;}log(profileNameId,'['+botName+_0x4e13f5(0x228)),await delay(0x7d0);continue;}log(profileNameId,'['+botName+_0x4e13f5(0x1ac),null,'i'),subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x4e13f5(0x231),null,![]);continue;}log(profileNameId,'['+botName+_0x4e13f5(0x1c1));const kqSubcribeBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x4e13f5(0x17b)],0x3e8);kqSubcribeBtn&&(log(profileNameId,'['+botName+_0x4e13f5(0x1c7),null,'i'),await clickM(getAks['subcribeBtn']));const kqbackXpath=await genlogin[_0x4e13f5(0x1c5)](profileNameId,subframe,backXpath,0x3e8);if(kqbackXpath){log(profileNameId,'['+botName+_0x4e13f5(0x219));break;}if(!![]){let attemptBack=0x0,maxAttempBack=0x5,kqBack=![];while(attemptBack<maxAttempBack){attemptBack++,log(profileNameId,'['+botName+_0x4e13f5(0x1de)+attemptBack);const kqbackXpath=await genlogin[_0x4e13f5(0x1c5)](profileNameId,subframe,backXpath,0x3e8);if(kqbackXpath){log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Tìm\x20thấy\x20backXpath');break;}const kqb0=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x4e13f5(0x1e8)],0x3e8);if(kqb0){await clickM(getAks[_0x4e13f5(0x1e8)]);continue;}await delay(0x3e8);}}const kqPopupLaunch=await genlogin[_0x4e13f5(0x1c5)](profileNameId,currentPage,getAks['LaunchCancel'],0x3e8);if(kqPopupLaunch){await clickM(getAks[_0x4e13f5(0x172)]);continue;}const kqReload=await genlogin['elementExistsByXPath'](profileNameId,subframe,loopBack[_0x4e13f5(0x22e)],0x3e8);if(kqReload){await click(loopBack[_0x4e13f5(0x22e)]);continue;}await delay(0x3e8),await AdsGramDetect();}return log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20quay\x20lại\x20tasks\x20thành\x20công'),!![];}catch(error){return log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Lỗi\x20trong\x20quá\x20trình\x20kiểm\x20tra:\x20'+error['message'],null,![]),null;}}async function getCoin(){const _0x24f22f=_0x14fd9b;try{let coinValue=0x0,xpathCoin=xpath[_0x24f22f(0x217)];log(profileNameId,'['+botName+'][getCoin]:\x20Xử\x20lý\x20coin\x20nè');const kqCoin=await genlogin[_0x24f22f(0x1c5)](profileNameId,subframe,xpathCoin,0x3e8);if(!kqCoin)return log(profileNameId,'['+botName+_0x24f22f(0x177),null,![]),null;else{log(profileNameId,'['+botName+_0x24f22f(0x15c));const coinText=await genlogin['getTextByXPath'](profileNameId,subframe,xpathCoin);log(profileNameId,'['+botName+_0x24f22f(0x1ad)+coinText),coinValue=coinText;}return coinValue;}catch(error){return log(profileNameId,'['+botName+_0x24f22f(0x182)+error,null,![]),null;}}async function finalStep(){const _0x372b31=_0x14fd9b;try{await checkQuayLaiXpath(xpath['home']),await backToHome();const coin=await getCoin();!coin?log(profileNameId,'['+botName+_0x372b31(0x241),![]):(await http['updateData'](profileNameId,profileNameId,dataId,null,null,coin),log(profileNameId,'['+botName+_0x372b31(0x187)+coin));const remainT=await xuLyhoiGianConLai();return!remainT&&log(profileNameId,'['+botName+_0x372b31(0x1f8),null,![]),log(profileNameId,'['+botName+_0x372b31(0x1e5)),log(profileNameId,'['+botName+_0x372b31(0x186)+remainT[_0x372b31(0x14c)]),{'status':!![],'coin':coin,'nextRun':remainT[_0x372b31(0x14c)],'nextRunStamp':remainT[_0x372b31(0x153)]};}catch(error){log(profileNameId,'['+botName+'][finalStep]\x20Lỗi\x20trong\x20quá\x20trình\x20xử\x20lý\x20cuối\x20cùng:\x20'+error[_0x372b31(0x238)],null,![]);}}async function xuLyhoiGianConLai(){const _0x4da02e=_0x14fd9b;try{let timeleft=[_0x4da02e(0x1b9),0x0],timeleft1=[_0x4da02e(0x1b9),0x0],demLoop=0x0;const maxDemLoop=0x5;while(demLoop<maxDemLoop){demLoop++;if(timeleft[0x1]===0x1)log(profileNameId,'['+botName+_0x4da02e(0x1a2)+timeleft[0x0]);else{const kqCkTime=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath['timeleft'],0x3e8);if(!kqCkTime)log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20timeleft',null,![]);else{const kqGetTime=await genlogin[_0x4da02e(0x1f0)](profileNameId,subframe,xpath['timeleft'],0x3e8);!kqGetTime&&log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20thoigian\x20con\x20lai',null,![]);log(profileNameId,'['+botName+_0x4da02e(0x232)+kqGetTime);const regex=/(\d+)h\s+(\d+)m/,match=kqGetTime['match'](regex);match&&(timeleft[0x0]=parseInt(match[0x1],0xa)+':'+parseInt(match[0x2],0xa)+_0x4da02e(0x208),timeleft[0x1]=0x1);}}if(timeleft1[0x1]===0x1)log(profileNameId,'['+botName+']\x20đã\x20get\x20timeleft1\x20ok\x20trước\x20đó\x20'+timeleft1[0x0]);else{const kqCkTimeleft1=await genlogin[_0x4da02e(0x1c5)](profileNameId,subframe,xpath[_0x4da02e(0x1c0)],0x3e8);if(!kqCkTimeleft1){log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20timeleft1',null,![]);const kqShowTimeleft1=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x4da02e(0x196)],0x3e8);if(kqShowTimeleft1){await click(xpath[_0x4da02e(0x196)]),await delay(0x3e8),log(profileNameId,'['+botName+']Click\x20show\x20timeleft1\x20OK');continue;}}else{const kqGetTimeleft1=await genlogin[_0x4da02e(0x1f0)](profileNameId,subframe,xpath[_0x4da02e(0x1c0)],0x3e8);if(!kqGetTimeleft1)log(profileNameId,'['+botName+_0x4da02e(0x22f),null,![]);else{log(profileNameId,'['+botName+_0x4da02e(0x1fa)+kqGetTimeleft1);const regex=/(\d+)h\s+(\d+)m/,match=kqGetTimeleft1[_0x4da02e(0x210)](regex);match&&(timeleft1[0x0]=parseInt(match[0x1],0xa)+':'+parseInt(match[0x2],0xa)+_0x4da02e(0x208),timeleft1[0x1]=0x1);}}}}return await thoigianconlai(timeleft[0x0],timeleft1[0x0]);}catch(error){return log(profileNameId,'['+botName+_0x4da02e(0x189)+error['message'],null,![]),{'NextRun':0x0,'NextRunStamp':0x0};}}async function thoigianconlai(...listOfTimes){const _0x4d022b=_0x14fd9b;try{log(profileNameId,'['+botName+_0x4d022b(0x152));const totalSecondsList=listOfTimes['map'](timeStr=>{const _0x625d81=_0x4d022b;log(profileNameId,'['+botName+_0x625d81(0x1d8)+timeStr);const parts=timeStr[_0x625d81(0x13f)](':'),hours=parseInt(parts[0x0],0xa)||0x0,minutes=parseInt(parts[0x1],0xa)||0x0,seconds=parseInt(parts[0x2],0xa)||0x0;return hours*0xe10+minutes*0x3c+seconds;}),minTotalSeconds=Math[_0x4d022b(0x1b5)](...totalSecondsList),unixTime=Math[_0x4d022b(0x171)](Date['now']()/0x3e8),newUnixTime=unixTime+minTotalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate['toLocaleDateString'](),formattedTime=newDate['toLocaleTimeString'](_0x4d022b(0x15f),{'hour12':![]}),NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+'][thoigianconlai]:\x20'+error,null,![]),null;}}async function AdsGramDetect(){const _0x2d7a2e=_0x14fd9b;try{const xpathAdsGram='//div[contains(@style,\x27-adsgram-\x27)]';let kqAdsGram=await genlogin[_0x2d7a2e(0x1c5)](profileNameId,subframe,xpathAdsGram,0x3e8);if(kqAdsGram){let demLoop=0x0;const maxDemLoop=0x3c;while(demLoop<maxDemLoop){demLoop++,kqAdsGram=await genlogin[_0x2d7a2e(0x1c5)](profileNameId,subframe,xpathAdsGram,0x3e8),log(profileNameId,'['+botName+'][AdsGramDetec]:\x20đang\x20chờ\x20Ads\x20'+demLoop+'/'+maxDemLoop,null,'i');if(!kqAdsGram){log(profileNameId,'['+botName+'][AdsGramDetec]:\x20Done\x20Ads',null,'i');break;}await choMs(0x7d0);}return!![];}else{const kqAdsGram2=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x2d7a2e(0x138)],0x3e8);if(kqAdsGram2)return await clickM(getAks[_0x2d7a2e(0x138)]),!![];return null;}}catch(error){return log(profileNameId,'['+botName+_0x2d7a2e(0x19a)+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x288864=_0x14fd9b;if(Atomics[_0x288864(0x1f6)](tasksData,taskIndex)===0x1)return!![];return![];}};