function a0_0x1edb(){const _0x2aef8f=['][lamQuest]Không\x20click\x20được\x20vào\x20quest','moveMouseSpiral','switchFrame','][checkClosePopup]\x20checkClosePopup\x20nè',']Không\x20tìm\x20thấy\x20coin','][choNhatCoinXong]\x20Tìm\x20thấy\x20coinLeft:\x20','][checkClosePopup]Không\x20tìm\x20thấy\x20dailyPopupClose',']Vào\x20game\x20OK','][click]Click\x20','][diChuyenChuotZigZag]\x20diChuyenChuotZigZag\x20nè','toLocaleTimeString','380285nZiiOw','][diChuyenChuotZigZag]\x20bắt\x20đầu\x20Di\x20chuyển\x20chuột\x20ZigZag','194286hbBOxl','9EfSfcE','][checkClosePopup]Tìm\x20thấy\x20claimDailyReward','name','elementExistsByXPath','click','317487jyUeDd','load','21612DzgvGw','Không\x20tìm\x20thấy\x20quest',']Tìm\x20thấy\x20coin:\x20',']Không\x20tìm\x20thayas\x20closePopup','][lamQuest]Tìm\x20thấy\x20quest','now','//p[contains(@class,\x20\x27progress-value\x27)]/text()[1]','Không\x20tìm\x20thấy\x20iframe','4066888ORdpDS','2101OrmjxE','Iframe','][diChuyenChuotZigZag]\x20error:\x20','][Lỗi]:\x20','coin',']Xử\x20lý\x20thoigianconlai\x20OK','toLocaleDateString','][choNhatCoinXong]\x20error:\x20','\x20OK','16xbgMfu','//div[contains(@class,\x27popup-content\x20home-daily-task-popup\x27)]//div[contains(@class,\x27popup-close\x27)]',']Đã\x20tìm\x20thấy\x20iframe','centerPoint','quest','mainframe','message','en-GB','Không\x20tìm\x20thấy\x20main\x20frame',']nextRunAt:\x20','][autotap]\x20Đang\x20chờ\x20nhặt\x20coin\x20xong\x20','][diChuyenChuotZigZag]Không\x20tìm\x20thayas\x20centerP','yespacClaim','00:05:00','][click][Lỗi]:\x20','][lamQuest]Không\x20tìm\x20thấy\x20quest','dailyPopupClose','//div[contains(@class,\x20\x27content-coin-inner\x27)]','NextRun','3uldQNw','][lamQuest]Click\x20quest\x20OK','][checkClosePopup]Không\x20click\x20được\x20vào\x20claimDailyReward','12unTLgR',']closePopup\x20OK','getTextByXPath','][thoigianconlai]:\x20',']Vào\x20game\x20nè','3389790fCHolS','][checkClosePopup]Click\x20dailyPopupClose\x20OK','(//span[text()=\x27Claim\x27])[1]','][diChuyenChuotZigZag]Tìm\x20thayas\x20centerP:\x20','Không\x20click\x20được\x20vào\x20quest','][checkClosePopup]\x20error:\x20','][click]Không\x20click\x20được\x20vào\x20',']Không\x20tìm\x20thấy\x20iframe','][getToaDo]:\x20',']Ra\x20game\x20nè','3640259lOBhux','][choNhatCoinXong]\x20Đã\x20đạt\x20đến\x20số\x20lần\x20thử\x20tối\x20đa\x20','][checkClosePopup]Click\x20claimDailyReward\x20OK','NextRunStamp',']nhặt\x20coin\x20OK','][getCoin]:\x20Tìm\x20thấy\x20coin:\x20'];a0_0x1edb=function(){return _0x2aef8f;};return a0_0x1edb();}(function(_0x194d22,_0x11b2ba){const _0x4ede8d=a0_0x449e,_0x455027=_0x194d22();while(!![]){try{const _0x5b23c1=parseInt(_0x4ede8d(0x19d))/0x1*(-parseInt(_0x4ede8d(0x170))/0x2)+-parseInt(_0x4ede8d(0x176))/0x3*(-parseInt(_0x4ede8d(0x18a))/0x4)+-parseInt(_0x4ede8d(0x16e))/0x5*(-parseInt(_0x4ede8d(0x1a0))/0x6)+parseInt(_0x4ede8d(0x15d))/0x7+parseInt(_0x4ede8d(0x180))/0x8*(-parseInt(_0x4ede8d(0x171))/0x9)+parseInt(_0x4ede8d(0x153))/0xa+parseInt(_0x4ede8d(0x181))/0xb*(-parseInt(_0x4ede8d(0x178))/0xc);if(_0x5b23c1===_0x11b2ba)break;else _0x455027['push'](_0x455027['shift']());}catch(_0x3d4fe1){_0x455027['push'](_0x455027['shift']());}}}(a0_0x1edb,0x46f69));import{log,json}from'../modules/logger.js';function a0_0x449e(_0x258e49,_0x4c14d7){const _0x1edbb3=a0_0x1edb();return a0_0x449e=function(_0x449e28,_0x4d31af){_0x449e28=_0x449e28-0x152;let _0x5c540b=_0x1edbb3[_0x449e28];return _0x5c540b;},a0_0x449e(_0x258e49,_0x4c14d7);}export default async function (context,signal){const _0x4820b3=a0_0x449e,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot[_0x4820b3(0x173)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime;const xpath={'yespacClaim':_0x4820b3(0x155),'dailyPopupClose':_0x4820b3(0x18b),'progressValue':_0x4820b3(0x17e),'coin':_0x4820b3(0x19b)};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x4820b3(0x15a),![]);throw new Error(_0x4820b3(0x17f));}log(profileNameId,'['+botName+_0x4820b3(0x16a)),await delay(0x3e8);const kqClosePopup=await checkClosePopup();!kqClosePopup&&log(profileNameId,'['+botName+_0x4820b3(0x17b),null,![]);log(profileNameId,'['+botName+_0x4820b3(0x1a1)),await delay(0x7d0),await diChuyenChuotZigZag();const kqClaim=await choNhatCoinXong();!kqClaim&&log(profileNameId,'['+botName+']lỗi\x20nhặt\x20coin',null,![]);log(profileNameId,'['+botName+_0x4820b3(0x161));const coin=await getCoin();!coin&&log(profileNameId,'['+botName+_0x4820b3(0x167),![]);await http['updateData'](profileNameId,profileNameId,dataId,null,null,coin),log(profileNameId,'['+botName+_0x4820b3(0x17a)+coin);const remainT=await thoigianconlai(_0x4820b3(0x197));return!remainT&&log(profileNameId,'['+botName+']không\x20xử\x20lý\x20được\x20thoigianconlai',null,![]),log(profileNameId,'['+botName+_0x4820b3(0x186)),log(profileNameId,'['+botName+_0x4820b3(0x193)+remainT[_0x4820b3(0x19c)]),{'status':!![],'coin':coin,'nextRun':remainT[_0x4820b3(0x19c)],'nextRunStamp':remainT[_0x4820b3(0x160)]};}catch(error){log(profileNameId,'['+botName+_0x4820b3(0x184)+error,![]);}async function vaoGame(){const _0x32fde5=_0x4820b3;try{log(profileNameId,'['+botName+_0x32fde5(0x152));const subframe0=await genlogin[_0x32fde5(0x165)](profileNameId,currentPage,getAks[_0x32fde5(0x182)],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x32fde5(0x15a),![]);throw new Error(_0x32fde5(0x17f));}return log(profileNameId,'['+botName+_0x32fde5(0x18c)),subframe0;}catch(error){return log(profileNameId,'['+botName+_0x32fde5(0x184)+error,![]),null;}}async function raGame(){const _0x12dcd7=_0x4820b3;try{log(profileNameId,'['+botName+_0x12dcd7(0x15c)),currentPage=genlogin[_0x12dcd7(0x165)](profileNameId,currentPage,_0x12dcd7(0x18f),0x7d0);if(!currentPage){log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20main\x20frame',![]);throw new Error(_0x12dcd7(0x192));}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0x12dcd7(0x184)+error,![]),null;}}async function click(xpath){const _0x3a3e01=_0x4820b3;try{await delay(0x3e8);const clicked=await genlogin[_0x3a3e01(0x175)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x3a3e01(0x159)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x3a3e01(0x16b)+xpath+_0x3a3e01(0x189)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x3a3e01(0x198)+error,null,![]),null;}}async function checkClosePopup(){const _0x427db7=_0x4820b3;try{log(profileNameId,'['+botName+_0x427db7(0x166));const kqClosePopup=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x427db7(0x196)],0x7d0);if(!kqClosePopup)log(profileNameId,'['+botName+'][checkClosePopup]Không\x20tìm\x20thayas\x20claimDailyReward',null,![]);else{log(profileNameId,'['+botName+_0x427db7(0x172));const clicked=await click(xpath[_0x427db7(0x196)]);!clicked?log(profileNameId,'['+botName+_0x427db7(0x19f),null,![]):log(profileNameId,'['+botName+_0x427db7(0x15f));}await delay(0xbb8);const kqClosePopup2=await genlogin[_0x427db7(0x174)](profileNameId,subframe,xpath[_0x427db7(0x19a)],0x7d0);if(!kqClosePopup2)log(profileNameId,'['+botName+_0x427db7(0x169),null,![]);else{log(profileNameId,'['+botName+'][checkClosePopup]Tìm\x20thayas\x20dailyPopupClose');const clicked=await click(xpath[_0x427db7(0x19a)]);!clicked?log(profileNameId,'['+botName+'][checkClosePopup]Không\x20click\x20được\x20vào\x20dailyPopupClose',null,![]):log(profileNameId,'['+botName+_0x427db7(0x154));}return await delay(0xbb8),!![];}catch(error){log(profileNameId,'['+botName+_0x427db7(0x158)+error[_0x427db7(0x190)],null,![]);}}async function getToaDo(){const _0x42c56e=_0x4820b3;try{log(profileNameId,'['+botName+']get\x20tọa\x20độ\x20nè');const kqCenterPoint=await genlogin[_0x42c56e(0x18d)](profileNameId,currentPage);if(!kqCenterPoint)return log(profileNameId,'['+botName+']Không\x20lấy\x20được\x20centerPoint',null,![]),null;return log(profileNameId,'['+botName+']Lấy\x20được\x20centerPoint\x20'+json(kqCenterPoint)),kqCenterPoint;}catch(error){return log(profileNameId,'['+botName+_0x42c56e(0x15b)+error,null,![]),null;}}async function diChuyenChuotZigZag(){const _0x26432e=_0x4820b3;try{log(profileNameId,'['+botName+_0x26432e(0x16c));const centerP=await getToaDo();if(!centerP)return log(profileNameId,'['+botName+_0x26432e(0x195),null,![]),null;return log(profileNameId,'['+botName+_0x26432e(0x156)+json(centerP)),genlogin[_0x26432e(0x164)](profileNameId,currentPage,centerP['x'],centerP['y'],0xfa,0x11170,0x3c),log(profileNameId,'['+botName+_0x26432e(0x16f)),!![];}catch(error){log(profileNameId,'['+botName+_0x26432e(0x183)+error[_0x26432e(0x190)],null,![]);}}async function choNhatCoinXong(){const _0x15379f=_0x4820b3;try{let maxAttempts=0x78,attempt=0x0;while(attempt<maxAttempts){attempt++;const coinLeft=await genlogin['getTextByXPath'](profileNameId,subframe,xpath['progressValue'],0x7d0);if(!coinLeft)return log(profileNameId,'['+botName+'][choNhatCoinXong]\x20Không\x20tìm\x20thấy\x20coinLeft',![]),null;log(profileNameId,'['+botName+_0x15379f(0x168)+coinLeft);if(parseInt(coinLeft)<=0x32)return log(profileNameId,'['+botName+'][choNhatCoinXong]\x20nhặt\x20coin\x20xong'),!![];log(profileNameId,'['+botName+_0x15379f(0x194)+coinLeft+'|'+attempt),await delay(0x1388);}return log(profileNameId,'['+botName+_0x15379f(0x15e)+attempt),null;}catch(e){return log(profileNameId,'['+botName+_0x15379f(0x188)+e[_0x15379f(0x190)],null,![]),null;}}async function lamQuest(){const _0x4f0f81=_0x4820b3;try{log(profileNameId,'['+botName+'][lamQuest]Làm\x20Quest\x20nè');const kq10=await genlogin[_0x4f0f81(0x174)](profileNameId,subframe,xpath[_0x4f0f81(0x18e)],0x7d0);if(!kq10){log(profileNameId,'['+botName+_0x4f0f81(0x199),![]);throw new Error(_0x4f0f81(0x179));}log(profileNameId,'['+botName+_0x4f0f81(0x17c));const clicked=await click(xpath['quest']);if(!clicked){log(profileNameId,'['+botName+_0x4f0f81(0x163),![]);throw new Error(_0x4f0f81(0x157));}return log(profileNameId,'['+botName+_0x4f0f81(0x19e)),!![];}catch(error){return log(profileNameId,'['+botName+'][lamQuest]:\x20'+error,null,![]),null;}}async function getCoin(){const _0x4b70d3=_0x4820b3;try{log(profileNameId,'['+botName+'][getCoin]:\x20Xử\x20lý\x20coin\x20nè');const coin=await genlogin[_0x4b70d3(0x1a2)](profileNameId,subframe,xpath[_0x4b70d3(0x185)],0x7d0);if(!coin)return log(profileNameId,'['+botName+'][getCoin]:\x20Không\x20tìm\x20thấy\x20coin',null,![]),null;return log(profileNameId,'['+botName+_0x4b70d3(0x162)+coin),coin;}catch(error){return log(profileNameId,'['+botName+'][getCoin]:\x20'+error,null,![]),null;}}async function thoigianconlai(thoigianconlai){const _0x2c4ecd=_0x4820b3;try{log(profileNameId,'['+botName+'][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè');let parts=thoigianconlai['split'](':'),hour0=parseInt(parts[0x0]),minute0=parseInt(parts[0x1]),second0=parseInt(parts[0x2]),hours=parseInt(hour0),minutes=parseInt(minute0),seconds=parseInt(second0),totalSeconds=parseInt(hours*0xe10+minutes*0x3c+seconds);const unixTime=Math['floor'](Date[_0x2c4ecd(0x17d)]()/0x3e8),newUnixTime=unixTime+totalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate[_0x2c4ecd(0x187)](),formattedTime=newDate[_0x2c4ecd(0x16d)](_0x2c4ecd(0x191),{'hour12':![]});let NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+_0x2c4ecd(0x1a3)+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x53d218=_0x4820b3;if(Atomics[_0x53d218(0x177)](tasksData,taskIndex)===0x1)return!![];return![];}};