(function(_0x1fbb5d,_0x35bae9){const _0x499964=a0_0x2dd0,_0x57e4d3=_0x1fbb5d();while(!![]){try{const _0x1a7e80=-parseInt(_0x499964(0x198))/0x1*(parseInt(_0x499964(0x1c4))/0x2)+parseInt(_0x499964(0x1a7))/0x3+-parseInt(_0x499964(0x1bd))/0x4*(-parseInt(_0x499964(0x1b3))/0x5)+-parseInt(_0x499964(0x181))/0x6*(-parseInt(_0x499964(0x1b1))/0x7)+-parseInt(_0x499964(0x1ca))/0x8+-parseInt(_0x499964(0x17e))/0x9*(parseInt(_0x499964(0x1ce))/0xa)+-parseInt(_0x499964(0x184))/0xb;if(_0x1a7e80===_0x35bae9)break;else _0x57e4d3['push'](_0x57e4d3['shift']());}catch(_0x2c763b){_0x57e4d3['push'](_0x57e4d3['shift']());}}}(a0_0x59d2,0xb5124));function a0_0x2dd0(_0x430bcb,_0x5395f8){const _0x59d283=a0_0x59d2();return a0_0x2dd0=function(_0x2dd0b6,_0x559bc2){_0x2dd0b6=_0x2dd0b6-0x179;let _0x16ee23=_0x59d283[_0x2dd0b6];return _0x16ee23;},a0_0x2dd0(_0x430bcb,_0x5395f8);}function a0_0x59d2(){const _0x18fbef=['yespacClaim','82xZYQNp','dailyPopupClose','][checkClosePopup]Không\x20click\x20được\x20vào\x20claimDailyReward','centerPoint','][lamQuest]:\x20','][lamQuest]Làm\x20Quest\x20nè','1241608lrSwrx','][checkClosePopup]Không\x20tìm\x20thayas\x20claimDailyReward','Iframe','quest','1790MKojXl','split',']get\x20tọa\x20độ\x20nè','][click]Không\x20click\x20được\x20vào\x20',']Không\x20lấy\x20được\x20centerPoint','][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè','16281NjyQGF','][click][Lỗi]:\x20','][diChuyenChuotZigZag]\x20error:\x20','996mEumCJ','now','Không\x20tìm\x20thấy\x20iframe','9093931xvaWnc',']Lấy\x20được\x20centerPoint\x20','getTextByXPath','toLocaleTimeString','click','][choNhatCoinXong]\x20error:\x20','][checkClosePopup]Không\x20tìm\x20thấy\x20dailyPopupClose','][lamQuest]Tìm\x20thấy\x20quest',']Vào\x20game\x20OK','][getCoin]:\x20Xử\x20lý\x20coin\x20nè','progressValue',']Không\x20tìm\x20thayas\x20closePopup','][checkClosePopup]\x20checkClosePopup\x20nè','][checkClosePopup]\x20error:\x20','][lamQuest]Không\x20click\x20được\x20vào\x20quest',']closePopup\x20OK','00:05:00',']Vào\x20game\x20nè',']Tìm\x20thấy\x20coin:\x20','][Lỗi]:\x20','9574JAxWDY','elementExistsByXPath','NextRunStamp','][checkClosePopup]Click\x20claimDailyReward\x20OK',']lỗi\x20nhặt\x20coin','][diChuyenChuotZigZag]Không\x20tìm\x20thayas\x20centerP','en-GB','Không\x20tìm\x20thấy\x20quest','coin','][getCoin]:\x20Không\x20tìm\x20thấy\x20coin',']Xử\x20lý\x20thoigianconlai\x20OK','message',']Ra\x20game\x20nè',']Không\x20tìm\x20thấy\x20main\x20frame','][diChuyenChuotZigZag]Tìm\x20thayas\x20centerP:\x20','3603243OUTcKo','floor','switchFrame',']Không\x20tìm\x20thấy\x20coin',']không\x20xử\x20lý\x20được\x20thoigianconlai','][checkClosePopup]Tìm\x20thayas\x20dailyPopupClose','][choNhatCoinXong]\x20nhặt\x20coin\x20xong','][getCoin]:\x20Tìm\x20thấy\x20coin:\x20','][click]Click\x20','//p[contains(@class,\x20\x27progress-value\x27)]/text()[1]','32963sioVxF','NextRun','5195yegmQT','moveMouseSpiral',']Không\x20tìm\x20thấy\x20iframe','][choNhatCoinXong]\x20Không\x20tìm\x20thấy\x20coinLeft','][getToaDo]:\x20','][choNhatCoinXong]\x20Tìm\x20thấy\x20coinLeft:\x20',']Đã\x20tìm\x20thấy\x20iframe',']nhặt\x20coin\x20OK','][checkClosePopup]Tìm\x20thấy\x20claimDailyReward','][diChuyenChuotZigZag]\x20diChuyenChuotZigZag\x20nè','1760QXbfXe','][autotap]\x20Đang\x20chờ\x20nhặt\x20coin\x20xong\x20','Không\x20tìm\x20thấy\x20main\x20frame',']nextRunAt:\x20','name','][lamQuest]Không\x20tìm\x20thấy\x20quest'];a0_0x59d2=function(){return _0x18fbef;};return a0_0x59d2();}import{log,json}from'../modules/logger.js';export default async function (context,signal){const _0x2cfeac=a0_0x2dd0,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot[_0x2cfeac(0x1c1)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime;const xpath={'yespacClaim':'(//span[text()=\x27Claim\x27])[1]','dailyPopupClose':'//div[contains(@class,\x27popup-content\x20home-daily-task-popup\x27)]//div[contains(@class,\x27popup-close\x27)]','progressValue':_0x2cfeac(0x1b0),'coin':'//div[contains(@class,\x20\x27content-coin-inner\x27)]'};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x2cfeac(0x1b5),![]);throw new Error(_0x2cfeac(0x183));}log(profileNameId,'['+botName+_0x2cfeac(0x18c)),await delay(0x3e8);const kqClosePopup=await checkClosePopup();!kqClosePopup&&log(profileNameId,'['+botName+_0x2cfeac(0x18f),null,![]);log(profileNameId,'['+botName+_0x2cfeac(0x193)),await delay(0x7d0),await diChuyenChuotZigZag();const kqClaim=await choNhatCoinXong();!kqClaim&&log(profileNameId,'['+botName+_0x2cfeac(0x19c),null,![]);log(profileNameId,'['+botName+_0x2cfeac(0x1ba));const coin=await getCoin();!coin&&log(profileNameId,'['+botName+_0x2cfeac(0x1aa),![]);await http['updateData'](profileNameId,profileNameId,dataId,null,null,coin),log(profileNameId,'['+botName+_0x2cfeac(0x196)+coin);const remainT=await thoigianconlai(_0x2cfeac(0x194));return!remainT&&log(profileNameId,'['+botName+_0x2cfeac(0x1ab),null,![]),log(profileNameId,'['+botName+_0x2cfeac(0x1a2)),log(profileNameId,'['+botName+_0x2cfeac(0x1c0)+remainT[_0x2cfeac(0x1b2)]),{'status':!![],'coin':coin,'nextRun':remainT[_0x2cfeac(0x1b2)],'nextRunStamp':remainT[_0x2cfeac(0x19a)]};}catch(error){log(profileNameId,'['+botName+_0x2cfeac(0x197)+error,![]);}async function vaoGame(){const _0x3bb1d3=_0x2cfeac;try{log(profileNameId,'['+botName+_0x3bb1d3(0x195));const subframe0=await genlogin[_0x3bb1d3(0x1a9)](profileNameId,currentPage,getAks[_0x3bb1d3(0x1cc)],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x3bb1d3(0x1b5),![]);throw new Error(_0x3bb1d3(0x183));}return log(profileNameId,'['+botName+_0x3bb1d3(0x1b9)),subframe0;}catch(error){return log(profileNameId,'['+botName+_0x3bb1d3(0x197)+error,![]),null;}}async function raGame(){const _0x4c8237=_0x2cfeac;try{log(profileNameId,'['+botName+_0x4c8237(0x1a4)),currentPage=genlogin[_0x4c8237(0x1a9)](profileNameId,currentPage,'mainframe',0x7d0);if(!currentPage){log(profileNameId,'['+botName+_0x4c8237(0x1a5),![]);throw new Error(_0x4c8237(0x1bf));}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0x4c8237(0x197)+error,![]),null;}}async function click(xpath){const _0xd4ed5a=_0x2cfeac;try{await delay(0x3e8);const clicked=await genlogin[_0xd4ed5a(0x188)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0xd4ed5a(0x17b)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0xd4ed5a(0x1af)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0xd4ed5a(0x17f)+error,null,![]),null;}}async function checkClosePopup(){const _0x1f870e=_0x2cfeac;try{log(profileNameId,'['+botName+_0x1f870e(0x190));const kqClosePopup=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath['yespacClaim'],0x7d0);if(!kqClosePopup)log(profileNameId,'['+botName+_0x1f870e(0x1cb),null,![]);else{log(profileNameId,'['+botName+_0x1f870e(0x1bb));const clicked=await click(xpath[_0x1f870e(0x1c3)]);!clicked?log(profileNameId,'['+botName+_0x1f870e(0x1c6),null,![]):log(profileNameId,'['+botName+_0x1f870e(0x19b));}await delay(0xbb8);const kqClosePopup2=await genlogin[_0x1f870e(0x199)](profileNameId,subframe,xpath[_0x1f870e(0x1c5)],0x7d0);if(!kqClosePopup2)log(profileNameId,'['+botName+_0x1f870e(0x18a),null,![]);else{log(profileNameId,'['+botName+_0x1f870e(0x1ac));const clicked=await click(xpath[_0x1f870e(0x1c5)]);!clicked?log(profileNameId,'['+botName+'][checkClosePopup]Không\x20click\x20được\x20vào\x20dailyPopupClose',null,![]):log(profileNameId,'['+botName+'][checkClosePopup]Click\x20dailyPopupClose\x20OK');}return await delay(0xbb8),!![];}catch(error){log(profileNameId,'['+botName+_0x1f870e(0x191)+error[_0x1f870e(0x1a3)],null,![]);}}async function getToaDo(){const _0x5bf1f7=_0x2cfeac;try{log(profileNameId,'['+botName+_0x5bf1f7(0x17a));const kqCenterPoint=await genlogin[_0x5bf1f7(0x1c7)](profileNameId,currentPage);if(!kqCenterPoint)return log(profileNameId,'['+botName+_0x5bf1f7(0x17c),null,![]),null;return log(profileNameId,'['+botName+_0x5bf1f7(0x185)+json(kqCenterPoint)),kqCenterPoint;}catch(error){return log(profileNameId,'['+botName+_0x5bf1f7(0x1b7)+error,null,![]),null;}}async function diChuyenChuotZigZag(){const _0x25a5da=_0x2cfeac;try{log(profileNameId,'['+botName+_0x25a5da(0x1bc));const centerP=await getToaDo();if(!centerP)return log(profileNameId,'['+botName+_0x25a5da(0x19d),null,![]),null;return log(profileNameId,'['+botName+_0x25a5da(0x1a6)+json(centerP)),genlogin[_0x25a5da(0x1b4)](profileNameId,currentPage,centerP['x'],centerP['y'],0xfa,0x30d40,0x3c),log(profileNameId,'['+botName+'][diChuyenChuotZigZag]\x20bắt\x20đầu\x20Di\x20chuyển\x20chuột\x20ZigZag'),!![];}catch(error){log(profileNameId,'['+botName+_0x25a5da(0x180)+error['message'],null,![]);}}async function choNhatCoinXong(){const _0x16ac57=_0x2cfeac;try{let maxAttempts=0x78,attempt=0x0;while(attempt<maxAttempts){attempt++;const coinLeft=await genlogin[_0x16ac57(0x186)](profileNameId,subframe,xpath[_0x16ac57(0x18e)],0x7d0);if(!coinLeft)return log(profileNameId,'['+botName+_0x16ac57(0x1b6),![]),null;log(profileNameId,'['+botName+_0x16ac57(0x1b8)+coinLeft);if(parseInt(coinLeft)<=0x32)return log(profileNameId,'['+botName+_0x16ac57(0x1ad)),!![];log(profileNameId,'['+botName+_0x16ac57(0x1be)+coinLeft+'|'+attempt),await delay(0x1388);}return log(profileNameId,'['+botName+'][choNhatCoinXong]\x20Đã\x20đạt\x20đến\x20số\x20lần\x20thử\x20tối\x20đa\x20'+attempt),null;}catch(e){return log(profileNameId,'['+botName+_0x16ac57(0x189)+e[_0x16ac57(0x1a3)],null,![]),null;}}async function lamQuest(){const _0x172265=_0x2cfeac;try{log(profileNameId,'['+botName+_0x172265(0x1c9));const kq10=await genlogin[_0x172265(0x199)](profileNameId,subframe,xpath[_0x172265(0x1cd)],0x7d0);if(!kq10){log(profileNameId,'['+botName+_0x172265(0x1c2),![]);throw new Error(_0x172265(0x19f));}log(profileNameId,'['+botName+_0x172265(0x18b));const clicked=await click(xpath['quest']);if(!clicked){log(profileNameId,'['+botName+_0x172265(0x192),![]);throw new Error('Không\x20click\x20được\x20vào\x20quest');}return log(profileNameId,'['+botName+'][lamQuest]Click\x20quest\x20OK'),!![];}catch(error){return log(profileNameId,'['+botName+_0x172265(0x1c8)+error,null,![]),null;}}async function getCoin(){const _0x51b4ba=_0x2cfeac;try{log(profileNameId,'['+botName+_0x51b4ba(0x18d));const coin=await genlogin[_0x51b4ba(0x186)](profileNameId,subframe,xpath[_0x51b4ba(0x1a0)],0x7d0);if(!coin)return log(profileNameId,'['+botName+_0x51b4ba(0x1a1),null,![]),null;return log(profileNameId,'['+botName+_0x51b4ba(0x1ae)+coin),coin;}catch(error){return log(profileNameId,'['+botName+'][getCoin]:\x20'+error,null,![]),null;}}async function thoigianconlai(thoigianconlai){const _0x70d8ac=_0x2cfeac;try{log(profileNameId,'['+botName+_0x70d8ac(0x17d));let parts=thoigianconlai[_0x70d8ac(0x179)](':'),hour0=parseInt(parts[0x0]),minute0=parseInt(parts[0x1]),second0=parseInt(parts[0x2]),hours=parseInt(hour0),minutes=parseInt(minute0),seconds=parseInt(second0),totalSeconds=parseInt(hours*0xe10+minutes*0x3c+seconds);const unixTime=Math[_0x70d8ac(0x1a8)](Date[_0x70d8ac(0x182)]()/0x3e8),newUnixTime=unixTime+totalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate['toLocaleDateString'](),formattedTime=newDate[_0x70d8ac(0x187)](_0x70d8ac(0x19e),{'hour12':![]});let NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+'][thoigianconlai]:\x20'+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){if(Atomics['load'](tasksData,taskIndex)===0x1)return!![];return![];}};