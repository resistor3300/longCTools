function a0_0x117a(){const _0x10a916=['][checkClosePopup]Click\x20dailyPopupClose\x20OK',']lỗi\x20nhặt\x20coin','][lamQuest]Click\x20quest\x20OK','Không\x20tìm\x20thấy\x20quest','][lamQuest]Không\x20tìm\x20thấy\x20quest',']Không\x20tìm\x20thấy\x20coin','52vQAqxY','24680CIhhQy','][lamQuest]Làm\x20Quest\x20nè','name',']nhặt\x20coin\x20OK','][getCoin]:\x20Không\x20tìm\x20thấy\x20coin',']Không\x20tìm\x20thấy\x20iframe','quest','418706UnGAPy','86352hvMbTZ','00:05:00','][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè','1162356aPvIWF','now','][thoigianconlai]:\x20','7mjjWtB','][checkClosePopup]Không\x20tìm\x20thấy\x20dailyPopupClose','][checkClosePopup]Không\x20tìm\x20thayas\x20claimDailyReward','544836IGoyPI','load',']Không\x20tìm\x20thấy\x20main\x20frame','][choNhatCoinXong]\x20Không\x20tìm\x20thấy\x20coinLeft','message','floor','][lamQuest]Không\x20click\x20được\x20vào\x20quest','][getCoin]:\x20','][Lỗi]:\x20','click','dailyPopupClose','Không\x20tìm\x20thấy\x20main\x20frame','updateData',']Vào\x20game\x20OK','][checkClosePopup]\x20checkClosePopup\x20nè','1fxEtfH','][choNhatCoinXong]\x20Tìm\x20thấy\x20coinLeft:\x20','progressValue','][click][Lỗi]:\x20','][choNhatCoinXong]\x20Đã\x20đạt\x20đến\x20số\x20lần\x20thử\x20tối\x20đa\x20','elementExistsByXPath','//div[contains(@class,\x27popup-content\x20home-daily-task-popup\x27)]//div[contains(@class,\x27popup-close\x27)]',']closePopup\x20OK','11psEMBH','197390vFOjII','][getCoin]:\x20Tìm\x20thấy\x20coin:\x20','][checkClosePopup]Tìm\x20thấy\x20claimDailyReward','][click]Click\x20','][lamQuest]Tìm\x20thấy\x20quest','NextRun','][getCoin]:\x20Xử\x20lý\x20coin\x20nè',']Tìm\x20thấy\x20coin:\x20','][checkClosePopup]Tìm\x20thayas\x20dailyPopupClose','1013924qTCQlJ','Iframe',']Không\x20tìm\x20thayas\x20closePopup','getTextByXPath',']nextRunAt:\x20',']Vào\x20game\x20nè','switchFrame','][checkClosePopup]Click\x20claimDailyReward\x20OK','yespacClaim','][choNhatCoinXong]\x20nhặt\x20coin\x20xong',']Ra\x20game\x20nè','][click]Không\x20click\x20được\x20vào\x20','coin','en-GB','5NxlQvs','423KeFFyH','][checkClosePopup]Không\x20click\x20được\x20vào\x20claimDailyReward','//div[contains(@class,\x20\x27content-coin-inner\x27)]','][choNhatCoinXong]\x20error:\x20','//p[contains(@class,\x20\x27progress-value\x27)]/text()[1]','][checkClosePopup]\x20error:\x20'];a0_0x117a=function(){return _0x10a916;};return a0_0x117a();}(function(_0x40de17,_0x3c1052){const _0x256ad4=a0_0x2bd8,_0x193db8=_0x40de17();while(!![]){try{const _0x1a1496=-parseInt(_0x256ad4(0x1b1))/0x1*(parseInt(_0x256ad4(0x198))/0x2)+-parseInt(_0x256ad4(0x1a2))/0x3+-parseInt(_0x256ad4(0x1c3))/0x4*(-parseInt(_0x256ad4(0x183))/0x5)+-parseInt(_0x256ad4(0x19c))/0x6*(-parseInt(_0x256ad4(0x19f))/0x7)+parseInt(_0x256ad4(0x191))/0x8*(parseInt(_0x256ad4(0x184))/0x9)+-parseInt(_0x256ad4(0x1ba))/0xa*(parseInt(_0x256ad4(0x1b9))/0xb)+parseInt(_0x256ad4(0x199))/0xc*(-parseInt(_0x256ad4(0x190))/0xd);if(_0x1a1496===_0x3c1052)break;else _0x193db8['push'](_0x193db8['shift']());}catch(_0x20e4bf){_0x193db8['push'](_0x193db8['shift']());}}}(a0_0x117a,0x2548a));import{log,json}from'../modules/logger.js';export default async function (context,signal){const _0x82ab37=a0_0x2bd8,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot[_0x82ab37(0x193)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime;const xpath={'yespacClaim':'(//span[text()=\x27Claim\x27])[1]','dailyPopupClose':_0x82ab37(0x1b7),'progressValue':_0x82ab37(0x188),'coin':_0x82ab37(0x186)};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x82ab37(0x196),![]);throw new Error('Không\x20tìm\x20thấy\x20iframe');}log(profileNameId,'['+botName+_0x82ab37(0x1af)),await delay(0x3e8);const kqClosePopup=await checkClosePopup();!kqClosePopup&&log(profileNameId,'['+botName+_0x82ab37(0x1c5),null,![]);log(profileNameId,'['+botName+_0x82ab37(0x1b8)),await delay(0x7d0);const kqClaim=await choNhatCoinXong();!kqClaim&&log(profileNameId,'['+botName+_0x82ab37(0x18b),null,![]);log(profileNameId,'['+botName+_0x82ab37(0x194));const coin=await getCoin();!coin&&log(profileNameId,'['+botName+_0x82ab37(0x18f),![]);await http[_0x82ab37(0x1ae)](profileNameId,profileNameId,dataId,null,null,coin),log(profileNameId,'['+botName+_0x82ab37(0x1c1)+coin);const remainT=await thoigianconlai(_0x82ab37(0x19a));return!remainT&&log(profileNameId,'['+botName+']không\x20xử\x20lý\x20được\x20thoigianconlai',null,![]),log(profileNameId,'['+botName+']Xử\x20lý\x20thoigianconlai\x20OK'),log(profileNameId,'['+botName+_0x82ab37(0x1c7)+remainT[_0x82ab37(0x1bf)]),{'status':!![],'coin':coin,'nextRun':remainT[_0x82ab37(0x1bf)],'nextRunStamp':remainT['NextRunStamp']};}catch(error){log(profileNameId,'['+botName+_0x82ab37(0x1aa)+error,![]);}async function vaoGame(){const _0x375fce=_0x82ab37;try{log(profileNameId,'['+botName+_0x375fce(0x1c8));const subframe0=await genlogin[_0x375fce(0x1c9)](profileNameId,currentPage,getAks[_0x375fce(0x1c4)],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x375fce(0x196),![]);throw new Error('Không\x20tìm\x20thấy\x20iframe');}return log(profileNameId,'['+botName+']Đã\x20tìm\x20thấy\x20iframe'),subframe0;}catch(error){return log(profileNameId,'['+botName+_0x375fce(0x1aa)+error,![]),null;}}async function raGame(){const _0x383544=_0x82ab37;try{log(profileNameId,'['+botName+_0x383544(0x17f)),currentPage=genlogin[_0x383544(0x1c9)](profileNameId,currentPage,'mainframe',0x7d0);if(!currentPage){log(profileNameId,'['+botName+_0x383544(0x1a4),![]);throw new Error(_0x383544(0x1ad));}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0x383544(0x1aa)+error,![]),null;}}async function click(xpath){const _0x17dbe1=_0x82ab37;try{await delay(0x3e8);const clicked=await genlogin[_0x17dbe1(0x1ab)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x17dbe1(0x180)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x17dbe1(0x1bd)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x17dbe1(0x1b4)+error,null,![]),null;}}async function checkClosePopup(){const _0x473634=_0x82ab37;try{log(profileNameId,'['+botName+_0x473634(0x1b0));const kqClosePopup=await genlogin[_0x473634(0x1b6)](profileNameId,subframe,xpath[_0x473634(0x1cb)],0x7d0);if(!kqClosePopup)log(profileNameId,'['+botName+_0x473634(0x1a1),null,![]);else{log(profileNameId,'['+botName+_0x473634(0x1bc));const clicked=await click(xpath['yespacClaim']);!clicked?log(profileNameId,'['+botName+_0x473634(0x185),null,![]):log(profileNameId,'['+botName+_0x473634(0x1ca));}await delay(0xbb8);const kqClosePopup2=await genlogin[_0x473634(0x1b6)](profileNameId,subframe,xpath[_0x473634(0x1ac)],0x7d0);if(!kqClosePopup2)log(profileNameId,'['+botName+_0x473634(0x1a0),null,![]);else{log(profileNameId,'['+botName+_0x473634(0x1c2));const clicked=await click(xpath['dailyPopupClose']);!clicked?log(profileNameId,'['+botName+'][checkClosePopup]Không\x20click\x20được\x20vào\x20dailyPopupClose',null,![]):log(profileNameId,'['+botName+_0x473634(0x18a));}return await delay(0xbb8),!![];}catch(error){log(profileNameId,'['+botName+_0x473634(0x189)+error[_0x473634(0x1a6)],null,![]);}}async function choNhatCoinXong(){const _0x31bf52=_0x82ab37;try{let maxAttempts=0x78,attempt=0x0;while(attempt<maxAttempts){attempt++;const coinLeft=await genlogin[_0x31bf52(0x1c6)](profileNameId,subframe,xpath[_0x31bf52(0x1b3)],0x7d0);if(!coinLeft)return log(profileNameId,'['+botName+_0x31bf52(0x1a5),![]),null;log(profileNameId,'['+botName+_0x31bf52(0x1b2)+coinLeft);if(parseInt(coinLeft)<=0x32)return log(profileNameId,'['+botName+_0x31bf52(0x1cc)),!![];log(profileNameId,'['+botName+'][autotap]\x20Đang\x20chờ\x20nhặt\x20coin\x20xong\x20'+coinLeft+'|'+attempt),await delay(0x1388);}return log(profileNameId,'['+botName+_0x31bf52(0x1b5)+attempt),null;}catch(e){return log(profileNameId,'['+botName+_0x31bf52(0x187)+e['message'],null,![]),null;}}async function lamQuest(){const _0x1cfc2b=_0x82ab37;try{log(profileNameId,'['+botName+_0x1cfc2b(0x192));const kq10=await genlogin[_0x1cfc2b(0x1b6)](profileNameId,subframe,xpath['quest'],0x7d0);if(!kq10){log(profileNameId,'['+botName+_0x1cfc2b(0x18e),![]);throw new Error(_0x1cfc2b(0x18d));}log(profileNameId,'['+botName+_0x1cfc2b(0x1be));const clicked=await click(xpath[_0x1cfc2b(0x197)]);if(!clicked){log(profileNameId,'['+botName+_0x1cfc2b(0x1a8),![]);throw new Error('Không\x20click\x20được\x20vào\x20quest');}return log(profileNameId,'['+botName+_0x1cfc2b(0x18c)),!![];}catch(error){return log(profileNameId,'['+botName+'][lamQuest]:\x20'+error,null,![]),null;}}async function getCoin(){const _0x5e8b54=_0x82ab37;try{log(profileNameId,'['+botName+_0x5e8b54(0x1c0));const coin=await genlogin[_0x5e8b54(0x1c6)](profileNameId,subframe,xpath[_0x5e8b54(0x181)],0x7d0);if(!coin)return log(profileNameId,'['+botName+_0x5e8b54(0x195),null,![]),null;return log(profileNameId,'['+botName+_0x5e8b54(0x1bb)+coin),coin;}catch(error){return log(profileNameId,'['+botName+_0x5e8b54(0x1a9)+error,null,![]),null;}}async function thoigianconlai(thoigianconlai){const _0x154b79=_0x82ab37;try{log(profileNameId,'['+botName+_0x154b79(0x19b));let parts=thoigianconlai['split'](':'),hour0=parseInt(parts[0x0]),minute0=parseInt(parts[0x1]),second0=parseInt(parts[0x2]),hours=parseInt(hour0),minutes=parseInt(minute0),seconds=parseInt(second0),totalSeconds=parseInt(hours*0xe10+minutes*0x3c+seconds);const unixTime=Math[_0x154b79(0x1a7)](Date[_0x154b79(0x19d)]()/0x3e8),newUnixTime=unixTime+totalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate['toLocaleDateString'](),formattedTime=newDate['toLocaleTimeString'](_0x154b79(0x182),{'hour12':![]});let NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+_0x154b79(0x19e)+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x5d8695=_0x82ab37;if(Atomics[_0x5d8695(0x1a3)](tasksData,taskIndex)===0x1)return!![];return![];}}function a0_0x2bd8(_0x12c81a,_0x107aa6){const _0x117a7d=a0_0x117a();return a0_0x2bd8=function(_0x2bd83b,_0xfde31d){_0x2bd83b=_0x2bd83b-0x17f;let _0x1c1fa9=_0x117a7d[_0x2bd83b];return _0x1c1fa9;},a0_0x2bd8(_0x12c81a,_0x107aa6);};