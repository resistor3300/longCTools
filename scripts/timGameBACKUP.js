function a0_0x26b1(_0x2ba9ec,_0x55482c){const _0xb86e7a=a0_0xb86e();return a0_0x26b1=function(_0x26b17d,_0x3c25b7){_0x26b17d=_0x26b17d-0xb6;let _0x12b518=_0xb86e7a[_0x26b17d];return _0x12b518;},a0_0x26b1(_0x2ba9ec,_0x55482c);}(function(_0x579695,_0x2df335){const _0x204cef=a0_0x26b1,_0x57e7a1=_0x579695();while(!![]){try{const _0x27ab35=parseInt(_0x204cef(0x160))/0x1*(-parseInt(_0x204cef(0xe2))/0x2)+parseInt(_0x204cef(0x16a))/0x3*(parseInt(_0x204cef(0xc1))/0x4)+parseInt(_0x204cef(0xdd))/0x5+parseInt(_0x204cef(0x165))/0x6*(parseInt(_0x204cef(0xf6))/0x7)+parseInt(_0x204cef(0x15a))/0x8*(-parseInt(_0x204cef(0x118))/0x9)+parseInt(_0x204cef(0x14e))/0xa*(parseInt(_0x204cef(0x125))/0xb)+-parseInt(_0x204cef(0x120))/0xc;if(_0x27ab35===_0x2df335)break;else _0x57e7a1['push'](_0x57e7a1['shift']());}catch(_0x37d457){_0x57e7a1['push'](_0x57e7a1['shift']());}}}(a0_0xb86e,0x848e2));import{log,json}from'../modules/logger.js';export default async function (context,HostName){const _0x529bea=a0_0x26b1,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot[_0x529bea(0xca)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,_0x529bea(0xf5),null,'i','=');const kqDialogWarnBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x529bea(0xe5)],0x1f4);if(kqDialogWarnBtn){log(profileNameId,'[timGame]Tìm\x20thấy\x20dialogWarnBtn',null,'w');const kqClickDialogWarnBtn=await clickM(getAks['dialogWarnBtn']);!kqClickDialogWarnBtn&&log(profileNameId,_0x529bea(0xc7),null,![]),log(profileNameId,_0x529bea(0x119));}log(profileNameId,_0x529bea(0x169),null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin[_0x529bea(0x143)](profileNameId,currentPage,getAks['Iframe'],0x3e8);if(kq5){log(profileNameId,_0x529bea(0xfd),null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error('Không\x20tắt\x20được\x20game');log(profileNameId,_0x529bea(0xc9));}else break;}if(attempts===maxAttempts){log(profileNameId,_0x529bea(0xcf)+maxAttempts+_0x529bea(0x105),null,![]);throw new Error(_0x529bea(0x12c));}log(profileNameId,_0x529bea(0x101)+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['sideBarRightClose'],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x529bea(0x176),null,![]);else{log(profileNameId,_0x529bea(0x14a));const kqClickSideBarRightClose=await clickM(getAks[_0x529bea(0x138)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x529bea(0x13e),![]);continue;}log(profileNameId,'[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok'),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0x529bea(0x143)](profileNameId,currentPage,getAks['BackArrow'],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x529bea(0x14c),null,![]);else{log(profileNameId,'[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow');const kqClickBackArrow=await clickM(getAks['BackArrow']);if(!kqClickBackArrow){log(profileNameId,'[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow',null,![]);continue;}log(profileNameId,'[timGame]\x20click\x20nút\x20BackArrow\x20ok'),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0x529bea(0x143)](profileNameId,currentPage,getAks['InputSearch'],0x3e8);if(inputsearch){log(profileNameId,_0x529bea(0x14f),null);break;}}const kqClearBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x529bea(0x168)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x529bea(0x16e),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch');const kqClickClearBtn=await clickM(getAks['clearInputSearch']);!kqClickClearBtn?log(profileNameId,_0x529bea(0xe4),![]):log(profileNameId,_0x529bea(0x156));}const kq=await dbClickM(getAks['InputSearch']);if(!kq){log(profileNameId,_0x529bea(0xdf),![]);throw new Error(_0x529bea(0xc5));}log(profileNameId,'[timGame]\x20click\x20inputsearch\x20ok'),await delay(0x3e8);const kq2=await genlogin[_0x529bea(0xdc)](profileNameId,currentPage,getAks[_0x529bea(0xb8)],botName);await delay(0x3e8);if(!kq2){log(profileNameId,_0x529bea(0xd8),![]);throw new Error(_0x529bea(0x137));}log(profileNameId,_0x529bea(0xee)+botName+_0x529bea(0x13d)),await delay(0x1388);const kq3=await genlogin[_0x529bea(0x143)](profileNameId,currentPage,getAks['SearchRes']);if(!kq3){log(profileNameId,'[timGame]Không\x20tìm\x20thấy\x20SearchRes',![]);throw new Error('Không\x20tìm\x20thấy\x20SearchRes');}log(profileNameId,_0x529bea(0xea)),await delay(0x3e8);const kq4=await clickM(getAks[_0x529bea(0x185)]);if(!kq4){log(profileNameId,_0x529bea(0x104),![]);throw new Error('Không\x20click\x20được\x20vào\x20SearchRes');}log(profileNameId,_0x529bea(0x147)),await genlogin['setTitle'](profileNameId,currentPage,profileNameId);if(bot['gui']==='1'){log(profileNameId,_0x529bea(0x17d)),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error('Không\x20check\x20gui\x20được');if(kq10===_0x529bea(0x15b))return log(profileNameId,_0x529bea(0x157)),{'status':'loop'};return await delay(0x3e8),log(profileNameId,_0x529bea(0x116)),await clearVar(),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,_0x529bea(0x183),null,![]),await clearVar(),{'status':!![]};}catch(error){return log(profileNameId,_0x529bea(0xc2)+error,null,![]),await clearVar(),{'status':![]};}async function gui(){const _0x2e5ca4=_0x529bea;try{log(profileNameId,_0x2e5ca4(0x11b),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart===_0x2e5ca4(0x15b))return log(profileNameId,_0x2e5ca4(0x179)),'loop';await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,_0x2e5ca4(0x16c),![]);throw new Error(_0x2e5ca4(0x113));}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,'[timGame][gui]Không\x20load\x20game\x20được',![]);throw new Error('Không\x20load\x20game\x20được');}return await delay(0x3e8),log(profileNameId,_0x2e5ca4(0x152)),!![];}catch(error){return log(profileNameId,_0x2e5ca4(0x171)+error,![]),null;}}async function TatGame(){const _0x590e03=_0x529bea;try{log(profileNameId,_0x590e03(0x11e)+demLoop);const kq7=await genlogin[_0x590e03(0x143)](profileNameId,currentPage,getAks[_0x590e03(0x13c)],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x590e03(0x170)],0x3e8);if(kq9){log(profileNameId,_0x590e03(0x14b));throw new Error(_0x590e03(0x108));}return log(profileNameId,_0x590e03(0x153)),!![];}const kq8=await clickM(getAks['CloseGame']);!kq8&&log(profileNameId,_0x590e03(0xdb),null,![]);log(profileNameId,'[timGame][TatGame]click\x20CloseGame\x20OK'),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,_0x590e03(0xda),![]),!![];}catch(error){return log(profileNameId,_0x590e03(0xf1)+error,![]),null;}}async function closeAnyway(){const _0x488d39=_0x529bea;try{log(profileNameId,_0x488d39(0xce));const kq10=await genlogin[_0x488d39(0x143)](profileNameId,currentPage,getAks[_0x488d39(0xcc)],0x1388);if(!kq10)return log(profileNameId,_0x488d39(0x17a),![]),!![];log(profileNameId,_0x488d39(0xd5)),await delay(0x7d0);const kq11=await clickM(getAks[_0x488d39(0xcc)]);if(!kq11)throw new Error('Không\x20click\x20được\x20vào\x20ForceClosePopup');return log(profileNameId,_0x488d39(0xbb)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x488d39(0x13a)+error,![]),null;}}async function launchConfirm(){const _0x2327dd=_0x529bea;try{log(profileNameId,_0x2327dd(0x180));const kq10=await genlogin[_0x2327dd(0x143)](profileNameId,currentPage,getAks[_0x2327dd(0x177)],0xbb8);if(!kq10)return log(profileNameId,_0x2327dd(0x161),null,![]),null;log(profileNameId,'[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm'),await delay(0x7d0);const kq11=await clickM(getAks[_0x2327dd(0x177)]);if(!kq11)return log(profileNameId,_0x2327dd(0xcd),null,![]),null;return log(profileNameId,_0x2327dd(0x16f)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x2327dd(0x172)+error,![]),null;}}async function checkStartGame(){const _0x213e62=_0x529bea;try{log(profileNameId,_0x213e62(0x181),null,'-');const buttons=[{'xpath':bot[_0x213e62(0x114)],'name':_0x213e62(0x114)},{'xpath':getAks[_0x213e62(0xb7)],'name':_0x213e62(0xb7)},{'xpath':getAks[_0x213e62(0xc3)],'name':_0x213e62(0xc3)},{'xpath':getAks[_0x213e62(0x13b)],'name':'ButtonTextClaim'},{'xpath':getAks['ButtonTextStart'],'name':_0x213e62(0x13f)},{'xpath':getAks[_0x213e62(0xbd)],'name':'ButtonTextLaunch'},{'xpath':getAks[_0x213e62(0xd3)],'name':'ButtonTextMining'},{'xpath':getAks['ButtonInChat'],'name':_0x213e62(0x16d)}],kq=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['FirstStartBtn'],0x3e8);if(!kq)log(profileNameId,'[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game',null,![]);else{log(profileNameId,_0x213e62(0x178)),await delay(0x3e8);const kq1=await clickM(getAks[_0x213e62(0x15f)]);!kq1?log(profileNameId,_0x213e62(0xb6),null,![]):(log(profileNameId,_0x213e62(0xfe)),await delay(0x7d0));}for(let i=0x0;i<buttons[_0x213e62(0x10d)];i++){const button=buttons[i];if(!button[_0x213e62(0x102)])continue;const exists=await genlogin[_0x213e62(0x143)](profileNameId,currentPage,button[_0x213e62(0x102)],0x7d0);if(exists){log(profileNameId,_0x213e62(0x158)+button['name']+_0x213e62(0x126));const clicked=await clickM(button['xpath']);!clicked?log(profileNameId,_0x213e62(0xff)+button[_0x213e62(0xca)],null,![]):log(profileNameId,_0x213e62(0x10e)+button[_0x213e62(0xca)]+_0x213e62(0x17c));await launchConfirm(),await delay(0x3e8);const kqIframe=await genlogin[_0x213e62(0x143)](profileNameId,currentPage,getAks[_0x213e62(0x170)],0x7d0);if(!kqIframe){log(profileNameId,_0x213e62(0x140),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,'[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game',null,![]);throw new Error(_0x213e62(0xf7));}catch(error){return log(profileNameId,_0x213e62(0xd9)+error[_0x213e62(0xf8)],null,![]),null;}}async function checkLoadGame(){const _0x34c2e7=_0x529bea;try{log(profileNameId,'[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game');const tags=[bot['tagGame'],bot['tagGame1'],bot[_0x34c2e7(0xd0)],bot[_0x34c2e7(0x11f)],bot[_0x34c2e7(0x12a)]];if(parseInt(bot[_0x34c2e7(0x163)])===0x1){log(profileNameId,_0x34c2e7(0x16b),null,'w','-');const maxAttempts=0x5,iframeLink=await genlogin[_0x34c2e7(0x12f)](profileNameId,currentPage,getAks[_0x34c2e7(0x170)],_0x34c2e7(0xd2),0x3e8);await delay(0x3e8);if(!iframeLink){log(profileNameId,_0x34c2e7(0x10f),null,![]);throw new Error(_0x34c2e7(0x131));}log(profileNameId,_0x34c2e7(0x146));const kqNewTab=await genlogin['newTab'](profileNameId,browser);if(!kqNewTab){log(profileNameId,_0x34c2e7(0xe7),null,![]);throw new Error(_0x34c2e7(0x167));}log(profileNameId,_0x34c2e7(0x12d));const newPage=await genlogin[_0x34c2e7(0xbf)](profileNameId,browser);if(!newPage){log(profileNameId,_0x34c2e7(0x11d),null,![]);throw new Error(_0x34c2e7(0x175));}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl[_0x34c2e7(0x133)];const kqOpenLink=await genlogin['openUrl'](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe',null,![]);throw new Error('Không\x20mở\x20link\x20iframe');}log(profileNameId,_0x34c2e7(0x154)),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,'[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20'+attempt);for(let i=0x0;i<tags[_0x34c2e7(0x10d)];i++){const result=await genlogin[_0x34c2e7(0x143)](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,_0x34c2e7(0x100)+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x34c2e7(0x11c)+maxAttempts+_0x34c2e7(0x129));throw new Error(_0x34c2e7(0xe9));}else{log(profileNameId,_0x34c2e7(0x132),null,'w','-');const maxAttempts=0x5,subframe=await genlogin[_0x34c2e7(0xd6)](profileNameId,currentPage,getAks[_0x34c2e7(0x170)]);await delay(0x3e8);if(!subframe){log(profileNameId,_0x34c2e7(0x136),null,![]);throw new Error(_0x34c2e7(0x109));}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x34c2e7(0x12e)+attempt);for(let i=0x0;i<tags[_0x34c2e7(0x10d)];i++){const result=await genlogin[_0x34c2e7(0x143)](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,_0x34c2e7(0x100)+tags[i],![]),await genlogin[_0x34c2e7(0xd6)](profileNameId,currentPage,'mainframe'),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x34c2e7(0x11c)+maxAttempts+_0x34c2e7(0x129));throw new Error('Không\x20load\x20được\x20game');}}catch(error){return log(profileNameId,_0x34c2e7(0xe8),null,![]),await genlogin[_0x34c2e7(0xd6)](profileNameId,currentPage,_0x34c2e7(0xbc)),await delay(0x3e8),null;}}async function checkFirstStart(){const _0x505d11=_0x529bea;try{await delay(0x3e8);const FirstStartBtn=await genlogin[_0x505d11(0x143)](profileNameId,currentPage,getAks['FirstStartBtn'],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0x505d11(0x135),null,!![],'-'),log(profileNameId,_0x505d11(0x149)),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0x505d11(0x142),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin[_0x505d11(0x143)](profileNameId,currentPage,getAks[_0x505d11(0xb8)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x505d11(0x14d),null,![]),null;log(profileNameId,'['+botName+_0x505d11(0xbe));const clicked=await dbClickM(getAks[_0x505d11(0xb8)]);if(!clicked)return log(profileNameId,'['+botName+_0x505d11(0x164),null,![]),null;log(profileNameId,'['+botName+_0x505d11(0x150)),await delay(0x3e8);const typeText=await genlogin[_0x505d11(0xdc)](profileNameId,currentPage,getAks['InputSearch'],'Saved\x20Messages',0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x505d11(0xf3),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27'),await delay(0x1388);const kqSearchRes=await genlogin[_0x505d11(0x143)](profileNameId,currentPage,getAks[_0x505d11(0x185)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x505d11(0xef),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes');const clicked1=await clickM(getAks[_0x505d11(0x185)]);if(!clicked1)return log(profileNameId,'['+botName+_0x505d11(0x124),null,![]),null;log(profileNameId,'['+botName+_0x505d11(0x117)),await delay(0x7d0);const xpathRef=_0x505d11(0xb9)+bot[_0x505d11(0x112)]+_0x505d11(0xc6),checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+_0x505d11(0x173)),await reCheckClickStart(),_0x505d11(0x15b);log(profileNameId,'['+botName+'][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref',null,![]),await delay(0x7d0);const checkChatInput=await genlogin[_0x505d11(0x143)](profileNameId,currentPage,getAks[_0x505d11(0x155)],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput',null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput');const click2=await dbClickM(getAks[_0x505d11(0x155)]);!click2?log(profileNameId,'['+botName+_0x505d11(0x166),null,![]):log(profileNameId,'['+botName+'][checkFirstStart]\x20Click\x20ChatInput\x20OK');await delay(0x7d0);const typeText1=await genlogin[_0x505d11(0xdc)](profileNameId,currentPage,getAks[_0x505d11(0x155)],bot[_0x505d11(0x112)],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+_0x505d11(0xe0),null,![]):log(profileNameId,'['+botName+'][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20'+bot[_0x505d11(0x112)]);await delay(0x7d0);const checkBtnSend=await clickM(getAks[_0x505d11(0x121)]);!checkBtnSend?log(profileNameId,'['+botName+_0x505d11(0xd1),null,![]):log(profileNameId,'['+botName+_0x505d11(0xd4));await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+_0x505d11(0xe3)),await reCheckClickStart(),_0x505d11(0x15b);return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20Click\x20được\x20LinkRef'),null;}catch(error){return log(profileNameId,'['+botName+_0x505d11(0xf9)+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0x8ca3dc=_0x529bea;try{await delay(0x3e8);const checkLinkRef=await genlogin[_0x8ca3dc(0x143)](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+_0x8ca3dc(0x144));const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+_0x8ca3dc(0x162),null,![]):log(profileNameId,'['+botName+_0x8ca3dc(0x122));await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+_0x8ca3dc(0x128),null,![]):log(profileNameId,'['+botName+_0x8ca3dc(0x151));const kqCkIframe=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x8ca3dc(0x170)],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+_0x8ca3dc(0x15d),null,![]);const kqCkStartbtn=await genlogin[_0x8ca3dc(0x143)](profileNameId,currentPage,getAks[_0x8ca3dc(0x15f)],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0x8ca3dc(0x115),null,![]),!![];else{log(profileNameId,'['+botName+_0x8ca3dc(0x15e));const clickStart=await clickM(getAks[_0x8ca3dc(0x15f)]);!clickStart&&log(profileNameId,'['+botName+_0x8ca3dc(0xed),null,![]),log(profileNameId,'['+botName+'][clickLinkRef]\x20Click\x20start\x20OK');}}else{log(profileNameId,'['+botName+_0x8ca3dc(0xf0));const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+'][clickLinkRef]Không\x20đóng\x20iframe',null,![]):log(profileNameId,'['+botName+_0x8ca3dc(0xd7));}return!![];}else return log(profileNameId,'['+botName+_0x8ca3dc(0x127)+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+_0x8ca3dc(0x130)+error,null,![]),null;}}async function reCheckClickStart(){const _0x4985be=_0x529bea;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin[_0x4985be(0x143)](profileNameId,currentPage,getAks[_0x4985be(0xb8)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x4985be(0xc8),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch');const clicked=await dbClickM(getAks[_0x4985be(0xb8)]);if(!clicked)return log(profileNameId,'['+botName+'][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch',null,![]),null;log(profileNameId,'['+botName+_0x4985be(0xe6)),await delay(0x3e8);const typeText=await genlogin[_0x4985be(0xdc)](profileNameId,currentPage,getAks[_0x4985be(0xb8)],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x4985be(0x10a),null,![]),null;log(profileNameId,'['+botName+_0x4985be(0x182)),await delay(0x1388);const kqSearchRes=await genlogin[_0x4985be(0x143)](profileNameId,currentPage,getAks[_0x4985be(0x185)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x4985be(0x145),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes');const clicked1=await clickM(getAks[_0x4985be(0x185)]);if(!clicked1)return log(profileNameId,'['+botName+_0x4985be(0x17f),null,![]),null;log(profileNameId,'['+botName+_0x4985be(0x12b)),await delay(0x3e8);const FirstStartBtn1=await genlogin[_0x4985be(0x143)](profileNameId,currentPage,getAks[_0x4985be(0x15f)],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+'][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start'),await delay(0x3e8);const clickStart=await clickM(getAks[_0x4985be(0x15f)]);if(!clickStart)return log(profileNameId,'['+botName+_0x4985be(0x15c),null,![]),null;return log(profileNameId,'['+botName+_0x4985be(0x11a)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+_0x4985be(0x111)+error,null,![]),null;}}async function ShowInputSearch(){const _0x6787fb=_0x529bea;try{log(profileNameId,_0x6787fb(0xc0),null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x6787fb(0x143)](profileNameId,currentPage,getAks[_0x6787fb(0x138)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x6787fb(0xf2),null,![]);else{log(profileNameId,_0x6787fb(0x148));const kqClickSideBarRightClose=await clickM(getAks['sideBarRightClose']);if(!kqClickSideBarRightClose){log(profileNameId,_0x6787fb(0x134),![]);continue;}log(profileNameId,_0x6787fb(0xf4));continue;}const kqCkBackArrow=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x6787fb(0x10c)],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x6787fb(0xfb),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow');const kqClickBackArrow=await clickM(getAks['BackArrow']);if(!kqClickBackArrow){log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow',null,![]);continue;}log(profileNameId,_0x6787fb(0xde));continue;}const inputsearch=await genlogin[_0x6787fb(0x143)](profileNameId,currentPage,getAks[_0x6787fb(0xb8)],0x3e8);if(inputsearch){log(profileNameId,_0x6787fb(0x110),null);break;}}const kqClearBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['clearInputSearch'],0x3e8);if(!kqClearBtn)log(profileNameId,_0x6787fb(0x16e),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch');const kqClickClearBtn=await clickM(getAks['clearInputSearch']);!kqClickClearBtn?log(profileNameId,_0x6787fb(0xe4),![]):log(profileNameId,_0x6787fb(0x156));}const kq=await dbClickM(getAks['InputSearch']);return!kq?log(profileNameId,_0x6787fb(0x159),![]):log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok'),!![];}catch(error){return log(profileNameId,'['+botName+_0x6787fb(0x17b)+error,null,![]),null;}}async function closeIframe(){const _0xb37d7b=_0x529bea;try{log(profileNameId,_0xb37d7b(0x106),null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin[_0xb37d7b(0x143)](profileNameId,currentPage,getAks[_0xb37d7b(0x170)],0x3e8);if(kq5){log(profileNameId,_0xb37d7b(0xcb),null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,_0xb37d7b(0x184),null,![]):log(profileNameId,_0xb37d7b(0x123));}else break;}return null;}catch(error){return log(profileNameId,_0xb37d7b(0x107)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x16f60c=_0x529bea;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+'][click]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x16f60c(0xeb)+xpath+_0x16f60c(0x17c)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x16f60c(0x103)+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x3fdf29=_0x529bea;try{await delay(0x3e8);const clicked=await genlogin[_0x3fdf29(0xe1)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x3fdf29(0xec)+xpath,null,![]),null;return log(profileNameId,'['+botName+'][dbclick]dbclick\x20'+xpath+_0x3fdf29(0x17c)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x3fdf29(0x139)+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x5935d4=_0x529bea;try{const clicked=await genlogin[_0x5935d4(0xe1)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x5935d4(0x174)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x5935d4(0xfc)+xpath+_0x5935d4(0x17c)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x5935d4(0x10b)+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0x39dfb2=_0x529bea;try{const clicked=await genlogin['click'](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x39dfb2(0xc4)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x39dfb2(0x17e)+xpath+_0x39dfb2(0x17c)),clicked;}catch(error){return log(profileNameId,'['+botName+'][dbClickM][Lỗi]:\x20'+error,null,![]),null;}}async function clickP(x,y){const _0x387cd8=_0x529bea;try{await delay(0x3e8);const clicked=await genlogin[_0x387cd8(0xe1)](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+_0x387cd8(0xfa)+x+':'+y,![]);throw new Error(_0x387cd8(0xba)+xpath);}return log(profileNameId,'['+botName+_0x387cd8(0xeb)+x+':'+y+_0x387cd8(0x17c)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x387cd8(0x103)+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x21b911=_0x529bea;if(Atomics[_0x21b911(0x141)](tasksData,taskIndex)===0x1)return!![];return![];}async function clearVar(){currentPage=null,screenData=null,tasksData=null;}}function a0_0xb86e(){const _0x59ebe6=['][clickM][Lỗi]:\x20','BackArrow','length','[timGame][checkStartGame]\x20Click\x20','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','][reCheckClickStart][Lỗi]:\x20','ref','Không\x20start\x20game\x20được','playtag','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','[timGame]Gui\x20ok','][checkFirstStart]Click\x20SearchRes\x20OK','370242fZgjzW','[timGame]Click\x20dialogWarnBtn\x20ok','][reCheckClickStart]\x20Click\x20start\x20OK','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới','[timGame][TatGame]Vào\x20tắt\x20game\x20lần:','tagGame3','9280884tYpOlM','BtnSend','][clickLinkRef]\x20Click\x20LinkRef\x20OK','[closeIframe]TatGame\x20ok','][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes','55QFDJhI','\x20tồn\x20tại','][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20','][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm','\x20lần\x20thử','tagGame4','][reCheckClickStart]Click\x20SearchRes\x20OK','Không\x20tắt\x20được\x20game','[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK','[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20','getAttributeFromXPath','][clickLinkRef][Lỗi]:\x20','Không\x20tìm\x20thấy\x20iframe\x20link','[timGame][checkLoadGame]\x20popup\x20mode','hostname','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe','Không\x20nhập\x20được\x20vào\x20inputsearch','sideBarRightClose','][dbclick][Lỗi]:\x20','[timGame][closeAnyway][Lỗi]:\x20','ButtonTextClaim','CloseGame','\x20ok','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','ButtonTextStart','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','load','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','elementExistsByXPath','][clickLinkRef]tìm\x20thấy\x20LinkRef','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link','[timGame]\x20click\x20SearchRes\x20ok','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game','[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','1543560JKsnvJ','[timGame]tìm\x20thấy\x20inputsearch','][checkFirstStart]Click\x20InputSearch\x20OK','][clickLinkRef]\x20Click\x20launchConfirm\x20OK','[timGame][gui]start\x20game\x20ok','[timGame][TatGame]Tắt\x20game\x20OK','[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK','ChatInput','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok','[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame][checkStartGame]\x20','[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch','8WTrkRa','loop','][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start','][clickLinkRef]Không\x20tìm\x20thấy\x20iframe','][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start','FirstStartBtn','644pnLqBU','[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm','][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef','newTab','][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch','90MyAbkV','][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput','Không\x20mở\x20tab\x20mới','clearInputSearch','[timGame]check\x20tắt\x20game\x20đang\x20mở','69PlnoQU','[timGame][checkLoadGame]newTab\x20mode','[timGame][gui]Không\x20start\x20game\x20được','ButtonInChat','[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch','[timGame][launchConfirm]click\x20LaunchConfirm\x20OK','Iframe','[timGame][gui][Lỗi]:\x20','[timGame][launchConfirm][Lỗi]:\x20','][checkFirstStart]click\x20link\x20ref\x20ok','][clickM]Không\x20click\x20được\x20vào\x20','Không\x20lấy\x20page\x20mới','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','LaunchConfirm','[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start','[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway','][timGame][ShowInputSearch][Lỗi]:\x20','\x20OK','[timGame]Gui','][dbClickM]Click\x20','][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes','[timGame][launchConfirm]check\x20launchConfirm','[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game','][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK','[timGame]NoGui','[closeIframe]Không\x20tắt\x20được\x20game','SearchRes','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start','MainOpenButton','InputSearch','(//a[@href=\x27','Không\x20click\x20được\x20vào\x20','[timGame][closeAnyway]click\x20ForceClosePopup\x20OK','mainFrame','ButtonTextLaunch','][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch','getCurrentPage','[timGame][ShowInputSearch]\x20ShowInputSearch','177772wrOwer','[timGame][Lỗi]1:\x20','ButtonTextPlay','][dbClickM]Không\x20click\x20được\x20vào\x20','Không\x20click\x20được\x20vào\x20inputsearch','\x27])[last()]','[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn','][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch','[timGame][gui]TatGame\x20ok','name','[closeIframe]Đang\x20có\x20game\x20mở','ForceClosePopup','[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm','[timGame][closeAnyway]check\x20close\x20anyway','[timGame][gui]\x20Đã\x20thử\x20','tagGame2','][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend','src','ButtonTextMining','][checkFirstStart]\x20Click\x20BtnSend\x20OK','[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway','switchFrame','][clickLinkRef]\x20Đóng\x20iframe\x20OK','[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch','[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20','[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed','[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame','typeText','2037530QmTovI','[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok','[timGame]Không\x20click\x20được\x20vào\x20inputsearch','][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput','click','2652SvzLaB','][checkFirstStart]Click\x20vào\x20LinkRef\x20ok','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch','dialogWarnBtn','][reCheckClickStart]Click\x20InputSearch\x20OK','[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới','[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game','Không\x20load\x20được\x20game','[timGame]Tìm\x20thấy\x20SearchRes\x20ok','][click]Click\x20','][dbclick]Không\x20dbclick\x20được\x20vào\x20','][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start','[timGame]\x20nhập\x20','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','][clickLinkRef]\x20Tìm\x20thấy\x20iframe','[timGame][TatGame][Lỗi]:\x20','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch','[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame]Tìm\x20Game','4648VXrHsg','Không\x20tìm\x20thấy\x20nút\x20mở\x20game','message','][checkFirstStart][Lỗi]:\x20','][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','][clickM]Click\x20','[timGame][gui]Đang\x20có\x20game\x20mở','[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20','[timGame]Vào\x20Tìm\x20game\x20','xpath','][click][Lỗi]:\x20','[timGame]Không\x20click\x20được\x20vào\x20SearchRes','\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở','[closeIframe]check\x20tắt\x20game\x20đang\x20mở','[closeIframe][Lỗi]:\x20','Không\x20tìm\x20thấy\x20CloseGame','Không\x20tìm\x20thấy\x20iframe','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch'];a0_0xb86e=function(){return _0x59ebe6;};return a0_0xb86e();};