(function(_0x23b41d,_0x5769d5){const _0x16bf7a=a0_0x2d64,_0x4dd2a3=_0x23b41d();while(!![]){try{const _0x9438ba=parseInt(_0x16bf7a(0x228))/0x1+parseInt(_0x16bf7a(0x1d7))/0x2+-parseInt(_0x16bf7a(0x26f))/0x3+-parseInt(_0x16bf7a(0x1fd))/0x4+-parseInt(_0x16bf7a(0x20b))/0x5+parseInt(_0x16bf7a(0x24d))/0x6*(-parseInt(_0x16bf7a(0x1ce))/0x7)+-parseInt(_0x16bf7a(0x25c))/0x8*(-parseInt(_0x16bf7a(0x21c))/0x9);if(_0x9438ba===_0x5769d5)break;else _0x4dd2a3['push'](_0x4dd2a3['shift']());}catch(_0x101ee5){_0x4dd2a3['push'](_0x4dd2a3['shift']());}}}(a0_0x7bd5,0x42d06));import{log,json}from'../modules/logger.js';function a0_0x2d64(_0x4d883e,_0xc8841d){const _0x7bd5ae=a0_0x7bd5();return a0_0x2d64=function(_0x2d64df,_0x40c02f){_0x2d64df=_0x2d64df-0x1b6;let _0x37ee46=_0x7bd5ae[_0x2d64df];return _0x37ee46;},a0_0x2d64(_0x4d883e,_0xc8841d);}export default async function (context,HostName){const _0x1634ec=a0_0x2d64,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot[_0x1634ec(0x23d)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,_0x1634ec(0x256),null,'i','=');const kqDialogWarnBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x1634ec(0x1ff)],0x1f4);if(kqDialogWarnBtn){log(profileNameId,_0x1634ec(0x240),null,'w');const kqClickDialogWarnBtn=await clickM(getAks[_0x1634ec(0x1ff)]);!kqClickDialogWarnBtn&&log(profileNameId,'[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn',null,![]),log(profileNameId,_0x1634ec(0x1ca));}log(profileNameId,_0x1634ec(0x1f3),null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin[_0x1634ec(0x1cb)](profileNameId,currentPage,getAks[_0x1634ec(0x27b)],0x3e8);if(kq5){log(profileNameId,_0x1634ec(0x221),null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error('Không\x20tắt\x20được\x20game');log(profileNameId,_0x1634ec(0x1b9));}else break;}if(attempts===maxAttempts){log(profileNameId,_0x1634ec(0x215)+maxAttempts+_0x1634ec(0x232),null,![]);throw new Error(_0x1634ec(0x206));}log(profileNameId,_0x1634ec(0x213)+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x1634ec(0x1cb)](profileNameId,currentPage,getAks[_0x1634ec(0x26b)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,'[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose',null,![]);else{log(profileNameId,'[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose');const kqClickSideBarRightClose=await clickM(getAks[_0x1634ec(0x26b)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x1634ec(0x24b),![]);continue;}log(profileNameId,_0x1634ec(0x1df)),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0x1634ec(0x1cb)](profileNameId,currentPage,getAks[_0x1634ec(0x1e7)],0x3e8);if(!kqCkBackArrow)log(profileNameId,'[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow',null,![]);else{log(profileNameId,'[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow');const kqClickBackArrow=await clickM(getAks[_0x1634ec(0x1e7)]);if(!kqClickBackArrow){log(profileNameId,_0x1634ec(0x1ba),null,![]);continue;}log(profileNameId,'[timGame]\x20click\x20nút\x20BackArrow\x20ok'),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0x1634ec(0x1cb)](profileNameId,currentPage,getAks[_0x1634ec(0x248)],0x3e8);if(inputsearch){log(profileNameId,_0x1634ec(0x205),null);break;}}const kqClearBtn=await genlogin[_0x1634ec(0x1cb)](profileNameId,currentPage,getAks[_0x1634ec(0x27a)],0x3e8);if(!kqClearBtn)log(profileNameId,'[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch',null,![]);else{log(profileNameId,_0x1634ec(0x20d));const kqClickClearBtn=await clickM(getAks[_0x1634ec(0x27a)]);!kqClickClearBtn?log(profileNameId,_0x1634ec(0x260),![]):log(profileNameId,_0x1634ec(0x27d));}const kq=await dbClickM(getAks[_0x1634ec(0x248)]);if(!kq){log(profileNameId,_0x1634ec(0x23a),![]);throw new Error(_0x1634ec(0x1c4));}log(profileNameId,'[timGame]\x20click\x20inputsearch\x20ok'),await delay(0x3e8);const kq2=await genlogin[_0x1634ec(0x258)](profileNameId,currentPage,getAks[_0x1634ec(0x248)],botName);await delay(0x3e8);if(!kq2){log(profileNameId,'[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch',![]);throw new Error(_0x1634ec(0x1ed));}log(profileNameId,_0x1634ec(0x22f)+botName+_0x1634ec(0x1be)),await delay(0x1388);const kq3=await genlogin[_0x1634ec(0x1cb)](profileNameId,currentPage,getAks[_0x1634ec(0x1d4)]);if(!kq3){log(profileNameId,_0x1634ec(0x208),![]);throw new Error(_0x1634ec(0x209));}log(profileNameId,'[timGame]Tìm\x20thấy\x20SearchRes\x20ok'),await delay(0x3e8);const kq4=await clickM(getAks[_0x1634ec(0x1d4)]);if(!kq4){log(profileNameId,_0x1634ec(0x1d9),![]);throw new Error(_0x1634ec(0x1c0));}log(profileNameId,_0x1634ec(0x202)),await genlogin[_0x1634ec(0x24a)](profileNameId,currentPage,profileNameId);if(bot[_0x1634ec(0x1b8)]==='1'){log(profileNameId,_0x1634ec(0x1c1)),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error(_0x1634ec(0x1bd));if(kq10===_0x1634ec(0x20e))return log(profileNameId,_0x1634ec(0x20f)),{'status':_0x1634ec(0x20e)};return await delay(0x3e8),log(profileNameId,_0x1634ec(0x257)),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,'[timGame]NoGui',null,![]),{'status':!![]};}catch(error){return log(profileNameId,'[timGame][Lỗi]1:\x20'+error,null,![]),{'status':![]};}async function gui(){const _0x53b372=_0x1634ec;try{log(profileNameId,_0x53b372(0x278),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart==='loop')return log(profileNameId,'[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro'),'loop';await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,'[timGame][gui]Không\x20start\x20game\x20được',![]);throw new Error(_0x53b372(0x21f));}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,_0x53b372(0x1eb),![]);throw new Error(_0x53b372(0x262));}return await delay(0x3e8),log(profileNameId,_0x53b372(0x219)),!![];}catch(error){return log(profileNameId,_0x53b372(0x249)+error,![]),null;}}async function TatGame(){const _0x3ff2f6=_0x1634ec;try{log(profileNameId,_0x3ff2f6(0x242)+demLoop);const kq7=await genlogin[_0x3ff2f6(0x1cb)](profileNameId,currentPage,getAks[_0x3ff2f6(0x1c7)],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin[_0x3ff2f6(0x1cb)](profileNameId,currentPage,getAks[_0x3ff2f6(0x27b)],0x3e8);if(kq9){log(profileNameId,_0x3ff2f6(0x25f));throw new Error('Không\x20tìm\x20thấy\x20CloseGame');}return log(profileNameId,_0x3ff2f6(0x1b7)),!![];}const kq8=await clickM(getAks[_0x3ff2f6(0x1c7)]);!kq8&&log(profileNameId,_0x3ff2f6(0x263),null,![]);log(profileNameId,_0x3ff2f6(0x1f4)),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,_0x3ff2f6(0x1fa),![]),!![];}catch(error){return log(profileNameId,'[timGame][TatGame][Lỗi]:\x20'+error,![]),null;}}async function closeAnyway(){const _0x2b8a44=_0x1634ec;try{log(profileNameId,_0x2b8a44(0x1d5));const kq10=await genlogin[_0x2b8a44(0x1cb)](profileNameId,currentPage,getAks['ForceClosePopup'],0x1388);if(!kq10)return log(profileNameId,_0x2b8a44(0x1fe),![]),!![];log(profileNameId,_0x2b8a44(0x1ec)),await delay(0x7d0);const kq11=await clickM(getAks[_0x2b8a44(0x1bb)]);if(!kq11)throw new Error('Không\x20click\x20được\x20vào\x20ForceClosePopup');return log(profileNameId,_0x2b8a44(0x1b6)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'[timGame][closeAnyway][Lỗi]:\x20'+error,![]),null;}}async function launchConfirm(){const _0x1a0392=_0x1634ec;try{log(profileNameId,_0x1a0392(0x1e6));const kq10=await genlogin[_0x1a0392(0x1cb)](profileNameId,currentPage,getAks[_0x1a0392(0x234)],0xbb8);if(!kq10)return log(profileNameId,_0x1a0392(0x1c2),null,![]),null;log(profileNameId,_0x1a0392(0x227)),await delay(0x7d0);const kq11=await clickM(getAks[_0x1a0392(0x234)]);if(!kq11)return log(profileNameId,'[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm',null,![]),null;return log(profileNameId,_0x1a0392(0x22b)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x1a0392(0x276)+error,![]),null;}}async function checkStartGame(){const _0x357824=_0x1634ec;try{log(profileNameId,'[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game',null,'-');const buttons=[{'xpath':bot['playtag'],'name':_0x357824(0x275)},{'xpath':getAks['MainOpenButton'],'name':'MainOpenButton'},{'xpath':getAks[_0x357824(0x1d1)],'name':_0x357824(0x1d1)},{'xpath':getAks[_0x357824(0x1da)],'name':_0x357824(0x1da)},{'xpath':getAks['ButtonTextStart'],'name':_0x357824(0x255)},{'xpath':getAks[_0x357824(0x1c9)],'name':_0x357824(0x1c9)},{'xpath':getAks[_0x357824(0x20a)],'name':'ButtonTextMining'},{'xpath':getAks[_0x357824(0x1d6)],'name':_0x357824(0x1d6)}],kq=await genlogin[_0x357824(0x1cb)](profileNameId,currentPage,getAks[_0x357824(0x24f)],0x3e8);if(!kq)log(profileNameId,_0x357824(0x1d2),null,![]);else{log(profileNameId,_0x357824(0x20c)),await delay(0x3e8);const kq1=await clickM(getAks[_0x357824(0x24f)]);!kq1?log(profileNameId,_0x357824(0x23f),null,![]):(log(profileNameId,'[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK'),await delay(0x7d0));}for(let i=0x0;i<buttons[_0x357824(0x1db)];i++){const button=buttons[i];if(!button[_0x357824(0x231)])continue;const exists=await genlogin[_0x357824(0x1cb)](profileNameId,currentPage,button[_0x357824(0x231)],0x7d0);if(exists){log(profileNameId,_0x357824(0x22d)+button['name']+_0x357824(0x1ea));const clicked=await clickM(button[_0x357824(0x231)]);!clicked?log(profileNameId,_0x357824(0x253)+button[_0x357824(0x23d)],null,![]):log(profileNameId,_0x357824(0x24c)+button['name']+_0x357824(0x1f8));await launchConfirm(),await delay(0x3e8);const kqIframe=await genlogin[_0x357824(0x1cb)](profileNameId,currentPage,getAks[_0x357824(0x27b)],0x7d0);if(!kqIframe){log(profileNameId,_0x357824(0x1e2),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,'[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game',null,![]);throw new Error(_0x357824(0x211));}catch(error){return log(profileNameId,_0x357824(0x1cf)+error[_0x357824(0x23e)],null,![]),null;}}async function checkLoadGame(){const _0x5c8f44=_0x1634ec;try{log(profileNameId,'[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game');const tags=[bot[_0x5c8f44(0x245)],bot[_0x5c8f44(0x233)],bot[_0x5c8f44(0x24e)],bot[_0x5c8f44(0x21e)],bot[_0x5c8f44(0x1c5)]];if(parseInt(bot[_0x5c8f44(0x1c8)])===0x1){log(profileNameId,'[timGame][checkLoadGame]newTab\x20mode',null,'w','-');const maxAttempts=0x5,iframeLink=await genlogin[_0x5c8f44(0x1bc)](profileNameId,currentPage,getAks[_0x5c8f44(0x27b)],_0x5c8f44(0x21b),0x3e8);await delay(0x3e8);if(!iframeLink){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link',null,![]);throw new Error(_0x5c8f44(0x238));}log(profileNameId,'[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link');const kqNewTab=await genlogin[_0x5c8f44(0x1c8)](profileNameId,browser);if(!kqNewTab){log(profileNameId,_0x5c8f44(0x1f1),null,![]);throw new Error('Không\x20mở\x20tab\x20mới');}log(profileNameId,'[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK');const newPage=await genlogin[_0x5c8f44(0x1f0)](profileNameId,browser);if(!newPage){log(profileNameId,_0x5c8f44(0x203),null,![]);throw new Error(_0x5c8f44(0x223));}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl[_0x5c8f44(0x270)];const kqOpenLink=await genlogin[_0x5c8f44(0x277)](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,_0x5c8f44(0x1f6),null,![]);throw new Error(_0x5c8f44(0x241));}log(profileNameId,'[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK'),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x5c8f44(0x21a)+attempt);for(let i=0x0;i<tags[_0x5c8f44(0x1db)];i++){const result=await genlogin['elementExistsByXPath'](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,_0x5c8f44(0x207)+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x5c8f44(0x226)+maxAttempts+'\x20lần\x20thử');throw new Error(_0x5c8f44(0x21d));}else{log(profileNameId,_0x5c8f44(0x26d),null,'w','-');const maxAttempts=0x5,subframe=await genlogin[_0x5c8f44(0x23c)](profileNameId,currentPage,getAks[_0x5c8f44(0x27b)]);await delay(0x3e8);if(!subframe){log(profileNameId,_0x5c8f44(0x250),null,![]);throw new Error(_0x5c8f44(0x268));}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x5c8f44(0x21a)+attempt);for(let i=0x0;i<tags[_0x5c8f44(0x1db)];i++){const result=await genlogin[_0x5c8f44(0x1cb)](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,_0x5c8f44(0x207)+tags[i],![]),await genlogin[_0x5c8f44(0x23c)](profileNameId,currentPage,'mainframe'),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x5c8f44(0x226)+maxAttempts+_0x5c8f44(0x220));throw new Error(_0x5c8f44(0x21d));}}catch(error){return log(profileNameId,'[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game',null,![]),await genlogin[_0x5c8f44(0x23c)](profileNameId,currentPage,_0x5c8f44(0x246)),await delay(0x3e8),null;}}async function checkFirstStart(){const _0x58db7c=_0x1634ec;try{await delay(0x3e8);const FirstStartBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x58db7c(0x24f)],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0x58db7c(0x254),null,!![],'-'),log(profileNameId,_0x58db7c(0x218)),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0x58db7c(0x1dd),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin[_0x58db7c(0x1cb)](profileNameId,currentPage,getAks[_0x58db7c(0x248)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x58db7c(0x217),null,![]),null;log(profileNameId,'['+botName+_0x58db7c(0x25e));const clicked=await dbClickM(getAks[_0x58db7c(0x248)]);if(!clicked)return log(profileNameId,'['+botName+_0x58db7c(0x224),null,![]),null;log(profileNameId,'['+botName+_0x58db7c(0x230)),await delay(0x3e8);const typeText=await genlogin['typeText'](profileNameId,currentPage,getAks['InputSearch'],'Saved\x20Messages',0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch',null,![]),null;log(profileNameId,'['+botName+_0x58db7c(0x1e0)),await delay(0x1388);const kqSearchRes=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x58db7c(0x1d4)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x58db7c(0x1e3),null,![]),null;log(profileNameId,'['+botName+_0x58db7c(0x259));const clicked1=await clickM(getAks[_0x58db7c(0x1d4)]);if(!clicked1)return log(profileNameId,'['+botName+_0x58db7c(0x273),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]Click\x20SearchRes\x20OK'),await delay(0x7d0);const xpathRef=_0x58db7c(0x239)+bot[_0x58db7c(0x1f5)]+'\x27])[last()]',checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+_0x58db7c(0x25b)),await reCheckClickStart(),_0x58db7c(0x20e);log(profileNameId,'['+botName+'][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref',null,![]),await delay(0x7d0);const checkChatInput=await genlogin[_0x58db7c(0x1cb)](profileNameId,currentPage,getAks[_0x58db7c(0x201)],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+_0x58db7c(0x267),null,![]),null;log(profileNameId,'['+botName+_0x58db7c(0x1c3));const click2=await dbClickM(getAks[_0x58db7c(0x201)]);!click2?log(profileNameId,'['+botName+_0x58db7c(0x261),null,![]):log(profileNameId,'['+botName+'][checkFirstStart]\x20Click\x20ChatInput\x20OK');await delay(0x7d0);const typeText1=await genlogin[_0x58db7c(0x258)](profileNameId,currentPage,getAks['ChatInput'],bot[_0x58db7c(0x1f5)],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+_0x58db7c(0x1c6),null,![]):log(profileNameId,'['+botName+_0x58db7c(0x1e9)+bot[_0x58db7c(0x1f5)]);await delay(0x7d0);const checkBtnSend=await clickM(getAks[_0x58db7c(0x237)]);!checkBtnSend?log(profileNameId,'['+botName+_0x58db7c(0x26a),null,![]):log(profileNameId,'['+botName+'][checkFirstStart]\x20Click\x20BtnSend\x20OK');await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+_0x58db7c(0x1e4)),await reCheckClickStart(),_0x58db7c(0x20e);return log(profileNameId,'['+botName+_0x58db7c(0x25d)),null;}catch(error){return log(profileNameId,'['+botName+'][checkFirstStart][Lỗi]:\x20'+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0x5eb2ee=_0x1634ec;try{await delay(0x3e8);const checkLinkRef=await genlogin['elementExistsByXPath'](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+'][clickLinkRef]tìm\x20thấy\x20LinkRef');const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+_0x5eb2ee(0x243),null,![]):log(profileNameId,'['+botName+_0x5eb2ee(0x1f9));await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+_0x5eb2ee(0x1e1),null,![]):log(profileNameId,'['+botName+_0x5eb2ee(0x1bf));const kqCkIframe=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['Iframe'],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+_0x5eb2ee(0x1fc),null,![]);const kqCkStartbtn=await genlogin[_0x5eb2ee(0x1cb)](profileNameId,currentPage,getAks[_0x5eb2ee(0x24f)],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0x5eb2ee(0x265),null,![]),!![];else{log(profileNameId,'['+botName+_0x5eb2ee(0x1d3));const clickStart=await clickM(getAks[_0x5eb2ee(0x24f)]);!clickStart&&log(profileNameId,'['+botName+_0x5eb2ee(0x26e),null,![]),log(profileNameId,'['+botName+_0x5eb2ee(0x1de));}}else{log(profileNameId,'['+botName+_0x5eb2ee(0x236));const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+_0x5eb2ee(0x251),null,![]):log(profileNameId,'['+botName+'][clickLinkRef]\x20Đóng\x20iframe\x20OK');}return!![];}else return log(profileNameId,'['+botName+_0x5eb2ee(0x274)+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+_0x5eb2ee(0x1e5)+error,null,![]),null;}}async function reCheckClickStart(){const _0x4d60c1=_0x1634ec;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x4d60c1(0x248)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x4d60c1(0x23b),null,![]),null;log(profileNameId,'['+botName+_0x4d60c1(0x1d8));const clicked=await dbClickM(getAks['InputSearch']);if(!clicked)return log(profileNameId,'['+botName+_0x4d60c1(0x1fb),null,![]),null;log(profileNameId,'['+botName+_0x4d60c1(0x247)),await delay(0x3e8);const typeText=await genlogin[_0x4d60c1(0x258)](profileNameId,currentPage,getAks[_0x4d60c1(0x248)],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x4d60c1(0x1e8),null,![]),null;log(profileNameId,'['+botName+_0x4d60c1(0x252)),await delay(0x1388);const kqSearchRes=await genlogin[_0x4d60c1(0x1cb)](profileNameId,currentPage,getAks[_0x4d60c1(0x1d4)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x4d60c1(0x200),null,![]),null;log(profileNameId,'['+botName+_0x4d60c1(0x264));const clicked1=await clickM(getAks['SearchRes']);if(!clicked1)return log(profileNameId,'['+botName+_0x4d60c1(0x266),null,![]),null;log(profileNameId,'['+botName+_0x4d60c1(0x204)),await delay(0x3e8);const FirstStartBtn1=await genlogin[_0x4d60c1(0x1cb)](profileNameId,currentPage,getAks[_0x4d60c1(0x24f)],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+'][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start'),await delay(0x3e8);const clickStart=await clickM(getAks[_0x4d60c1(0x24f)]);if(!clickStart)return log(profileNameId,'['+botName+'][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start',null,![]),null;return log(profileNameId,'['+botName+_0x4d60c1(0x1d0)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+_0x4d60c1(0x1ee)+error,null,![]),null;}}async function ShowInputSearch(){const _0x4447cb=_0x1634ec;try{log(profileNameId,_0x4447cb(0x279),null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x4447cb(0x1cb)](profileNameId,currentPage,getAks[_0x4447cb(0x26b)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x4447cb(0x212),null,![]);else{log(profileNameId,_0x4447cb(0x1f2));const kqClickSideBarRightClose=await clickM(getAks[_0x4447cb(0x26b)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x4447cb(0x222),![]);continue;}log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok');continue;}const kqCkBackArrow=await genlogin[_0x4447cb(0x1cb)](profileNameId,currentPage,getAks['BackArrow'],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x4447cb(0x229),null,![]);else{log(profileNameId,_0x4447cb(0x1dc));const kqClickBackArrow=await clickM(getAks[_0x4447cb(0x1e7)]);if(!kqClickBackArrow){log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow',null,![]);continue;}log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok');continue;}const inputsearch=await genlogin[_0x4447cb(0x1cb)](profileNameId,currentPage,getAks[_0x4447cb(0x248)],0x3e8);if(inputsearch){log(profileNameId,_0x4447cb(0x235),null);break;}}const kqClearBtn=await genlogin[_0x4447cb(0x1cb)](profileNameId,currentPage,getAks[_0x4447cb(0x27a)],0x3e8);if(!kqClearBtn)log(profileNameId,'[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch',null,![]);else{log(profileNameId,_0x4447cb(0x20d));const kqClickClearBtn=await clickM(getAks[_0x4447cb(0x27a)]);!kqClickClearBtn?log(profileNameId,_0x4447cb(0x260),![]):log(profileNameId,_0x4447cb(0x27d));}const kq=await dbClickM(getAks[_0x4447cb(0x248)]);return!kq?log(profileNameId,'[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch',![]):log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok'),!![];}catch(error){return log(profileNameId,'['+botName+_0x4447cb(0x1ef)+error,null,![]),null;}}async function closeIframe(){const _0x5aa340=_0x1634ec;try{log(profileNameId,'[closeIframe]check\x20tắt\x20game\x20đang\x20mở',null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin[_0x5aa340(0x1cb)](profileNameId,currentPage,getAks['Iframe'],0x3e8);if(kq5){log(profileNameId,_0x5aa340(0x27e),null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,_0x5aa340(0x26c),null,![]):log(profileNameId,_0x5aa340(0x25a));}else break;}return null;}catch(error){return log(profileNameId,_0x5aa340(0x271)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0xc2474b=_0x1634ec;try{await delay(0x3e8);const clicked=await genlogin[_0xc2474b(0x216)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0xc2474b(0x244)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0xc2474b(0x27c)+xpath+_0xc2474b(0x1f8)),clicked;}catch(error){return log(profileNameId,'['+botName+_0xc2474b(0x22e)+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x3ff7ee=_0x1634ec;try{await delay(0x3e8);const clicked=await genlogin[_0x3ff7ee(0x216)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x3ff7ee(0x214)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x3ff7ee(0x1cd)+xpath+_0x3ff7ee(0x1f8)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x3ff7ee(0x1cc)+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x34c2b6=_0x1634ec;try{const clicked=await genlogin[_0x34c2b6(0x216)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x34c2b6(0x22c)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x34c2b6(0x272)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x34c2b6(0x225)+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0x1e57d5=_0x1634ec;try{const clicked=await genlogin[_0x1e57d5(0x216)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+'][dbClickM]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x1e57d5(0x1f7)+xpath+_0x1e57d5(0x1f8)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x1e57d5(0x22a)+error,null,![]),null;}}async function clickP(x,y){const _0x4fa228=_0x1634ec;try{await delay(0x3e8);const clicked=await genlogin[_0x4fa228(0x216)](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+_0x4fa228(0x210)+x+':'+y,![]);throw new Error(_0x4fa228(0x269)+xpath);}return log(profileNameId,'['+botName+'][click]Click\x20'+x+':'+y+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x4fa228(0x22e)+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){if(Atomics['load'](tasksData,taskIndex)===0x1)return!![];return![];}};function a0_0x7bd5(){const _0x52e8e2=['message','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start','[timGame]Tìm\x20thấy\x20dialogWarnBtn','Không\x20mở\x20link\x20iframe','[timGame][TatGame]Vào\x20tắt\x20game\x20lần:','][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef','][click]Không\x20click\x20được\x20vào\x20','tagGame','mainFrame','][reCheckClickStart]Click\x20InputSearch\x20OK','InputSearch','[timGame][gui][Lỗi]:\x20','setTitle','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','[timGame][checkStartGame]\x20Click\x20','24XdMNxi','tagGame2','FirstStartBtn','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe','][clickLinkRef]Không\x20đóng\x20iframe','][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','ButtonTextStart','[timGame]Tìm\x20Game','[timGame]Gui\x20ok','typeText','][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes','[closeIframe]TatGame\x20ok','][checkFirstStart]click\x20link\x20ref\x20ok','7990144WaWBCs','][checkFirstStart]Không\x20Click\x20được\x20LinkRef','][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch','[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch','][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput','Không\x20load\x20game\x20được','[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame','][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes','][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput','Không\x20tìm\x20thấy\x20iframe','Không\x20click\x20được\x20vào\x20','][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend','sideBarRightClose','[closeIframe]Không\x20tắt\x20được\x20game','[timGame][checkLoadGame]\x20popup\x20mode','][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start','900858YZKmaR','hostname','[closeIframe][Lỗi]:\x20','][clickM]Click\x20','][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes','][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20','playtag','[timGame][launchConfirm][Lỗi]:\x20','openUrl','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','[timGame][ShowInputSearch]\x20ShowInputSearch','clearInputSearch','Iframe','][click]Click\x20','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok','[closeIframe]Đang\x20có\x20game\x20mở','[timGame][closeAnyway]click\x20ForceClosePopup\x20OK','[timGame][TatGame]Tắt\x20game\x20OK','gui','[timGame][gui]TatGame\x20ok','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','ForceClosePopup','getAttributeFromXPath','Không\x20check\x20gui\x20được','\x20ok','][clickLinkRef]\x20Click\x20launchConfirm\x20OK','Không\x20click\x20được\x20vào\x20SearchRes','[timGame]Gui','[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm','][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput','Không\x20click\x20được\x20vào\x20inputsearch','tagGame4','][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput','CloseGame','newTab','ButtonTextLaunch','[timGame]Click\x20dialogWarnBtn\x20ok','elementExistsByXPath','][dbclick][Lỗi]:\x20','][dbclick]dbclick\x20','654780xZMVvH','[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20','][reCheckClickStart]\x20Click\x20start\x20OK','ButtonTextPlay','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game','][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start','SearchRes','[timGame][closeAnyway]check\x20close\x20anyway','ButtonInChat','248448KETUAb','][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch','[timGame]Không\x20click\x20được\x20vào\x20SearchRes','ButtonTextClaim','length','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','][clickLinkRef]\x20Click\x20start\x20OK','[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok','][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27','][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','][checkFirstStart]Click\x20vào\x20LinkRef\x20ok','][clickLinkRef][Lỗi]:\x20','[timGame][launchConfirm]check\x20launchConfirm','BackArrow','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch','][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20','\x20tồn\x20tại','[timGame][gui]Không\x20load\x20game\x20được','[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway','Không\x20nhập\x20được\x20vào\x20inputsearch','][reCheckClickStart][Lỗi]:\x20','][timGame][ShowInputSearch][Lỗi]:\x20','getCurrentPage','[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame]check\x20tắt\x20game\x20đang\x20mở','[timGame][TatGame]click\x20CloseGame\x20OK','ref','[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe','][dbClickM]Click\x20','\x20OK','][clickLinkRef]\x20Click\x20LinkRef\x20OK','[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed','][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch','][clickLinkRef]Không\x20tìm\x20thấy\x20iframe','1516168DizkzW','[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway','dialogWarnBtn','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','ChatInput','[timGame]\x20click\x20SearchRes\x20ok','[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới','][reCheckClickStart]Click\x20SearchRes\x20OK','[timGame]tìm\x20thấy\x20inputsearch','Không\x20tắt\x20được\x20game','[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20','[timGame]Không\x20tìm\x20thấy\x20SearchRes','Không\x20tìm\x20thấy\x20SearchRes','ButtonTextMining','975040CkIfnx','[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch','loop','[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro','][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20','Không\x20tìm\x20thấy\x20nút\x20mở\x20game','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame]Vào\x20Tìm\x20game\x20','][dbclick]Không\x20dbclick\x20được\x20vào\x20','[timGame][gui]\x20Đã\x20thử\x20','click','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game','[timGame][gui]start\x20game\x20ok','[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20','src','9wyQiYr','Không\x20load\x20được\x20game','tagGame3','Không\x20start\x20game\x20được','\x20lần\x20thử','[timGame][gui]Đang\x20có\x20game\x20mở','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','Không\x20lấy\x20page\x20mới','][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch','][clickM][Lỗi]:\x20','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm','399174AgVmrp','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','][dbClickM][Lỗi]:\x20','[timGame][launchConfirm]click\x20LaunchConfirm\x20OK','][clickM]Không\x20click\x20được\x20vào\x20','[timGame][checkStartGame]\x20','][click][Lỗi]:\x20','[timGame]\x20nhập\x20','][checkFirstStart]Click\x20InputSearch\x20OK','xpath','\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở','tagGame1','LaunchConfirm','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','][clickLinkRef]\x20Tìm\x20thấy\x20iframe','BtnSend','Không\x20tìm\x20thấy\x20iframe\x20link','(//a[@href=\x27','[timGame]Không\x20click\x20được\x20vào\x20inputsearch','][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch','switchFrame','name'];a0_0x7bd5=function(){return _0x52e8e2;};return a0_0x7bd5();}