(function(_0x4b261f,_0x478b29){const _0xa0babb=a0_0x2dbb,_0x48fb15=_0x4b261f();while(!![]){try{const _0x20e850=-parseInt(_0xa0babb(0x16c))/0x1+-parseInt(_0xa0babb(0x158))/0x2+parseInt(_0xa0babb(0x10d))/0x3*(parseInt(_0xa0babb(0x1a8))/0x4)+parseInt(_0xa0babb(0x11b))/0x5+parseInt(_0xa0babb(0x112))/0x6*(parseInt(_0xa0babb(0x191))/0x7)+-parseInt(_0xa0babb(0x11d))/0x8*(parseInt(_0xa0babb(0x131))/0x9)+parseInt(_0xa0babb(0x190))/0xa;if(_0x20e850===_0x478b29)break;else _0x48fb15['push'](_0x48fb15['shift']());}catch(_0x4f8441){_0x48fb15['push'](_0x48fb15['shift']());}}}(a0_0x4511,0xd91d6));import{log,json}from'../modules/logger.js';function a0_0x2dbb(_0xcf5655,_0x430d55){const _0x4511be=a0_0x4511();return a0_0x2dbb=function(_0x2dbbe9,_0xdf4473){_0x2dbbe9=_0x2dbbe9-0xf2;let _0x3d6dc9=_0x4511be[_0x2dbbe9];return _0x3d6dc9;},a0_0x2dbb(_0xcf5655,_0x430d55);}export default async function (context,HostName){const _0xaa2596=a0_0x2dbb,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot[_0xaa2596(0xf8)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,_0xaa2596(0x10e),null,'i','=');const kqDialogWarnBtn=await genlogin[_0xaa2596(0x149)](profileNameId,currentPage,getAks[_0xaa2596(0x169)],0x1f4);if(kqDialogWarnBtn){log(profileNameId,_0xaa2596(0x11a),null,'w');const kqClickDialogWarnBtn=await clickM(getAks[_0xaa2596(0x169)]);!kqClickDialogWarnBtn&&log(profileNameId,_0xaa2596(0x144),null,![]),log(profileNameId,'[timGame]Click\x20dialogWarnBtn\x20ok');}log(profileNameId,_0xaa2596(0x193),null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin[_0xaa2596(0x149)](profileNameId,currentPage,getAks['Iframe'],0x3e8);if(kq5){log(profileNameId,_0xaa2596(0x134),null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error('Không\x20tắt\x20được\x20game');log(profileNameId,'[timGame][gui]TatGame\x20ok');}else break;}if(attempts===maxAttempts){log(profileNameId,_0xaa2596(0x126)+maxAttempts+'\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở',null,![]);throw new Error('Không\x20tắt\x20được\x20game');}log(profileNameId,_0xaa2596(0xff)+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0xaa2596(0xf2)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0xaa2596(0x1b0),null,![]);else{log(profileNameId,'[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose');const kqClickSideBarRightClose=await clickM(getAks[_0xaa2596(0xf2)]);if(!kqClickSideBarRightClose){log(profileNameId,'[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose',![]);continue;}log(profileNameId,_0xaa2596(0x146)),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0xaa2596(0x149)](profileNameId,currentPage,getAks[_0xaa2596(0x124)],0x3e8);if(!kqCkBackArrow)log(profileNameId,'[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow',null,![]);else{log(profileNameId,'[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow');const kqClickBackArrow=await clickM(getAks['BackArrow']);if(!kqClickBackArrow){log(profileNameId,_0xaa2596(0x142),null,![]);continue;}log(profileNameId,_0xaa2596(0x164)),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0xaa2596(0x149)](profileNameId,currentPage,getAks[_0xaa2596(0x14a)],0x3e8);if(inputsearch){log(profileNameId,_0xaa2596(0x114),null);break;}}const kqClearBtn=await genlogin[_0xaa2596(0x149)](profileNameId,currentPage,getAks[_0xaa2596(0x161)],0x3e8);if(!kqClearBtn)log(profileNameId,_0xaa2596(0x1b2),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch');const kqClickClearBtn=await clickM(getAks[_0xaa2596(0x161)]);!kqClickClearBtn?log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch',![]):log(profileNameId,_0xaa2596(0x18c));}const kq=await dbClickM(getAks['InputSearch']);if(!kq){log(profileNameId,'[timGame]Không\x20click\x20được\x20vào\x20inputsearch',![]);throw new Error('Không\x20click\x20được\x20vào\x20inputsearch');}log(profileNameId,_0xaa2596(0x118)),await delay(0x3e8);const kq2=await genlogin[_0xaa2596(0x188)](profileNameId,currentPage,getAks['InputSearch'],botName);await delay(0x3e8);if(!kq2){log(profileNameId,'[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch',![]);throw new Error(_0xaa2596(0x181));}log(profileNameId,_0xaa2596(0x103)+botName+_0xaa2596(0x175)),await delay(0x1388);const kq3=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['SearchRes']);if(!kq3){log(profileNameId,_0xaa2596(0x100),![]);throw new Error(_0xaa2596(0x17e));}log(profileNameId,'[timGame]Tìm\x20thấy\x20SearchRes\x20ok'),await delay(0x3e8);const kq4=await clickM(getAks['SearchRes']);if(!kq4){log(profileNameId,_0xaa2596(0x107),![]);throw new Error(_0xaa2596(0x178));}log(profileNameId,_0xaa2596(0x182)),await genlogin[_0xaa2596(0x12b)](profileNameId,currentPage,profileNameId);if(bot[_0xaa2596(0x115)]==='1'){log(profileNameId,'[timGame]Gui'),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error(_0xaa2596(0x18d));if(kq10===_0xaa2596(0x13d))return log(profileNameId,_0xaa2596(0x17f)),{'status':_0xaa2596(0x13d)};return await delay(0x3e8),log(profileNameId,_0xaa2596(0x16e)),await clearVar(),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,_0xaa2596(0xfc),null,![]),await clearVar(),{'status':!![]};}catch(error){return log(profileNameId,_0xaa2596(0x1b1)+error,null,![]),await clearVar(),{'status':![]};}async function gui(){const _0xbc9b9e=_0xaa2596;try{log(profileNameId,_0xbc9b9e(0x138),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart===_0xbc9b9e(0x13d))return log(profileNameId,'[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro'),'loop';await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,_0xbc9b9e(0x14b),![]);throw new Error('Không\x20start\x20game\x20được');}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,_0xbc9b9e(0x1a9),![]);throw new Error(_0xbc9b9e(0x130));}return await delay(0x3e8),log(profileNameId,_0xbc9b9e(0x141)),!![];}catch(error){return log(profileNameId,_0xbc9b9e(0xfe)+error,![]),null;}}async function TatGame(){const _0x414ca6=_0xaa2596;try{log(profileNameId,_0x414ca6(0x101)+demLoop);const kq7=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x414ca6(0x170)],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin[_0x414ca6(0x149)](profileNameId,currentPage,getAks[_0x414ca6(0x180)],0x3e8);if(kq9){log(profileNameId,_0x414ca6(0x110));throw new Error('Không\x20tìm\x20thấy\x20CloseGame');}return log(profileNameId,_0x414ca6(0x17d)),!![];}const kq8=await clickM(getAks[_0x414ca6(0x170)]);!kq8&&log(profileNameId,_0x414ca6(0x16a),null,![]);log(profileNameId,_0x414ca6(0x136)),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,'[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed',![]),!![];}catch(error){return log(profileNameId,'[timGame][TatGame][Lỗi]:\x20'+error,![]),null;}}async function closeAnyway(){const _0x3186a3=_0xaa2596;try{log(profileNameId,_0x3186a3(0xfd));const kq10=await genlogin[_0x3186a3(0x149)](profileNameId,currentPage,getAks[_0x3186a3(0x108)],0x1388);if(!kq10)return log(profileNameId,_0x3186a3(0x135),![]),!![];log(profileNameId,_0x3186a3(0x1b3)),await delay(0x7d0);const kq11=await clickM(getAks[_0x3186a3(0x108)]);if(!kq11)throw new Error(_0x3186a3(0x1a4));return log(profileNameId,_0x3186a3(0x176)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'[timGame][closeAnyway][Lỗi]:\x20'+error,![]),null;}}async function launchConfirm(){const _0x1feee9=_0xaa2596;try{log(profileNameId,_0x1feee9(0x173));const kq10=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x1feee9(0x19e)],0xbb8);if(!kq10)return log(profileNameId,'[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm',null,![]),null;log(profileNameId,_0x1feee9(0x152)),await delay(0x7d0);const kq11=await clickM(getAks[_0x1feee9(0x19e)]);if(!kq11)return log(profileNameId,_0x1feee9(0x1af),null,![]),null;return log(profileNameId,'[timGame][launchConfirm]click\x20LaunchConfirm\x20OK'),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x1feee9(0x1a5)+error,![]),null;}}async function checkStartGame(){const _0x305188=_0xaa2596;try{log(profileNameId,_0x305188(0x125),null,'-');const buttons=[{'xpath':bot[_0x305188(0x143)],'name':_0x305188(0x143)},{'xpath':getAks['MainOpenButton'],'name':_0x305188(0x13f)},{'xpath':getAks[_0x305188(0x16d)],'name':_0x305188(0x16d)},{'xpath':getAks[_0x305188(0x189)],'name':_0x305188(0x189)},{'xpath':getAks[_0x305188(0x19a)],'name':_0x305188(0x19a)},{'xpath':getAks['ButtonTextLaunch'],'name':_0x305188(0x12a)},{'xpath':getAks[_0x305188(0x12d)],'name':'ButtonTextMining'},{'xpath':getAks[_0x305188(0x177)],'name':_0x305188(0x177)}],kq=await genlogin[_0x305188(0x149)](profileNameId,currentPage,getAks[_0x305188(0xf7)],0x3e8);if(!kq)log(profileNameId,_0x305188(0x185),null,![]);else{log(profileNameId,_0x305188(0x10b)),await delay(0x3e8);const kq1=await clickM(getAks[_0x305188(0xf7)]);!kq1?log(profileNameId,_0x305188(0x183),null,![]):(log(profileNameId,_0x305188(0x137)),await delay(0x7d0));}for(let i=0x0;i<buttons['length'];i++){const button=buttons[i];if(!button['xpath'])continue;const exists=await genlogin[_0x305188(0x149)](profileNameId,currentPage,button[_0x305188(0x14f)],0x7d0);if(exists){log(profileNameId,_0x305188(0x102)+button[_0x305188(0xf8)]+'\x20tồn\x20tại');const clicked=await clickM(button[_0x305188(0x14f)]);!clicked?log(profileNameId,_0x305188(0x15c)+button['name'],null,![]):log(profileNameId,'[timGame][checkStartGame]\x20Click\x20'+button[_0x305188(0xf8)]+_0x305188(0x1aa));await launchConfirm(),await delay(0x3e8);const kqIframe=await genlogin[_0x305188(0x149)](profileNameId,currentPage,getAks[_0x305188(0x180)],0x7d0);if(!kqIframe){log(profileNameId,_0x305188(0x18b),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,_0x305188(0x1a1),null,![]);throw new Error(_0x305188(0x127));}catch(error){return log(profileNameId,_0x305188(0xf4)+error[_0x305188(0x174)],null,![]),null;}}async function checkLoadGame(){const _0x513746=_0xaa2596;try{log(profileNameId,'[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game');const tags=[bot[_0x513746(0x151)],bot[_0x513746(0x186)],bot['tagGame2'],bot['tagGame3'],bot[_0x513746(0x129)]];if(parseInt(bot['newTab'])===0x1){log(profileNameId,_0x513746(0xf9),null,'w','-');const maxAttempts=0x5;let demLoop=0x0;const maxDemLoop=0x19;while(demLoop<maxDemLoop){demLoop++,log(profileNameId,_0x513746(0x15d)+demLoop+'/'+maxDemLoop,null,![]);const iframeLink=await genlogin[_0x513746(0x1ae)](profileNameId,currentPage,getAks[_0x513746(0x180)],'src',0x3e8);await delay(0x3e8);if(iframeLink)break;}if(!iframeLink){log(profileNameId,_0x513746(0x1a0),null,![]);throw new Error(_0x513746(0x17b));}log(profileNameId,_0x513746(0x168));const kqNewTab=await genlogin['newTab'](profileNameId,browser);if(!kqNewTab){log(profileNameId,_0x513746(0x171),null,![]);throw new Error(_0x513746(0x179));}log(profileNameId,'[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK');const newPage=await genlogin[_0x513746(0x109)](profileNameId,browser);if(!newPage){log(profileNameId,_0x513746(0x198),null,![]);throw new Error('Không\x20lấy\x20page\x20mới');}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl[_0x513746(0xfb)];const kqOpenLink=await genlogin[_0x513746(0x199)](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,_0x513746(0x12e),null,![]);throw new Error(_0x513746(0x11f));}log(profileNameId,'[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK'),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x513746(0x128)+attempt);for(let i=0x0;i<tags[_0x513746(0x13c)];i++){const result=await genlogin[_0x513746(0x149)](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,_0x513746(0x11c)+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x513746(0x18e)+maxAttempts+_0x513746(0x117));throw new Error(_0x513746(0x19c));}else{log(profileNameId,_0x513746(0x120),null,'w','-');const maxAttempts=0x5,subframe=await genlogin[_0x513746(0x195)](profileNameId,currentPage,getAks[_0x513746(0x180)]);await delay(0x3e8);if(!subframe){log(profileNameId,_0x513746(0x11e),null,![]);throw new Error('Không\x20tìm\x20thấy\x20iframe');}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x513746(0x128)+attempt);for(let i=0x0;i<tags[_0x513746(0x13c)];i++){const result=await genlogin[_0x513746(0x149)](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,_0x513746(0x11c)+tags[i],![]),await genlogin['switchFrame'](profileNameId,currentPage,_0x513746(0x160)),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x513746(0x18e)+maxAttempts+'\x20lần\x20thử');throw new Error(_0x513746(0x19c));}}catch(error){return log(profileNameId,_0x513746(0x14d),null,![]),await genlogin[_0x513746(0x195)](profileNameId,currentPage,_0x513746(0x192)),await delay(0x3e8),null;}}async function checkFirstStart(){const _0x568209=_0xaa2596;try{await delay(0x3e8);const FirstStartBtn=await genlogin[_0x568209(0x149)](profileNameId,currentPage,getAks[_0x568209(0xf7)],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0x568209(0x15f),null,!![],'-'),log(profileNameId,_0x568209(0x12f)),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0x568209(0x154),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin[_0x568209(0x149)](profileNameId,currentPage,getAks[_0x568209(0x14a)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x568209(0x17a),null,![]),null;log(profileNameId,'['+botName+_0x568209(0xf5));const clicked=await dbClickM(getAks[_0x568209(0x14a)]);if(!clicked)return log(profileNameId,'['+botName+_0x568209(0x121),null,![]),null;log(profileNameId,'['+botName+_0x568209(0x17c)),await delay(0x3e8);const typeText=await genlogin[_0x568209(0x188)](profileNameId,currentPage,getAks[_0x568209(0x14a)],_0x568209(0x18f),0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x568209(0x10c),null,![]),null;log(profileNameId,'['+botName+_0x568209(0x148)),await delay(0x1388);const kqSearchRes=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['SearchRes'],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x568209(0x1a3),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes');const clicked1=await clickM(getAks[_0x568209(0x19d)]);if(!clicked1)return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes',null,![]),null;log(profileNameId,'['+botName+_0x568209(0x116)),await delay(0x7d0);const xpathRef='(//a[@href=\x27'+bot['ref']+'\x27])[last()]',checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+_0x568209(0x16b)),await reCheckClickStart(),_0x568209(0x13d);log(profileNameId,'['+botName+_0x568209(0x16f),null,![]),await delay(0x7d0);const checkChatInput=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x568209(0x1ad)],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+_0x568209(0x133),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput');const click2=await dbClickM(getAks[_0x568209(0x1ad)]);!click2?log(profileNameId,'['+botName+_0x568209(0x165),null,![]):log(profileNameId,'['+botName+_0x568209(0x14e));await delay(0x7d0);const typeText1=await genlogin['typeText'](profileNameId,currentPage,getAks[_0x568209(0x1ad)],bot[_0x568209(0x19f)],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+'][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput',null,![]):log(profileNameId,'['+botName+_0x568209(0x119)+bot['ref']);await delay(0x7d0);const checkBtnSend=await clickM(getAks['BtnSend']);!checkBtnSend?log(profileNameId,'['+botName+_0x568209(0x1a6),null,![]):log(profileNameId,'['+botName+'][checkFirstStart]\x20Click\x20BtnSend\x20OK');await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+_0x568209(0x1b6)),await reCheckClickStart(),_0x568209(0x13d);return log(profileNameId,'['+botName+_0x568209(0x194)),null;}catch(error){return log(profileNameId,'['+botName+_0x568209(0x13b)+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0x4a376c=_0xaa2596;try{await delay(0x3e8);const checkLinkRef=await genlogin['elementExistsByXPath'](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+_0x4a376c(0x139));const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+_0x4a376c(0x150),null,![]):log(profileNameId,'['+botName+'][clickLinkRef]\x20Click\x20LinkRef\x20OK');await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+_0x4a376c(0x122),null,![]):log(profileNameId,'['+botName+_0x4a376c(0x111));const kqCkIframe=await genlogin[_0x4a376c(0x149)](profileNameId,currentPage,getAks[_0x4a376c(0x180)],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+_0x4a376c(0xfa),null,![]);const kqCkStartbtn=await genlogin[_0x4a376c(0x149)](profileNameId,currentPage,getAks['FirstStartBtn'],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0x4a376c(0x166),null,![]),!![];else{log(profileNameId,'['+botName+_0x4a376c(0x1ac));const clickStart=await clickM(getAks[_0x4a376c(0xf7)]);!clickStart&&log(profileNameId,'['+botName+'][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start',null,![]),log(profileNameId,'['+botName+_0x4a376c(0x123));}}else{log(profileNameId,'['+botName+'][clickLinkRef]\x20Tìm\x20thấy\x20iframe');const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+_0x4a376c(0xf6),null,![]):log(profileNameId,'['+botName+'][clickLinkRef]\x20Đóng\x20iframe\x20OK');}return!![];}else return log(profileNameId,'['+botName+'][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20'+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+_0x4a376c(0x132)+error,null,![]),null;}}async function reCheckClickStart(){const _0x5cb0e0=_0xaa2596;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x5cb0e0(0x14a)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x5cb0e0(0x10a),null,![]),null;log(profileNameId,'['+botName+_0x5cb0e0(0x113));const clicked=await dbClickM(getAks[_0x5cb0e0(0x14a)]);if(!clicked)return log(profileNameId,'['+botName+_0x5cb0e0(0x163),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]Click\x20InputSearch\x20OK'),await delay(0x3e8);const typeText=await genlogin[_0x5cb0e0(0x188)](profileNameId,currentPage,getAks[_0x5cb0e0(0x14a)],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x5cb0e0(0x187),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK'),await delay(0x1388);const kqSearchRes=await genlogin[_0x5cb0e0(0x149)](profileNameId,currentPage,getAks[_0x5cb0e0(0x19d)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x5cb0e0(0xf3),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes');const clicked1=await clickM(getAks[_0x5cb0e0(0x19d)]);if(!clicked1)return log(profileNameId,'['+botName+'][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes',null,![]),null;log(profileNameId,'['+botName+_0x5cb0e0(0x1a7)),await delay(0x3e8);const FirstStartBtn1=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x5cb0e0(0xf7)],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+_0x5cb0e0(0x1ab)),await delay(0x3e8);const clickStart=await clickM(getAks[_0x5cb0e0(0xf7)]);if(!clickStart)return log(profileNameId,'['+botName+'][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start',null,![]),null;return log(profileNameId,'['+botName+_0x5cb0e0(0x12c)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+_0x5cb0e0(0x106)+error,null,![]),null;}}async function ShowInputSearch(){const _0x4fef7d=_0xaa2596;try{log(profileNameId,_0x4fef7d(0x147),null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x4fef7d(0x149)](profileNameId,currentPage,getAks[_0x4fef7d(0xf2)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x4fef7d(0x157),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose');const kqClickSideBarRightClose=await clickM(getAks[_0x4fef7d(0xf2)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x4fef7d(0x13e),![]);continue;}log(profileNameId,_0x4fef7d(0x196));continue;}const kqCkBackArrow=await genlogin[_0x4fef7d(0x149)](profileNameId,currentPage,getAks[_0x4fef7d(0x124)],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x4fef7d(0x156),null,![]);else{log(profileNameId,_0x4fef7d(0x13a));const kqClickBackArrow=await clickM(getAks[_0x4fef7d(0x124)]);if(!kqClickBackArrow){log(profileNameId,_0x4fef7d(0x18a),null,![]);continue;}log(profileNameId,_0x4fef7d(0x145));continue;}const inputsearch=await genlogin[_0x4fef7d(0x149)](profileNameId,currentPage,getAks[_0x4fef7d(0x14a)],0x3e8);if(inputsearch){log(profileNameId,_0x4fef7d(0x15e),null);break;}}const kqClearBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x4fef7d(0x161)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x4fef7d(0x1b2),null,![]);else{log(profileNameId,_0x4fef7d(0x184));const kqClickClearBtn=await clickM(getAks[_0x4fef7d(0x161)]);!kqClickClearBtn?log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch',![]):log(profileNameId,_0x4fef7d(0x18c));}const kq=await dbClickM(getAks[_0x4fef7d(0x14a)]);return!kq?log(profileNameId,'[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch',![]):log(profileNameId,_0x4fef7d(0x153)),!![];}catch(error){return log(profileNameId,'['+botName+_0x4fef7d(0x14c)+error,null,![]),null;}}async function closeIframe(){const _0x345f15=_0xaa2596;try{log(profileNameId,_0x345f15(0x1a2),null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin[_0x345f15(0x149)](profileNameId,currentPage,getAks[_0x345f15(0x180)],0x3e8);if(kq5){log(profileNameId,_0x345f15(0x172),null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,'[closeIframe]Không\x20tắt\x20được\x20game',null,![]):log(profileNameId,_0x345f15(0x162));}else break;}return null;}catch(error){return log(profileNameId,_0x345f15(0x155)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x1d5fbb=_0xaa2596;try{await delay(0x3e8);const clicked=await genlogin[_0x1d5fbb(0x140)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x1d5fbb(0x1b4)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x1d5fbb(0x15b)+xpath+_0x1d5fbb(0x1aa)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x1d5fbb(0x197)+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x1f2cf8=_0xaa2596;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x1f2cf8(0x1b5)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x1f2cf8(0x10f)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x1f2cf8(0x159)+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x3b9d3f=_0xaa2596;try{const clicked=await genlogin['click'](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x3b9d3f(0x104)+xpath,null,![]),null;return log(profileNameId,'['+botName+'][clickM]Click\x20'+xpath+_0x3b9d3f(0x1aa)),clicked;}catch(error){return log(profileNameId,'['+botName+'][clickM][Lỗi]:\x20'+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0x105027=_0xaa2596;try{const clicked=await genlogin[_0x105027(0x140)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x105027(0x105)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x105027(0x19b)+xpath+_0x105027(0x1aa)),clicked;}catch(error){return log(profileNameId,'['+botName+'][dbClickM][Lỗi]:\x20'+error,null,![]),null;}}async function clickP(x,y){const _0x20bf19=_0xaa2596;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+_0x20bf19(0x15a)+x+':'+y,![]);throw new Error(_0x20bf19(0x167)+xpath);}return log(profileNameId,'['+botName+_0x20bf19(0x15b)+x+':'+y+_0x20bf19(0x1aa)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x20bf19(0x197)+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){if(Atomics['load'](tasksData,taskIndex)===0x1)return!![];return![];}async function clearVar(){currentPage=null,screenData=null,tasksData=null;}}function a0_0x4511(){const _0x305215=['[timGame][checkLoadGame]newTab\x20mode','][clickLinkRef]Không\x20tìm\x20thấy\x20iframe','hostname','[timGame]NoGui','[timGame][closeAnyway]check\x20close\x20anyway','[timGame][gui][Lỗi]:\x20','[timGame]Vào\x20Tìm\x20game\x20','[timGame]Không\x20tìm\x20thấy\x20SearchRes','[timGame][TatGame]Vào\x20tắt\x20game\x20lần:','[timGame][checkStartGame]\x20','[timGame]\x20nhập\x20','][clickM]Không\x20click\x20được\x20vào\x20','][dbClickM]Không\x20click\x20được\x20vào\x20','][reCheckClickStart][Lỗi]:\x20','[timGame]Không\x20click\x20được\x20vào\x20SearchRes','ForceClosePopup','getCurrentPage','][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch','[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start','][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch','9FevVYI','[timGame]Tìm\x20Game','][dbclick]dbclick\x20','[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được','][clickLinkRef]\x20Click\x20launchConfirm\x20OK','22962kPRtjY','][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch','[timGame]tìm\x20thấy\x20inputsearch','gui','][checkFirstStart]Click\x20SearchRes\x20OK','\x20lần\x20thử','[timGame]\x20click\x20inputsearch\x20ok','][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20','[timGame]Tìm\x20thấy\x20dialogWarnBtn','1781890HcdZrd','[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20','9105528mFEYHj','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe','Không\x20mở\x20link\x20iframe','[timGame][checkLoadGame]\x20popup\x20mode','][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch','][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm','][clickLinkRef]\x20Click\x20start\x20OK','BackArrow','[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game','[timGame][gui]\x20Đã\x20thử\x20','Không\x20tìm\x20thấy\x20nút\x20mở\x20game','[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20','tagGame4','ButtonTextLaunch','setTitle','][reCheckClickStart]\x20Click\x20start\x20OK','ButtonTextMining','[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe','[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game','Không\x20load\x20game\x20được','9NrqYuZ','][clickLinkRef][Lỗi]:\x20','][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput','[timGame][gui]Đang\x20có\x20game\x20mở','[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway','[timGame][TatGame]click\x20CloseGame\x20OK','[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','][clickLinkRef]tìm\x20thấy\x20LinkRef','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow','][checkFirstStart][Lỗi]:\x20','length','loop','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','MainOpenButton','click','[timGame][gui]start\x20game\x20ok','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','playtag','[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn','[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok','[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame][ShowInputSearch]\x20ShowInputSearch','][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27','elementExistsByXPath','InputSearch','[timGame][gui]Không\x20start\x20game\x20được','][timGame][ShowInputSearch][Lỗi]:\x20','[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game','][checkFirstStart]\x20Click\x20ChatInput\x20OK','xpath','][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef','tagGame','[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm','[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','[closeIframe][Lỗi]:\x20','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','613464JRDYYb','][dbclick][Lỗi]:\x20','][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20','][click]Click\x20','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','[timGame][checkLoadGame]\x20Check\x20iframe\x20link\x20lần\x20','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','mainframe','clearInputSearch','[closeIframe]TatGame\x20ok','][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch','[timGame]\x20click\x20nút\x20BackArrow\x20ok','][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','Không\x20click\x20được\x20vào\x20','[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link','dialogWarnBtn','[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame','][checkFirstStart]click\x20link\x20ref\x20ok','1490803HRCfna','ButtonTextPlay','[timGame]Gui\x20ok','][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref','CloseGame','[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới','[closeIframe]Đang\x20có\x20game\x20mở','[timGame][launchConfirm]check\x20launchConfirm','message','\x20ok','[timGame][closeAnyway]click\x20ForceClosePopup\x20OK','ButtonInChat','Không\x20click\x20được\x20vào\x20SearchRes','Không\x20mở\x20tab\x20mới','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','Không\x20tìm\x20thấy\x20iframe\x20link','][checkFirstStart]Click\x20InputSearch\x20OK','[timGame][TatGame]Tắt\x20game\x20OK','Không\x20tìm\x20thấy\x20SearchRes','[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro','Iframe','Không\x20nhập\x20được\x20vào\x20inputsearch','[timGame]\x20click\x20SearchRes\x20ok','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game','tagGame1','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch','typeText','ButtonTextClaim','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok','Không\x20check\x20gui\x20được','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','Saved\x20Messages','15057010jTlTEY','518RsAVbP','mainFrame','[timGame]check\x20tắt\x20game\x20đang\x20mở','][checkFirstStart]Không\x20Click\x20được\x20LinkRef','switchFrame','[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok','][click][Lỗi]:\x20','[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới','openUrl','ButtonTextStart','][dbClickM]Click\x20','Không\x20load\x20được\x20game','SearchRes','LaunchConfirm','ref','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game','[closeIframe]check\x20tắt\x20game\x20đang\x20mở','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','Không\x20click\x20được\x20vào\x20ForceClosePopup','[timGame][launchConfirm][Lỗi]:\x20','][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend','][reCheckClickStart]Click\x20SearchRes\x20OK','2239668MzTYzm','[timGame][gui]Không\x20load\x20game\x20được','\x20OK','][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start','][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start','ChatInput','getAttributeFromXPath','[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][Lỗi]1:\x20','[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch','[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway','][click]Không\x20click\x20được\x20vào\x20','][dbclick]Không\x20dbclick\x20được\x20vào\x20','][checkFirstStart]Click\x20vào\x20LinkRef\x20ok','sideBarRightClose','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20','][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch','][clickLinkRef]Không\x20đóng\x20iframe','FirstStartBtn','name'];a0_0x4511=function(){return _0x305215;};return a0_0x4511();};