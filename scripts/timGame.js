(function(_0x515196,_0x46c844){const _0x274040=a0_0xbb92,_0x3a3014=_0x515196();while(!![]){try{const _0xc0fa84=parseInt(_0x274040(0x1d7))/0x1*(parseInt(_0x274040(0x1bd))/0x2)+parseInt(_0x274040(0x1ba))/0x3*(parseInt(_0x274040(0x26a))/0x4)+-parseInt(_0x274040(0x22a))/0x5+-parseInt(_0x274040(0x1e5))/0x6*(-parseInt(_0x274040(0x1cf))/0x7)+parseInt(_0x274040(0x24f))/0x8*(-parseInt(_0x274040(0x21c))/0x9)+parseInt(_0x274040(0x1e1))/0xa*(-parseInt(_0x274040(0x27c))/0xb)+parseInt(_0x274040(0x263))/0xc*(-parseInt(_0x274040(0x1df))/0xd);if(_0xc0fa84===_0x46c844)break;else _0x3a3014['push'](_0x3a3014['shift']());}catch(_0xecad43){_0x3a3014['push'](_0x3a3014['shift']());}}}(a0_0x31b7,0xb4100));import{log,json}from'../modules/logger.js';function a0_0x31b7(){const _0x5b017d=['][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','][clickM]Không\x20click\x20được\x20vào\x20','[closeIframe]check\x20tắt\x20game\x20đang\x20mở','[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm','Không\x20click\x20được\x20vào\x20','LaunchConfirm','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start','][clickLinkRef]\x20Đóng\x20iframe\x20OK','][checkFirstStart]Không\x20Click\x20được\x20LinkRef','][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch','][checkFirstStart]Click\x20vào\x20LinkRef\x20ok','tagGame1','[timGame][checkLoadGame]\x20popup\x20mode','xpath','1644wWSjdv','][reCheckClickStart]Click\x20SearchRes\x20OK','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','Iframe','[closeIframe]Đang\x20có\x20game\x20mở','[timGame]Gui\x20ok','[timGame]Tìm\x20thấy\x20dialogWarnBtn','4Neruck','[timGame]Tìm\x20Game','Không\x20load\x20được\x20game','[timGame][checkStartGame]\x20','][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend','Không\x20nhập\x20được\x20vào\x20inputsearch','][clickLinkRef]\x20Click\x20LinkRef\x20OK','[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe','[timGame][gui][Lỗi]:\x20','[timGame]Không\x20click\x20được\x20vào\x20SearchRes','playtag','CloseGame','[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame','tagGame2','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch','[timGame][TatGame]click\x20CloseGame\x20OK','[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20','][checkFirstStart]\x20Click\x20BtnSend\x20OK','4149959eWoPtL','Không\x20tìm\x20thấy\x20CloseGame','\x20tồn\x20tại','BackArrow','Không\x20mở\x20tab\x20mới','][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch','][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27','][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm','][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes','[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link','getCurrentPage','][dbclick][Lỗi]:\x20','[timGame][gui]start\x20game\x20ok','2547309VVvThm','sideBarRightClose','][checkFirstStart][Lỗi]:\x20','27490mzWkjI','SearchRes','ButtonTextStart','][click]Không\x20click\x20được\x20vào\x20','[timGame][launchConfirm]click\x20LaunchConfirm\x20OK','ForceClosePopup','][reCheckClickStart]Click\x20InputSearch\x20OK','Không\x20start\x20game\x20được','[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được','typeText','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch','clearInputSearch','[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link','ButtonTextPlay','][checkFirstStart]Click\x20SearchRes\x20OK','\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở','Không\x20check\x20gui\x20được','ref','1977241JyKINV','[timGame]Vào\x20Tìm\x20game\x20','BtnSend','ChatInput','][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start','][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch','hostname','][timGame][ShowInputSearch][Lỗi]:\x20','50eKozWC','dialogWarnBtn','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','src','[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][closeAnyway]click\x20ForceClosePopup\x20OK','8905LhOvPr','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','10XRTIXn','[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame][TatGame]Vào\x20tắt\x20game\x20lần:','][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20','6pkVeCd','\x20OK','[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm','[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK','[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm','Không\x20mở\x20link\x20iframe','InputSearch','[timGame][gui]TatGame\x20ok','][clickLinkRef]Không\x20đóng\x20iframe','tagGame3','loop','FirstStartBtn','[timGame]Không\x20tìm\x20thấy\x20SearchRes','][checkFirstStart]\x20Click\x20ChatInput\x20OK','[closeIframe][Lỗi]:\x20','[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','tagGame4','name','[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game','mainframe','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe','][checkFirstStart]click\x20link\x20ref\x20ok','[timGame]\x20click\x20nút\x20BackArrow\x20ok','switchFrame','[timGame][launchConfirm][Lỗi]:\x20','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','[timGame][gui]Không\x20load\x20game\x20được','click','Không\x20click\x20được\x20vào\x20SearchRes','setTitle','MainOpenButton','ButtonTextClaim','][checkFirstStart]Click\x20InputSearch\x20OK','][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes','elementExistsByXPath','][dbclick]dbclick\x20','[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro','length','[timGame]Click\x20dialogWarnBtn\x20ok','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref','][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch','][clickLinkRef]\x20Click\x20start\x20OK','Không\x20tìm\x20thấy\x20nút\x20mở\x20game','][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput','[closeIframe]Không\x20tắt\x20được\x20game','(//a[@href=\x27','[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game','][reCheckClickStart][Lỗi]:\x20','][click]Click\x20','[timGame][launchConfirm]check\x20launchConfirm','][clickLinkRef]Không\x20tìm\x20thấy\x20iframe','621XjVWVa','[timGame][TatGame]Tắt\x20game\x20OK','[timGame]Tìm\x20thấy\x20SearchRes\x20ok','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20','[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','Không\x20tìm\x20thấy\x20iframe\x20link','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','][reCheckClickStart]\x20Click\x20start\x20OK','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed','[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới','\x20lần\x20thử','2408785YSKyjp','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch','][clickM][Lỗi]:\x20','[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới','][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game','][dbClickM]Click\x20','openUrl','\x20ok','message','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','Không\x20tắt\x20được\x20game','Không\x20click\x20được\x20vào\x20ForceClosePopup','[timGame][ShowInputSearch]\x20ShowInputSearch','Không\x20lấy\x20page\x20mới','[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow','[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start','ButtonTextMining','][clickM]Click\x20','[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20','][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes','[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK','[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok','Không\x20load\x20game\x20được','ButtonInChat','mainFrame','[timGame][TatGame][Lỗi]:\x20','[timGame]check\x20tắt\x20game\x20đang\x20mở','][click][Lỗi]:\x20','][dbclick]Không\x20dbclick\x20được\x20vào\x20','tagGame','ButtonTextLaunch','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','[timGame][gui]\x20Đã\x20thử\x20','[timGame]Gui','14888SMIlXu','][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef','[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok'];a0_0x31b7=function(){return _0x5b017d;};return a0_0x31b7();}function a0_0xbb92(_0x176488,_0x25b42f){const _0x31b724=a0_0x31b7();return a0_0xbb92=function(_0xbb9240,_0xe2be1e){_0xbb9240=_0xbb9240-0x1b0;let _0x457872=_0x31b724[_0xbb9240];return _0x457872;},a0_0xbb92(_0x176488,_0x25b42f);}export default async function (context,HostName){const _0x1b8464=a0_0xbb92,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot[_0x1b8464(0x1f7)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,_0x1b8464(0x26b),null,'i','=');const kqDialogWarnBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x1b8464(0x1d8)],0x1f4);if(kqDialogWarnBtn){log(profileNameId,_0x1b8464(0x269),null,'w');const kqClickDialogWarnBtn=await clickM(getAks['dialogWarnBtn']);!kqClickDialogWarnBtn&&log(profileNameId,'[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn',null,![]),log(profileNameId,_0x1b8464(0x20c));}log(profileNameId,_0x1b8464(0x247),null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin[_0x1b8464(0x208)](profileNameId,currentPage,getAks['Iframe'],0x3e8);if(kq5){log(profileNameId,'[timGame][gui]Đang\x20có\x20game\x20mở',null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error(_0x1b8464(0x236));log(profileNameId,_0x1b8464(0x1ec));}else break;}if(attempts===maxAttempts){log(profileNameId,_0x1b8464(0x24d)+maxAttempts+_0x1b8464(0x1cc),null,![]);throw new Error(_0x1b8464(0x236));}log(profileNameId,_0x1b8464(0x1d0)+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x1b8464(0x1bb)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,'[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose',null,![]);else{log(profileNameId,_0x1b8464(0x1dd));const kqClickSideBarRightClose=await clickM(getAks[_0x1b8464(0x1bb)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x1b8464(0x24c),![]);continue;}log(profileNameId,_0x1b8464(0x241)),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0x1b8464(0x208)](profileNameId,currentPage,getAks[_0x1b8464(0x27f)],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x1b8464(0x20d),null,![]);else{log(profileNameId,_0x1b8464(0x23a));const kqClickBackArrow=await clickM(getAks[_0x1b8464(0x27f)]);if(!kqClickBackArrow){log(profileNameId,_0x1b8464(0x21f),null,![]);continue;}log(profileNameId,_0x1b8464(0x1fc)),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0x1b8464(0x208)](profileNameId,currentPage,getAks[_0x1b8464(0x1eb)],0x3e8);if(inputsearch){log(profileNameId,'[timGame]tìm\x20thấy\x20inputsearch',null);break;}}const kqClearBtn=await genlogin[_0x1b8464(0x208)](profileNameId,currentPage,getAks[_0x1b8464(0x1c8)],0x3e8);if(!kqClearBtn)log(profileNameId,'[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch',null,![]);else{log(profileNameId,_0x1b8464(0x278));const kqClickClearBtn=await clickM(getAks[_0x1b8464(0x1c8)]);!kqClickClearBtn?log(profileNameId,_0x1b8464(0x22c),![]):log(profileNameId,_0x1b8464(0x252));}const kq=await dbClickM(getAks['InputSearch']);if(!kq){log(profileNameId,'[timGame]Không\x20click\x20được\x20vào\x20inputsearch',![]);throw new Error('Không\x20click\x20được\x20vào\x20inputsearch');}log(profileNameId,'[timGame]\x20click\x20inputsearch\x20ok'),await delay(0x3e8);const kq2=await genlogin[_0x1b8464(0x1c6)](profileNameId,currentPage,getAks[_0x1b8464(0x1eb)],botName);await delay(0x3e8);if(!kq2){log(profileNameId,'[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch',![]);throw new Error(_0x1b8464(0x26f));}log(profileNameId,'[timGame]\x20nhập\x20'+botName+_0x1b8464(0x233)),await delay(0x1388);const kq3=await genlogin[_0x1b8464(0x208)](profileNameId,currentPage,getAks[_0x1b8464(0x1be)]);if(!kq3){log(profileNameId,_0x1b8464(0x1f1),![]);throw new Error('Không\x20tìm\x20thấy\x20SearchRes');}log(profileNameId,_0x1b8464(0x21e)),await delay(0x3e8);const kq4=await clickM(getAks[_0x1b8464(0x1be)]);if(!kq4){log(profileNameId,_0x1b8464(0x273),![]);throw new Error(_0x1b8464(0x202));}log(profileNameId,'[timGame]\x20click\x20SearchRes\x20ok'),await genlogin[_0x1b8464(0x203)](profileNameId,currentPage,profileNameId);if(bot['gui']==='1'){log(profileNameId,_0x1b8464(0x24e)),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error(_0x1b8464(0x1cd));if(kq10==='loop')return log(profileNameId,'[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro'),{'status':_0x1b8464(0x1ef)};return await delay(0x3e8),log(profileNameId,_0x1b8464(0x268)),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,'[timGame]NoGui',null,![]),{'status':!![]};}catch(error){return log(profileNameId,'[timGame][Lỗi]1:\x20'+error,null,![]),{'status':![]};}async function gui(){const _0x3fa435=_0x1b8464;try{log(profileNameId,_0x3fa435(0x235),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart==='loop')return log(profileNameId,_0x3fa435(0x20a)),_0x3fa435(0x1ef);await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,'[timGame][gui]Không\x20start\x20game\x20được',![]);throw new Error(_0x3fa435(0x1c4));}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,_0x3fa435(0x200),![]);throw new Error(_0x3fa435(0x243));}return await delay(0x3e8),log(profileNameId,_0x3fa435(0x1b9)),!![];}catch(error){return log(profileNameId,_0x3fa435(0x272)+error,![]),null;}}async function TatGame(){const _0x4f72d5=_0x1b8464;try{log(profileNameId,_0x4f72d5(0x1e3)+demLoop);const kq7=await genlogin[_0x4f72d5(0x208)](profileNameId,currentPage,getAks[_0x4f72d5(0x275)],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin[_0x4f72d5(0x208)](profileNameId,currentPage,getAks[_0x4f72d5(0x266)],0x3e8);if(kq9){log(profileNameId,_0x4f72d5(0x1c5));throw new Error(_0x4f72d5(0x27d));}return log(profileNameId,_0x4f72d5(0x21d)),!![];}const kq8=await clickM(getAks[_0x4f72d5(0x275)]);!kq8&&log(profileNameId,_0x4f72d5(0x276),null,![]);log(profileNameId,_0x4f72d5(0x279)),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,_0x4f72d5(0x227),![]),!![];}catch(error){return log(profileNameId,_0x4f72d5(0x246)+error,![]),null;}}async function closeAnyway(){const _0x4d8282=_0x1b8464;try{log(profileNameId,'[timGame][closeAnyway]check\x20close\x20anyway');const kq10=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x4d8282(0x1c2)],0x1388);if(!kq10)return log(profileNameId,_0x4d8282(0x1f4),![]),!![];log(profileNameId,'[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway'),await delay(0x7d0);const kq11=await clickM(getAks[_0x4d8282(0x1c2)]);if(!kq11)throw new Error(_0x4d8282(0x237));return log(profileNameId,_0x4d8282(0x1de)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'[timGame][closeAnyway][Lỗi]:\x20'+error,![]),null;}}async function launchConfirm(){const _0x4f403f=_0x1b8464;try{log(profileNameId,_0x4f403f(0x21a));const kq10=await genlogin[_0x4f403f(0x208)](profileNameId,currentPage,getAks[_0x4f403f(0x259)],0xbb8);if(!kq10)return log(profileNameId,_0x4f403f(0x1e9),null,![]),null;log(profileNameId,_0x4f403f(0x1e7)),await delay(0x7d0);const kq11=await clickM(getAks['LaunchConfirm']);if(!kq11)return log(profileNameId,_0x4f403f(0x257),null,![]),null;return log(profileNameId,_0x4f403f(0x1c1)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x4f403f(0x1fe)+error,![]),null;}}async function checkStartGame(){const _0x207f1b=_0x1b8464;try{log(profileNameId,_0x207f1b(0x251),null,'-');const buttons=[{'xpath':bot[_0x207f1b(0x274)],'name':_0x207f1b(0x274)},{'xpath':getAks[_0x207f1b(0x204)],'name':'MainOpenButton'},{'xpath':getAks[_0x207f1b(0x1ca)],'name':'ButtonTextPlay'},{'xpath':getAks[_0x207f1b(0x205)],'name':'ButtonTextClaim'},{'xpath':getAks[_0x207f1b(0x1bf)],'name':_0x207f1b(0x1bf)},{'xpath':getAks['ButtonTextLaunch'],'name':_0x207f1b(0x24b)},{'xpath':getAks[_0x207f1b(0x23c)],'name':'ButtonTextMining'},{'xpath':getAks[_0x207f1b(0x244)],'name':_0x207f1b(0x244)}],kq=await genlogin[_0x207f1b(0x208)](profileNameId,currentPage,getAks['FirstStartBtn'],0x3e8);if(!kq)log(profileNameId,'[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game',null,![]);else{log(profileNameId,_0x207f1b(0x23b)),await delay(0x3e8);const kq1=await clickM(getAks[_0x207f1b(0x1f0)]);!kq1?log(profileNameId,_0x207f1b(0x22b),null,![]):(log(profileNameId,_0x207f1b(0x1e8)),await delay(0x7d0));}for(let i=0x0;i<buttons[_0x207f1b(0x20b)];i++){const button=buttons[i];if(!button[_0x207f1b(0x262)])continue;const exists=await genlogin[_0x207f1b(0x208)](profileNameId,currentPage,button['xpath'],0x7d0);if(exists){log(profileNameId,_0x207f1b(0x26d)+button[_0x207f1b(0x1f7)]+_0x207f1b(0x27e));const clicked=await clickM(button[_0x207f1b(0x262)]);!clicked?log(profileNameId,_0x207f1b(0x1f5)+button[_0x207f1b(0x1f7)],null,![]):log(profileNameId,'[timGame][checkStartGame]\x20Click\x20'+button[_0x207f1b(0x1f7)]+_0x207f1b(0x1e6));await launchConfirm(),await delay(0x3e8);const kqIframe=await genlogin[_0x207f1b(0x208)](profileNameId,currentPage,getAks[_0x207f1b(0x266)],0x7d0);if(!kqIframe){log(profileNameId,_0x207f1b(0x25a),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,_0x207f1b(0x230),null,![]);throw new Error(_0x207f1b(0x213));}catch(error){return log(profileNameId,_0x207f1b(0x27a)+error[_0x207f1b(0x234)],null,![]),null;}}async function checkLoadGame(){const _0x2dddc3=_0x1b8464;try{log(profileNameId,_0x2dddc3(0x1f8));const tags=[bot[_0x2dddc3(0x24a)],bot[_0x2dddc3(0x260)],bot[_0x2dddc3(0x277)],bot[_0x2dddc3(0x1ee)],bot[_0x2dddc3(0x1f6)]];if(parseInt(bot['newTab'])===0x1){log(profileNameId,'[timGame][checkLoadGame]newTab\x20mode',null,'w','-');const maxAttempts=0x5,iframeLink=await genlogin['getAttributeFromXPath'](profileNameId,currentPage,getAks[_0x2dddc3(0x266)],_0x2dddc3(0x1dc),0x3e8);await delay(0x3e8);if(!iframeLink){log(profileNameId,_0x2dddc3(0x1b6),null,![]);throw new Error(_0x2dddc3(0x223));}log(profileNameId,_0x2dddc3(0x1c9));const kqNewTab=await genlogin['newTab'](profileNameId,browser);if(!kqNewTab){log(profileNameId,_0x2dddc3(0x228),null,![]);throw new Error(_0x2dddc3(0x280));}log(profileNameId,_0x2dddc3(0x240));const newPage=await genlogin[_0x2dddc3(0x1b7)](profileNameId,browser);if(!newPage){log(profileNameId,_0x2dddc3(0x22e),null,![]);throw new Error(_0x2dddc3(0x239));}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl[_0x2dddc3(0x1d5)];const kqOpenLink=await genlogin[_0x2dddc3(0x232)](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,_0x2dddc3(0x271),null,![]);throw new Error(_0x2dddc3(0x1ea));}log(profileNameId,_0x2dddc3(0x1b4)),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x2dddc3(0x23e)+attempt);for(let i=0x0;i<tags[_0x2dddc3(0x20b)];i++){const result=await genlogin[_0x2dddc3(0x208)](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,'[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20'+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20'+maxAttempts+'\x20lần\x20thử');throw new Error(_0x2dddc3(0x26c));}else{log(profileNameId,_0x2dddc3(0x261),null,'w','-');const maxAttempts=0x5,subframe=await genlogin[_0x2dddc3(0x1fd)](profileNameId,currentPage,getAks[_0x2dddc3(0x266)]);await delay(0x3e8);if(!subframe){log(profileNameId,_0x2dddc3(0x1fa),null,![]);throw new Error('Không\x20tìm\x20thấy\x20iframe');}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,'[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20'+attempt);for(let i=0x0;i<tags[_0x2dddc3(0x20b)];i++){const result=await genlogin['elementExistsByXPath'](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,'[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20'+tags[i],![]),await genlogin[_0x2dddc3(0x1fd)](profileNameId,currentPage,_0x2dddc3(0x1f9)),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x2dddc3(0x224)+maxAttempts+_0x2dddc3(0x229));throw new Error(_0x2dddc3(0x26c));}}catch(error){return log(profileNameId,_0x2dddc3(0x221),null,![]),await genlogin[_0x2dddc3(0x1fd)](profileNameId,currentPage,_0x2dddc3(0x245)),await delay(0x3e8),null;}}async function checkFirstStart(){const _0x20f42c=_0x1b8464;try{await delay(0x3e8);const FirstStartBtn=await genlogin[_0x20f42c(0x208)](profileNameId,currentPage,getAks[_0x20f42c(0x1f0)],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0x20f42c(0x222),null,!![],'-'),log(profileNameId,_0x20f42c(0x217)),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0x20f42c(0x254),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin[_0x20f42c(0x208)](profileNameId,currentPage,getAks[_0x20f42c(0x1eb)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x20f42c(0x210),null,![]),null;log(profileNameId,'['+botName+_0x20f42c(0x1d4));const clicked=await dbClickM(getAks[_0x20f42c(0x1eb)]);if(!clicked)return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch',null,![]),null;log(profileNameId,'['+botName+_0x20f42c(0x206)),await delay(0x3e8);const typeText=await genlogin[_0x20f42c(0x1c6)](profileNameId,currentPage,getAks[_0x20f42c(0x1eb)],'Saved\x20Messages',0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x20f42c(0x25e),null,![]),null;log(profileNameId,'['+botName+_0x20f42c(0x1b1)),await delay(0x1388);const kqSearchRes=await genlogin[_0x20f42c(0x208)](profileNameId,currentPage,getAks[_0x20f42c(0x1be)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x20f42c(0x1db),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes');const clicked1=await clickM(getAks[_0x20f42c(0x1be)]);if(!clicked1)return log(profileNameId,'['+botName+_0x20f42c(0x1b3),null,![]),null;log(profileNameId,'['+botName+_0x20f42c(0x1cb)),await delay(0x7d0);const xpathRef=_0x20f42c(0x216)+bot[_0x20f42c(0x1ce)]+'\x27])[last()]',checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+_0x20f42c(0x1fb)),await reCheckClickStart(),_0x20f42c(0x1ef);log(profileNameId,'['+botName+_0x20f42c(0x20e),null,![]),await delay(0x7d0);const checkChatInput=await genlogin[_0x20f42c(0x208)](profileNameId,currentPage,getAks[_0x20f42c(0x1d2)],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+_0x20f42c(0x253),null,![]),null;log(profileNameId,'['+botName+_0x20f42c(0x20f));const click2=await dbClickM(getAks[_0x20f42c(0x1d2)]);!click2?log(profileNameId,'['+botName+'][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput',null,![]):log(profileNameId,'['+botName+_0x20f42c(0x1f2));await delay(0x7d0);const typeText1=await genlogin[_0x20f42c(0x1c6)](profileNameId,currentPage,getAks['ChatInput'],bot[_0x20f42c(0x1ce)],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+_0x20f42c(0x214),null,![]):log(profileNameId,'['+botName+'][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20'+bot[_0x20f42c(0x1ce)]);await delay(0x7d0);const checkBtnSend=await clickM(getAks[_0x20f42c(0x1d1)]);!checkBtnSend?log(profileNameId,'['+botName+_0x20f42c(0x26e),null,![]):log(profileNameId,'['+botName+_0x20f42c(0x27b));await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+_0x20f42c(0x25f)),await reCheckClickStart(),_0x20f42c(0x1ef);return log(profileNameId,'['+botName+_0x20f42c(0x25d)),null;}catch(error){return log(profileNameId,'['+botName+_0x20f42c(0x1bc)+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0xa9d36f=_0x1b8464;try{await delay(0x3e8);const checkLinkRef=await genlogin[_0xa9d36f(0x208)](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+'][clickLinkRef]tìm\x20thấy\x20LinkRef');const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+_0xa9d36f(0x250),null,![]):log(profileNameId,'['+botName+_0xa9d36f(0x270));await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+_0xa9d36f(0x1b2),null,![]):log(profileNameId,'['+botName+'][clickLinkRef]\x20Click\x20launchConfirm\x20OK');const kqCkIframe=await genlogin[_0xa9d36f(0x208)](profileNameId,currentPage,getAks[_0xa9d36f(0x266)],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+_0xa9d36f(0x21b),null,![]);const kqCkStartbtn=await genlogin[_0xa9d36f(0x208)](profileNameId,currentPage,getAks[_0xa9d36f(0x1f0)],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0xa9d36f(0x1e0),null,![]),!![];else{log(profileNameId,'['+botName+'][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start');const clickStart=await clickM(getAks[_0xa9d36f(0x1f0)]);!clickStart&&log(profileNameId,'['+botName+_0xa9d36f(0x1d3),null,![]),log(profileNameId,'['+botName+_0xa9d36f(0x212));}}else{log(profileNameId,'['+botName+'][clickLinkRef]\x20Tìm\x20thấy\x20iframe');const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+_0xa9d36f(0x1ed),null,![]):log(profileNameId,'['+botName+_0xa9d36f(0x25c));}return!![];}else return log(profileNameId,'['+botName+_0xa9d36f(0x220)+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+'][clickLinkRef][Lỗi]:\x20'+error,null,![]),null;}}async function reCheckClickStart(){const _0x1920f0=_0x1b8464;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin[_0x1920f0(0x208)](profileNameId,currentPage,getAks[_0x1920f0(0x1eb)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x1920f0(0x1b0),null,![]),null;log(profileNameId,'['+botName+_0x1920f0(0x22f));const clicked=await dbClickM(getAks['InputSearch']);if(!clicked)return log(profileNameId,'['+botName+_0x1920f0(0x1da),null,![]),null;log(profileNameId,'['+botName+_0x1920f0(0x1c3)),await delay(0x3e8);const typeText=await genlogin['typeText'](profileNameId,currentPage,getAks[_0x1920f0(0x1eb)],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x1920f0(0x1c7),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK'),await delay(0x1388);const kqSearchRes=await genlogin[_0x1920f0(0x208)](profileNameId,currentPage,getAks[_0x1920f0(0x1be)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x1920f0(0x1b5),null,![]),null;log(profileNameId,'['+botName+_0x1920f0(0x23f));const clicked1=await clickM(getAks['SearchRes']);if(!clicked1)return log(profileNameId,'['+botName+_0x1920f0(0x207),null,![]),null;log(profileNameId,'['+botName+_0x1920f0(0x264)),await delay(0x3e8);const FirstStartBtn1=await genlogin[_0x1920f0(0x208)](profileNameId,currentPage,getAks[_0x1920f0(0x1f0)],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+'][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start'),await delay(0x3e8);const clickStart=await clickM(getAks[_0x1920f0(0x1f0)]);if(!clickStart)return log(profileNameId,'['+botName+_0x1920f0(0x25b),null,![]),null;return log(profileNameId,'['+botName+_0x1920f0(0x225)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+_0x1920f0(0x218)+error,null,![]),null;}}async function ShowInputSearch(){const _0x2dc3e8=_0x1b8464;try{log(profileNameId,_0x2dc3e8(0x238),null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x2dc3e8(0x208)](profileNameId,currentPage,getAks[_0x2dc3e8(0x1bb)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x2dc3e8(0x226),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose');const kqClickSideBarRightClose=await clickM(getAks[_0x2dc3e8(0x1bb)]);if(!kqClickSideBarRightClose){log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose',![]);continue;}log(profileNameId,_0x2dc3e8(0x1e2));continue;}const kqCkBackArrow=await genlogin[_0x2dc3e8(0x208)](profileNameId,currentPage,getAks[_0x2dc3e8(0x27f)],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x2dc3e8(0x1ff),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow');const kqClickBackArrow=await clickM(getAks[_0x2dc3e8(0x27f)]);if(!kqClickBackArrow){log(profileNameId,_0x2dc3e8(0x1d9),null,![]);continue;}log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok');continue;}const inputsearch=await genlogin[_0x2dc3e8(0x208)](profileNameId,currentPage,getAks['InputSearch'],0x3e8);if(inputsearch){log(profileNameId,_0x2dc3e8(0x265),null);break;}}const kqClearBtn=await genlogin[_0x2dc3e8(0x208)](profileNameId,currentPage,getAks[_0x2dc3e8(0x1c8)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x2dc3e8(0x211),null,![]);else{log(profileNameId,_0x2dc3e8(0x278));const kqClickClearBtn=await clickM(getAks['clearInputSearch']);!kqClickClearBtn?log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch',![]):log(profileNameId,_0x2dc3e8(0x252));}const kq=await dbClickM(getAks[_0x2dc3e8(0x1eb)]);return!kq?log(profileNameId,'[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch',![]):log(profileNameId,_0x2dc3e8(0x242)),!![];}catch(error){return log(profileNameId,'['+botName+_0x2dc3e8(0x1d6)+error,null,![]),null;}}async function closeIframe(){const _0x3f6246=_0x1b8464;try{log(profileNameId,_0x3f6246(0x256),null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin[_0x3f6246(0x208)](profileNameId,currentPage,getAks[_0x3f6246(0x266)],0x3e8);if(kq5){log(profileNameId,_0x3f6246(0x267),null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,_0x3f6246(0x215),null,![]):log(profileNameId,'[closeIframe]TatGame\x20ok');}else break;}return null;}catch(error){return log(profileNameId,_0x3f6246(0x1f3)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x4a9e59=_0x1b8464;try{await delay(0x3e8);const clicked=await genlogin[_0x4a9e59(0x201)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x4a9e59(0x1c0)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x4a9e59(0x219)+xpath+_0x4a9e59(0x1e6)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x4a9e59(0x248)+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x1fb129=_0x1b8464;try{await delay(0x3e8);const clicked=await genlogin[_0x1fb129(0x201)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x1fb129(0x249)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x1fb129(0x209)+xpath+_0x1fb129(0x1e6)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x1fb129(0x1b8)+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x434dfa=_0x1b8464;try{const clicked=await genlogin[_0x434dfa(0x201)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x434dfa(0x255)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x434dfa(0x23d)+xpath+_0x434dfa(0x1e6)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x434dfa(0x22d)+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0x3c7f34=_0x1b8464;try{const clicked=await genlogin[_0x3c7f34(0x201)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+'][dbClickM]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x3c7f34(0x231)+xpath+_0x3c7f34(0x1e6)),clicked;}catch(error){return log(profileNameId,'['+botName+'][dbClickM][Lỗi]:\x20'+error,null,![]),null;}}async function clickP(x,y){const _0x5cf270=_0x1b8464;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+_0x5cf270(0x1e4)+x+':'+y,![]);throw new Error(_0x5cf270(0x258)+xpath);}return log(profileNameId,'['+botName+'][click]Click\x20'+x+':'+y+_0x5cf270(0x1e6)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x5cf270(0x248)+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){if(Atomics['load'](tasksData,taskIndex)===0x1)return!![];return![];}};