function a0_0x2a6f(_0x2531db,_0x5bedcd){const _0x587914=a0_0x5879();return a0_0x2a6f=function(_0x2a6ffa,_0x3f79b1){_0x2a6ffa=_0x2a6ffa-0x1bd;let _0xa4cc79=_0x587914[_0x2a6ffa];return _0xa4cc79;},a0_0x2a6f(_0x2531db,_0x5bedcd);}(function(_0x10532d,_0x595c14){const _0x31af40=a0_0x2a6f,_0x3d9a44=_0x10532d();while(!![]){try{const _0x2f88e2=parseInt(_0x31af40(0x26c))/0x1*(parseInt(_0x31af40(0x288))/0x2)+-parseInt(_0x31af40(0x257))/0x3+-parseInt(_0x31af40(0x1bf))/0x4+-parseInt(_0x31af40(0x278))/0x5+-parseInt(_0x31af40(0x26a))/0x6*(parseInt(_0x31af40(0x1c8))/0x7)+-parseInt(_0x31af40(0x28d))/0x8*(-parseInt(_0x31af40(0x1e3))/0x9)+parseInt(_0x31af40(0x1f3))/0xa;if(_0x2f88e2===_0x595c14)break;else _0x3d9a44['push'](_0x3d9a44['shift']());}catch(_0x2cac55){_0x3d9a44['push'](_0x3d9a44['shift']());}}}(a0_0x5879,0x71824));function a0_0x5879(){const _0xd5cdee=['[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20','][click]Click\x20','typeText','[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe','12504ZiGwMP','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','][clickLinkRef][Lỗi]:\x20','[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway','elementExistsByXPath','2410440NzrTRs','[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed','Không\x20tìm\x20thấy\x20CloseGame','clearInputSearch','][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput','ButtonInChat','openUrl','getAttributeFromXPath','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','357mSSojk','MainOpenButton','][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start','[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game','[timGame]Không\x20tìm\x20thấy\x20SearchRes','Không\x20load\x20được\x20game','[closeIframe]TatGame\x20ok','ForceClosePopup','\x20tồn\x20tại','][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes','loop','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','[timGame][launchConfirm]click\x20LaunchConfirm\x20OK','[timGame][checkStartGame]\x20Click\x20','][checkFirstStart]Không\x20Click\x20được\x20LinkRef','][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game','[closeIframe]check\x20tắt\x20game\x20đang\x20mở','Không\x20mở\x20tab\x20mới','gui','dialogWarnBtn','[timGame]Gui\x20ok','[timGame][closeAnyway]click\x20ForceClosePopup\x20OK','][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','Iframe','[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK','2691GidUev','[timGame][checkLoadGame]\x20Check\x20iframe\x20link\x20lần\x20','][reCheckClickStart]Click\x20InputSearch\x20OK','[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch','[timGame][gui]\x20Đã\x20thử\x20','][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','][dbclick][Lỗi]:\x20','][checkFirstStart]\x20Click\x20BtnSend\x20OK','[timGame][checkLoadGame]newTab\x20mode','[timGame][gui]start\x20game\x20ok','][timGame][ShowInputSearch][Lỗi]:\x20','[timGame]Gui','[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway','][clickLinkRef]\x20Click\x20LinkRef\x20OK','19375880cTPVxA','][clickLinkRef]Không\x20đóng\x20iframe','[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game','[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20','[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm','][dbclick]dbclick\x20','[timGame][gui]TatGame\x20ok','Không\x20tìm\x20thấy\x20nút\x20mở\x20game','[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game','xpath','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch','][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref','[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame][checkLoadGame]\x20Check\x20vào\x20subframe\x20lần\x20','switchFrame','mainframe','[timGame][ShowInputSearch]\x20ShowInputSearch','mainFrame','[timGame][gui]Không\x20load\x20game\x20được','][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm','BtnSend','[timGame]Tìm\x20thấy\x20SearchRes\x20ok','][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link','[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','][checkFirstStart]Click\x20InputSearch\x20OK','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch','CloseGame','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','[timGame][gui][Lỗi]:\x20','[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro','][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start','[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch','Không\x20vào\x20được\x20subframe','Không\x20tắt\x20được\x20game','\x20ok','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','[timGame][checkLoadGame]\x20popup\x20mode','[timGame]NoGui','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','[timGame][closeAnyway][Lỗi]:\x20','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK','LaunchConfirm','[timGame][TatGame]Vào\x20tắt\x20game\x20lần:','][checkFirstStart]Click\x20vào\x20LinkRef\x20ok','click','name','][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow','[timGame][closeAnyway]check\x20close\x20anyway','][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef','[closeIframe]Đang\x20có\x20game\x20mở','[timGame]Không\x20click\x20được\x20vào\x20SearchRes','[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start','Không\x20tìm\x20thấy\x20SearchRes','tagGame2','ButtonTextPlay','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start','[timGame][gui]Đang\x20có\x20game\x20mở','][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch','][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20','load','\x20lần\x20thử','][reCheckClickStart]Click\x20SearchRes\x20OK','ChatInput','[timGame][TatGame]click\x20CloseGame\x20OK','ref','][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput','[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game','][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27','ButtonTextMining','Không\x20click\x20được\x20vào\x20SearchRes','][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes','FirstStartBtn','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch','][reCheckClickStart]\x20Click\x20start\x20OK','[timGame][launchConfirm]check\x20launchConfirm','ButtonTextClaim','SearchRes','[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới','][clickLinkRef]tìm\x20thấy\x20LinkRef','][clickLinkRef]\x20Đóng\x20iframe\x20OK','[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow','][clickLinkRef]\x20Click\x20start\x20OK','][reCheckClickStart][Lỗi]:\x20','tagGame3','[timGame]\x20nhập\x20','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','[timGame]\x20click\x20SearchRes\x20ok','tagGame','[timGame][TatGame]Tắt\x20game\x20OK','[closeIframe][Lỗi]:\x20','[closeIframe]Không\x20tắt\x20được\x20game','[timGame]Tìm\x20thấy\x20dialogWarnBtn','[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20','1735335kBAXHy','Không\x20nhập\x20được\x20vào\x20inputsearch','[timGame]\x20click\x20inputsearch\x20ok','[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm','Không\x20tìm\x20thấy\x20iframe\x20link','\x20OK','[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok','[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK','playtag','][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput','][checkFirstStart]click\x20link\x20ref\x20ok','[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame','][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes','getCurrentPage','][clickM]Không\x20click\x20được\x20vào\x20','][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch','sideBarRightClose','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','][clickM]Click\x20','92034BGKJds','][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20','762703qSlgkv','Không\x20start\x20game\x20được','[timGame][TatGame][Lỗi]:\x20','[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link','ButtonTextStart','][click][Lỗi]:\x20','Không\x20click\x20được\x20vào\x20inputsearch','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game','BackArrow','[timGame][gui]Không\x20start\x20game\x20được','][clickM][Lỗi]:\x20','[timGame]Click\x20dialogWarnBtn\x20ok','3696760ThBBtu','][dbclick]Không\x20dbclick\x20được\x20vào\x20','length','Saved\x20Messages','][dbClickM][Lỗi]:\x20','[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok','][checkFirstStart][Lỗi]:\x20','\x27])[last()]','][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start','InputSearch','][clickLinkRef]\x20Tìm\x20thấy\x20iframe','Không\x20lấy\x20page\x20mới','ButtonTextLaunch','newTab','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','2MxPqKm'];a0_0x5879=function(){return _0xd5cdee;};return a0_0x5879();}import{log,json}from'../modules/logger.js';export default async function (context,HostName){const _0x495b02=a0_0x2a6f,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot['name'];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,'[timGame]Tìm\x20Game',null,'i','=');const kqDialogWarnBtn=await genlogin[_0x495b02(0x1be)](profileNameId,currentPage,getAks[_0x495b02(0x1dc)],0x1f4);if(kqDialogWarnBtn){log(profileNameId,_0x495b02(0x255),null,'w');const kqClickDialogWarnBtn=await clickM(getAks['dialogWarnBtn']);!kqClickDialogWarnBtn&&log(profileNameId,'[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn',null,![]),log(profileNameId,_0x495b02(0x277));}log(profileNameId,'[timGame]check\x20tắt\x20game\x20đang\x20mở',null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x495b02(0x1e1)],0x3e8);if(kq5){log(profileNameId,_0x495b02(0x231),null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error(_0x495b02(0x217));log(profileNameId,_0x495b02(0x1f9));}else break;}if(attempts===maxAttempts){log(profileNameId,_0x495b02(0x1e7)+maxAttempts+'\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở',null,![]);throw new Error(_0x495b02(0x217));}log(profileNameId,'[timGame]Vào\x20Tìm\x20game\x20'+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['sideBarRightClose'],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,'[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose',null,![]);else{log(profileNameId,_0x495b02(0x1f0));const kqClickSideBarRightClose=await clickM(getAks[_0x495b02(0x267)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x495b02(0x1c7),![]);continue;}log(profileNameId,_0x495b02(0x20b)),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0x495b02(0x1be)](profileNameId,currentPage,getAks['BackArrow'],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x495b02(0x24f),null,![]);else{log(profileNameId,_0x495b02(0x24a));const kqClickBackArrow=await clickM(getAks['BackArrow']);if(!kqClickBackArrow){log(profileNameId,_0x495b02(0x219),null,![]);continue;}log(profileNameId,'[timGame]\x20click\x20nút\x20BackArrow\x20ok'),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0x495b02(0x1be)](profileNameId,currentPage,getAks['InputSearch'],0x3e8);if(inputsearch){log(profileNameId,'[timGame]tìm\x20thấy\x20inputsearch',null);break;}}const kqClearBtn=await genlogin[_0x495b02(0x1be)](profileNameId,currentPage,getAks[_0x495b02(0x1c2)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x495b02(0x215),null,![]);else{log(profileNameId,_0x495b02(0x20f));const kqClickClearBtn=await clickM(getAks[_0x495b02(0x1c2)]);!kqClickClearBtn?log(profileNameId,_0x495b02(0x1fd),![]):log(profileNameId,_0x495b02(0x27e));}const kq=await dbClickM(getAks[_0x495b02(0x282)]);if(!kq){log(profileNameId,'[timGame]Không\x20click\x20được\x20vào\x20inputsearch',![]);throw new Error(_0x495b02(0x272));}log(profileNameId,_0x495b02(0x259)),await delay(0x3e8);const kq2=await genlogin['typeText'](profileNameId,currentPage,getAks['InputSearch'],botName);await delay(0x3e8);if(!kq2){log(profileNameId,_0x495b02(0x1e6),![]);throw new Error(_0x495b02(0x258));}log(profileNameId,_0x495b02(0x24e)+botName+_0x495b02(0x218)),await delay(0x1388);const kq3=await genlogin[_0x495b02(0x1be)](profileNameId,currentPage,getAks['SearchRes']);if(!kq3){log(profileNameId,_0x495b02(0x1cc),![]);throw new Error(_0x495b02(0x22d));}log(profileNameId,_0x495b02(0x208)),await delay(0x3e8);const kq4=await clickM(getAks[_0x495b02(0x246)]);if(!kq4){log(profileNameId,_0x495b02(0x22b),![]);throw new Error(_0x495b02(0x23e));}log(profileNameId,_0x495b02(0x250)),await genlogin['setTitle'](profileNameId,currentPage,profileNameId);if(bot[_0x495b02(0x1db)]==='1'){log(profileNameId,_0x495b02(0x1ef)),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error('Không\x20check\x20gui\x20được');if(kq10===_0x495b02(0x1d2))return log(profileNameId,_0x495b02(0x1ff)),{'status':_0x495b02(0x1d2)};return await delay(0x3e8),log(profileNameId,_0x495b02(0x1dd)),await clearVar(),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,_0x495b02(0x21b),null,![]),await clearVar(),{'status':!![]};}catch(error){return log(profileNameId,'[timGame][Lỗi]1:\x20'+error,null,![]),await clearVar(),{'status':![]};}async function gui(){const _0x38ef54=_0x495b02;try{log(profileNameId,_0x38ef54(0x241),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart===_0x38ef54(0x1d2))return log(profileNameId,_0x38ef54(0x213)),_0x38ef54(0x1d2);await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,_0x38ef54(0x275),![]);throw new Error(_0x38ef54(0x26d));}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,_0x38ef54(0x205),![]);throw new Error('Không\x20load\x20game\x20được');}return await delay(0x3e8),log(profileNameId,_0x38ef54(0x1ed)),!![];}catch(error){return log(profileNameId,_0x38ef54(0x212)+error,![]),null;}}async function TatGame(){const _0x3a13b6=_0x495b02;try{log(profileNameId,_0x3a13b6(0x222)+demLoop);const kq7=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['CloseGame'],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x3a13b6(0x1e1)],0x3e8);if(kq9){log(profileNameId,'[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được');throw new Error(_0x3a13b6(0x1c1));}return log(profileNameId,_0x3a13b6(0x252)),!![];}const kq8=await clickM(getAks[_0x3a13b6(0x210)]);!kq8&&log(profileNameId,_0x3a13b6(0x262),null,![]);log(profileNameId,_0x3a13b6(0x238)),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,_0x3a13b6(0x1c0),![]),!![];}catch(error){return log(profileNameId,_0x3a13b6(0x26e)+error,![]),null;}}async function closeAnyway(){const _0x2b6614=_0x495b02;try{log(profileNameId,_0x2b6614(0x228));const kq10=await genlogin[_0x2b6614(0x1be)](profileNameId,currentPage,getAks['ForceClosePopup'],0x1388);if(!kq10)return log(profileNameId,_0x2b6614(0x1bd),![]),!![];log(profileNameId,_0x2b6614(0x1f1)),await delay(0x7d0);const kq11=await clickM(getAks[_0x2b6614(0x1cf)]);if(!kq11)throw new Error('Không\x20click\x20được\x20vào\x20ForceClosePopup');return log(profileNameId,_0x2b6614(0x1de)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x2b6614(0x21e)+error,![]),null;}}async function launchConfirm(){const _0x298072=_0x495b02;try{log(profileNameId,_0x298072(0x244));const kq10=await genlogin[_0x298072(0x1be)](profileNameId,currentPage,getAks[_0x298072(0x221)],0xbb8);if(!kq10)return log(profileNameId,_0x298072(0x1f7),null,![]),null;log(profileNameId,_0x298072(0x25a)),await delay(0x7d0);const kq11=await clickM(getAks[_0x298072(0x221)]);if(!kq11)return log(profileNameId,'[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm',null,![]),null;return log(profileNameId,_0x298072(0x1d4)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'[timGame][launchConfirm][Lỗi]:\x20'+error,![]),null;}}async function checkStartGame(){const _0x3589ad=_0x495b02;try{log(profileNameId,_0x3589ad(0x1cb),null,'-');const buttons=[{'xpath':bot[_0x3589ad(0x25f)],'name':_0x3589ad(0x25f)},{'xpath':getAks['MainOpenButton'],'name':_0x3589ad(0x1c9)},{'xpath':getAks[_0x3589ad(0x22f)],'name':'ButtonTextPlay'},{'xpath':getAks[_0x3589ad(0x245)],'name':_0x3589ad(0x245)},{'xpath':getAks[_0x3589ad(0x270)],'name':_0x3589ad(0x270)},{'xpath':getAks['ButtonTextLaunch'],'name':_0x3589ad(0x285)},{'xpath':getAks[_0x3589ad(0x23d)],'name':_0x3589ad(0x23d)},{'xpath':getAks['ButtonInChat'],'name':_0x3589ad(0x1c4)}],kq=await genlogin[_0x3589ad(0x1be)](profileNameId,currentPage,getAks[_0x3589ad(0x240)],0x3e8);if(!kq)log(profileNameId,_0x3589ad(0x1d8),null,![]);else{log(profileNameId,_0x3589ad(0x22c)),await delay(0x3e8);const kq1=await clickM(getAks[_0x3589ad(0x240)]);!kq1?log(profileNameId,_0x3589ad(0x230),null,![]):(log(profileNameId,_0x3589ad(0x25e)),await delay(0x7d0));}for(let i=0x0;i<buttons[_0x3589ad(0x27a)];i++){const button=buttons[i];if(!button[_0x3589ad(0x1fc)])continue;const exists=await genlogin[_0x3589ad(0x1be)](profileNameId,currentPage,button[_0x3589ad(0x1fc)],0x7d0);if(exists){log(profileNameId,'[timGame][checkStartGame]\x20'+button['name']+_0x3589ad(0x1d0));const clicked=await clickM(button[_0x3589ad(0x1fc)]);!clicked?log(profileNameId,_0x3589ad(0x21d)+button[_0x3589ad(0x225)],null,![]):log(profileNameId,_0x3589ad(0x1d5)+button[_0x3589ad(0x225)]+'\x20OK');await launchConfirm(),await delay(0x1388);const kqIframe=await genlogin[_0x3589ad(0x1be)](profileNameId,currentPage,getAks['Iframe'],0x1388);if(!kqIframe){log(profileNameId,_0x3589ad(0x21f),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,_0x3589ad(0x273),null,![]);throw new Error(_0x3589ad(0x1fa));}catch(error){return log(profileNameId,_0x3589ad(0x256)+error['message'],null,![]),null;}}async function checkLoadGame(){const _0x1c3236=_0x495b02;try{log(profileNameId,_0x1c3236(0x1fb));const tags=[bot[_0x1c3236(0x251)],bot['tagGame1'],bot[_0x1c3236(0x22e)],bot[_0x1c3236(0x24d)],bot['tagGame4']];if(parseInt(bot['newTab'])===0x1){log(profileNameId,_0x1c3236(0x1ec),null,'w','-');const maxAttempts=0x5;let demLoop=0x0;const maxDemLoop=0x19;while(demLoop<maxDemLoop){demLoop++,log(profileNameId,_0x1c3236(0x1e4)+demLoop+'/'+maxDemLoop,null,![]);const iframeLink=await genlogin[_0x1c3236(0x1c6)](profileNameId,currentPage,getAks[_0x1c3236(0x1e1)],'src',0x3e8);await delay(0x3e8);if(iframeLink)break;}if(!iframeLink){log(profileNameId,_0x1c3236(0x20a),null,![]);throw new Error(_0x1c3236(0x25b));}log(profileNameId,_0x1c3236(0x26f));const kqNewTab=await genlogin[_0x1c3236(0x286)](profileNameId,browser);if(!kqNewTab){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới',null,![]);throw new Error(_0x1c3236(0x1da));}log(profileNameId,_0x1c3236(0x27d));const newPage=await genlogin[_0x1c3236(0x264)](profileNameId,browser);if(!newPage){log(profileNameId,_0x1c3236(0x247),null,![]);throw new Error(_0x1c3236(0x284));}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl['hostname'];const kqOpenLink=await genlogin[_0x1c3236(0x1c5)](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,_0x1c3236(0x28c),null,![]);throw new Error('Không\x20mở\x20link\x20iframe');}log(profileNameId,_0x1c3236(0x1e2)),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,'[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20'+attempt);for(let i=0x0;i<tags['length'];i++){const result=await genlogin['elementExistsByXPath'](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,_0x1c3236(0x289)+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x1c3236(0x1e9)+maxAttempts+_0x1c3236(0x235));throw new Error(_0x1c3236(0x1cd));}else{log(profileNameId,_0x1c3236(0x21a),null,'w','-');const maxAttempts=0x5;let demLoop=0x0;const maxDemLoop=0x19;while(demLoop<maxDemLoop){demLoop++,log(profileNameId,_0x1c3236(0x200)+demLoop+'/'+maxDemLoop,null,![]);const subframe=await genlogin[_0x1c3236(0x201)](profileNameId,currentPage,getAks['Iframe']);await delay(0x3e8);if(subframe)break;}if(!subframe){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20vào\x20được\x20subframe',null,![]);throw new Error(_0x1c3236(0x216));}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x1c3236(0x1f6)+attempt);for(let i=0x0;i<tags[_0x1c3236(0x27a)];i++){const result=await genlogin[_0x1c3236(0x1be)](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,'[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20'+tags[i],![]),await genlogin[_0x1c3236(0x201)](profileNameId,currentPage,_0x1c3236(0x202)),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20'+maxAttempts+_0x1c3236(0x235));throw new Error('Không\x20load\x20được\x20game');}}catch(error){return log(profileNameId,_0x1c3236(0x1f5),null,![]),await genlogin['switchFrame'](profileNameId,currentPage,_0x1c3236(0x204)),await delay(0x3e8),null;}}async function checkFirstStart(){const _0x54c26c=_0x495b02;try{await delay(0x3e8);const FirstStartBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x54c26c(0x240)],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0x54c26c(0x211),null,!![],'-'),log(profileNameId,_0x54c26c(0x23b)),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0x54c26c(0x268),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin[_0x54c26c(0x1be)](profileNameId,currentPage,getAks[_0x54c26c(0x282)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x54c26c(0x20d),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch');const clicked=await dbClickM(getAks[_0x54c26c(0x282)]);if(!clicked)return log(profileNameId,'['+botName+_0x54c26c(0x232),null,![]),null;log(profileNameId,'['+botName+_0x54c26c(0x20e)),await delay(0x3e8);const typeText=await genlogin[_0x54c26c(0x28b)](profileNameId,currentPage,getAks[_0x54c26c(0x282)],_0x54c26c(0x27b),0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch',null,![]),null;log(profileNameId,'['+botName+_0x54c26c(0x23c)),await delay(0x1388);const kqSearchRes=await genlogin[_0x54c26c(0x1be)](profileNameId,currentPage,getAks[_0x54c26c(0x246)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x54c26c(0x20c),null,![]),null;log(profileNameId,'['+botName+_0x54c26c(0x209));const clicked1=await clickM(getAks[_0x54c26c(0x246)]);if(!clicked1)return log(profileNameId,'['+botName+_0x54c26c(0x263),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]Click\x20SearchRes\x20OK'),await delay(0x7d0);const xpathRef='(//a[@href=\x27'+bot['ref']+_0x54c26c(0x280),checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+_0x54c26c(0x261)),await reCheckClickStart(),'loop';log(profileNameId,'['+botName+_0x54c26c(0x1fe),null,![]),await delay(0x7d0);const checkChatInput=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['ChatInput'],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+_0x54c26c(0x23a),null,![]),null;log(profileNameId,'['+botName+_0x54c26c(0x1e8));const click2=await dbClickM(getAks[_0x54c26c(0x237)]);!click2?log(profileNameId,'['+botName+_0x54c26c(0x260),null,![]):log(profileNameId,'['+botName+'][checkFirstStart]\x20Click\x20ChatInput\x20OK');await delay(0x7d0);const typeText1=await genlogin['typeText'](profileNameId,currentPage,getAks[_0x54c26c(0x237)],bot['ref'],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+_0x54c26c(0x1c3),null,![]):log(profileNameId,'['+botName+_0x54c26c(0x233)+bot[_0x54c26c(0x239)]);await delay(0x7d0);const checkBtnSend=await clickM(getAks[_0x54c26c(0x207)]);!checkBtnSend?log(profileNameId,'['+botName+_0x54c26c(0x1df),null,![]):log(profileNameId,'['+botName+_0x54c26c(0x1eb));await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+_0x54c26c(0x223)),await reCheckClickStart(),'loop';return log(profileNameId,'['+botName+_0x54c26c(0x1d6)),null;}catch(error){return log(profileNameId,'['+botName+_0x54c26c(0x27f)+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0x2a636b=_0x495b02;try{await delay(0x3e8);const checkLinkRef=await genlogin[_0x2a636b(0x1be)](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+_0x2a636b(0x248));const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+_0x2a636b(0x229),null,![]):log(profileNameId,'['+botName+_0x2a636b(0x1f2));await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+_0x2a636b(0x206),null,![]):log(profileNameId,'['+botName+'][clickLinkRef]\x20Click\x20launchConfirm\x20OK');const kqCkIframe=await genlogin[_0x2a636b(0x1be)](profileNameId,currentPage,getAks[_0x2a636b(0x1e1)],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+'][clickLinkRef]Không\x20tìm\x20thấy\x20iframe',null,![]);const kqCkStartbtn=await genlogin[_0x2a636b(0x1be)](profileNameId,currentPage,getAks[_0x2a636b(0x240)],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0x2a636b(0x28e),null,![]),!![];else{log(profileNameId,'['+botName+_0x2a636b(0x1ca));const clickStart=await clickM(getAks[_0x2a636b(0x240)]);!clickStart&&log(profileNameId,'['+botName+_0x2a636b(0x281),null,![]),log(profileNameId,'['+botName+_0x2a636b(0x24b));}}else{log(profileNameId,'['+botName+_0x2a636b(0x283));const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+_0x2a636b(0x1f4),null,![]):log(profileNameId,'['+botName+_0x2a636b(0x249));}return!![];}else return log(profileNameId,'['+botName+_0x2a636b(0x26b)+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+_0x2a636b(0x28f)+error,null,![]),null;}}async function reCheckClickStart(){const _0x71792b=_0x495b02;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin[_0x71792b(0x1be)](profileNameId,currentPage,getAks[_0x71792b(0x282)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+'][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch',null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch');const clicked=await dbClickM(getAks[_0x71792b(0x282)]);if(!clicked)return log(profileNameId,'['+botName+_0x71792b(0x266),null,![]),null;log(profileNameId,'['+botName+_0x71792b(0x1e5)),await delay(0x3e8);const typeText=await genlogin['typeText'](profileNameId,currentPage,getAks['InputSearch'],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x71792b(0x242),null,![]),null;log(profileNameId,'['+botName+_0x71792b(0x220)),await delay(0x1388);const kqSearchRes=await genlogin[_0x71792b(0x1be)](profileNameId,currentPage,getAks['SearchRes'],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x71792b(0x287),null,![]),null;log(profileNameId,'['+botName+_0x71792b(0x1d1));const clicked1=await clickM(getAks['SearchRes']);if(!clicked1)return log(profileNameId,'['+botName+_0x71792b(0x23f),null,![]),null;log(profileNameId,'['+botName+_0x71792b(0x236)),await delay(0x3e8);const FirstStartBtn1=await genlogin[_0x71792b(0x1be)](profileNameId,currentPage,getAks[_0x71792b(0x240)],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+_0x71792b(0x226)),await delay(0x3e8);const clickStart=await clickM(getAks[_0x71792b(0x240)]);if(!clickStart)return log(profileNameId,'['+botName+_0x71792b(0x214),null,![]),null;return log(profileNameId,'['+botName+_0x71792b(0x243)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+_0x71792b(0x24c)+error,null,![]),null;}}async function ShowInputSearch(){const _0x39fa00=_0x495b02;try{log(profileNameId,_0x39fa00(0x203),null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x39fa00(0x267)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose',null,![]);else{log(profileNameId,_0x39fa00(0x1e0));const kqClickSideBarRightClose=await clickM(getAks[_0x39fa00(0x267)]);if(!kqClickSideBarRightClose){log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose',![]);continue;}log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok');continue;}const kqCkBackArrow=await genlogin[_0x39fa00(0x1be)](profileNameId,currentPage,getAks[_0x39fa00(0x274)],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x39fa00(0x1d3),null,![]);else{log(profileNameId,_0x39fa00(0x227));const kqClickBackArrow=await clickM(getAks[_0x39fa00(0x274)]);if(!kqClickBackArrow){log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow',null,![]);continue;}log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok');continue;}const inputsearch=await genlogin[_0x39fa00(0x1be)](profileNameId,currentPage,getAks[_0x39fa00(0x282)],0x3e8);if(inputsearch){log(profileNameId,_0x39fa00(0x21c),null);break;}}const kqClearBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x39fa00(0x1c2)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x39fa00(0x215),null,![]);else{log(profileNameId,_0x39fa00(0x20f));const kqClickClearBtn=await clickM(getAks[_0x39fa00(0x1c2)]);!kqClickClearBtn?log(profileNameId,_0x39fa00(0x1fd),![]):log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok');}const kq=await dbClickM(getAks[_0x39fa00(0x282)]);return!kq?log(profileNameId,'[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch',![]):log(profileNameId,_0x39fa00(0x25d)),!![];}catch(error){return log(profileNameId,'['+botName+_0x39fa00(0x1ee)+error,null,![]),null;}}async function closeIframe(){const _0x31466e=_0x495b02;try{log(profileNameId,_0x31466e(0x1d9),null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['Iframe'],0x3e8);if(kq5){log(profileNameId,_0x31466e(0x22a),null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,_0x31466e(0x254),null,![]):log(profileNameId,_0x31466e(0x1ce));}else break;}return null;}catch(error){return log(profileNameId,_0x31466e(0x253)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x14683a=_0x495b02;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+'][click]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x14683a(0x28a)+xpath+_0x14683a(0x25c)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x14683a(0x271)+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x2e6acd=_0x495b02;try{await delay(0x3e8);const clicked=await genlogin[_0x2e6acd(0x224)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x2e6acd(0x279)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x2e6acd(0x1f8)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x2e6acd(0x1ea)+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x20d446=_0x495b02;try{const clicked=await genlogin['click'](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x20d446(0x265)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x20d446(0x269)+xpath+_0x20d446(0x25c)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x20d446(0x276)+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0x276eb8=_0x495b02;try{const clicked=await genlogin[_0x276eb8(0x224)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+'][dbClickM]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+'][dbClickM]Click\x20'+xpath+_0x276eb8(0x25c)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x276eb8(0x27c)+error,null,![]),null;}}async function clickP(x,y){const _0x350223=_0x495b02;try{await delay(0x3e8);const clicked=await genlogin[_0x350223(0x224)](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+_0x350223(0x1d7)+x+':'+y,![]);throw new Error('Không\x20click\x20được\x20vào\x20'+xpath);}return log(profileNameId,'['+botName+_0x350223(0x28a)+x+':'+y+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+'][click][Lỗi]:\x20'+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x339bf0=_0x495b02;if(Atomics[_0x339bf0(0x234)](tasksData,taskIndex)===0x1)return!![];return![];}async function clearVar(){currentPage=null,screenData=null,tasksData=null;}};