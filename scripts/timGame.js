(function(_0x31b892,_0x2c4aaa){const _0x25e53b=a0_0x474c,_0x1444c1=_0x31b892();while(!![]){try{const _0x17e680=parseInt(_0x25e53b(0xd8))/0x1*(-parseInt(_0x25e53b(0x147))/0x2)+parseInt(_0x25e53b(0x104))/0x3+-parseInt(_0x25e53b(0xdb))/0x4*(-parseInt(_0x25e53b(0x10b))/0x5)+parseInt(_0x25e53b(0x8f))/0x6+parseInt(_0x25e53b(0xfb))/0x7+-parseInt(_0x25e53b(0xe2))/0x8+parseInt(_0x25e53b(0x129))/0x9*(-parseInt(_0x25e53b(0x13d))/0xa);if(_0x17e680===_0x2c4aaa)break;else _0x1444c1['push'](_0x1444c1['shift']());}catch(_0x5bfb7a){_0x1444c1['push'](_0x1444c1['shift']());}}}(a0_0x58d2,0xc11cf));function a0_0x58d2(){const _0x5314f2=['[timGame][TatGame]Tắt\x20game\x20OK','[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK','[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok','clearInputSearch','[timGame]Tìm\x20thấy\x20SearchRes\x20ok','][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch','[timGame][TatGame]click\x20CloseGame\x20OK','[timGame][gui]start\x20game\x20ok','Không\x20load\x20được\x20game','][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20','[timGame][launchConfirm]check\x20launchConfirm','[timGame][gui]Đang\x20có\x20game\x20mở','][checkFirstStart][Lỗi]:\x20','[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game','ref','][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput','1467GPzCOI','][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start','[timGame]check\x20tắt\x20game\x20đang\x20mở','name','[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch','[timGame][checkLoadGame]\x20popup\x20mode','[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame][launchConfirm]click\x20LaunchConfirm\x20OK','[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro','][clickLinkRef]\x20Tìm\x20thấy\x20iframe','ChatInput','message','][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch','BackArrow','][checkFirstStart]Click\x20InputSearch\x20OK','][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes','Iframe','[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway','][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20','[timGame]NoGui','97480ecgtpJ','[timGame]\x20nhập\x20','[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20','][dbclick]Không\x20dbclick\x20được\x20vào\x20','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','getAttributeFromXPath','Không\x20mở\x20tab\x20mới','\x27])[last()]','][clickM][Lỗi]:\x20','gui','820MAWhmZ','ButtonTextMining','Không\x20nhập\x20được\x20vào\x20inputsearch','[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start','typeText','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','click','Không\x20click\x20được\x20vào\x20SearchRes','FirstStartBtn','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','InputSearch','ButtonTextStart','CloseGame','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start','xpath','[timGame]tìm\x20thấy\x20inputsearch','\x20OK','[closeIframe]check\x20tắt\x20game\x20đang\x20mở','[timGame][checkLoadGame]\x20Check\x20iframe\x20link\x20lần\x20','ButtonInChat','5050278ArzsNs','\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game','newTab','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','Không\x20load\x20game\x20được','][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch','][clickM]Click\x20','][clickLinkRef]\x20Đóng\x20iframe\x20OK','][timGame][ShowInputSearch][Lỗi]:\x20','[timGame][gui]Không\x20load\x20game\x20được','elementExistsByXPath','][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput','Không\x20lấy\x20page\x20mới','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','[timGame]Vào\x20Tìm\x20game\x20','[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','LaunchConfirm','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start','][dbclick]dbclick\x20','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','tagGame','[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow','loop','][checkFirstStart]\x20Click\x20ChatInput\x20OK','[timGame][gui]Không\x20start\x20game\x20được','][dbClickM][Lỗi]:\x20','[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game','][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend','[timGame]\x20click\x20nút\x20BackArrow\x20ok','][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref','MainOpenButton','tagGame4','][reCheckClickStart]Click\x20SearchRes\x20OK','][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game','sideBarRightClose','][click][Lỗi]:\x20','ButtonTextLaunch','[timGame][ShowInputSearch]\x20ShowInputSearch','\x20tồn\x20tại','][clickLinkRef]Không\x20tìm\x20thấy\x20iframe','][checkFirstStart]click\x20link\x20ref\x20ok','[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame','[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed','ButtonTextPlay','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch','mainFrame','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','][dbClickM]Không\x20click\x20được\x20vào\x20','Không\x20click\x20được\x20vào\x20inputsearch','Saved\x20Messages','dialogWarnBtn','[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok','[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20','[timGame][checkStartGame]\x20Click\x20','[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame]Tìm\x20Game','\x20lần\x20thử','][click]Click\x20','][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch','[timGame][closeAnyway]click\x20ForceClosePopup\x20OK','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','[timGame][gui]\x20Đã\x20thử\x20','[timGame][TatGame]Vào\x20tắt\x20game\x20lần:','][clickLinkRef]Không\x20đóng\x20iframe','[timGame][checkLoadGame]newTab\x20mode','][dbClickM]Click\x20','1469YrxMdD','length','][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start','4688212DohqBM','][reCheckClickStart]\x20Click\x20start\x20OK','[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game','[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe','[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới','[timGame][closeAnyway]check\x20close\x20anyway','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch','3809616oTNbVv','][click]Không\x20click\x20được\x20vào\x20','][clickLinkRef]\x20Click\x20LinkRef\x20OK','tagGame1','hostname','ForceClosePopup','switchFrame','][dbclick][Lỗi]:\x20','[timGame]Không\x20click\x20được\x20vào\x20inputsearch','[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK','[timGame][closeAnyway][Lỗi]:\x20','playtag','[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow','load','][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch','[timGame][checkStartGame]\x20','][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm','Không\x20tắt\x20được\x20game','][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch','[timGame]Gui\x20ok','][clickLinkRef]tìm\x20thấy\x20LinkRef','[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','155253hyrgGS','[timGame]Tìm\x20thấy\x20dialogWarnBtn','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20','][reCheckClickStart]Click\x20InputSearch\x20OK','[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn','][clickLinkRef]\x20Click\x20launchConfirm\x20OK','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','Không\x20mở\x20link\x20iframe','4267386jWCoft','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','[closeIframe]Không\x20tắt\x20được\x20game','[timGame]\x20click\x20SearchRes\x20ok','][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput','[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK','Không\x20click\x20được\x20vào\x20','5bTGGOJ','[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link','[closeIframe]Đang\x20có\x20game\x20mở','ButtonTextClaim','][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK','[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game','Không\x20vào\x20được\x20subframe','tagGame3','][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes','SearchRes','[timGame]Gui','][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start','[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm'];a0_0x58d2=function(){return _0x5314f2;};return a0_0x58d2();}function a0_0x474c(_0x411572,_0x17c2d3){const _0x58d202=a0_0x58d2();return a0_0x474c=function(_0x474c15,_0x155344){_0x474c15=_0x474c15-0x89;let _0x434ef8=_0x58d202[_0x474c15];return _0x434ef8;},a0_0x474c(_0x411572,_0x17c2d3);}import{log,json}from'../modules/logger.js';export default async function (context,HostName){const _0x2edb46=a0_0x474c,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot[_0x2edb46(0x12c)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,_0x2edb46(0xcd),null,'i','=');const kqDialogWarnBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x2edb46(0xc6)],0x1f4);if(kqDialogWarnBtn){log(profileNameId,_0x2edb46(0xfc),null,'w');const kqClickDialogWarnBtn=await clickM(getAks[_0x2edb46(0xc6)]);!kqClickDialogWarnBtn&&log(profileNameId,_0x2edb46(0x100),null,![]),log(profileNameId,'[timGame]Click\x20dialogWarnBtn\x20ok');}log(profileNameId,_0x2edb46(0x12b),null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin[_0x2edb46(0x9a)](profileNameId,currentPage,getAks[_0x2edb46(0x139)],0x3e8);if(kq5){log(profileNameId,_0x2edb46(0x123),null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error(_0x2edb46(0xf4));log(profileNameId,'[timGame][gui]TatGame\x20ok');}else break;}if(attempts===maxAttempts){log(profileNameId,_0x2edb46(0xd3)+maxAttempts+_0x2edb46(0x90),null,![]);throw new Error('Không\x20tắt\x20được\x20game');}log(profileNameId,_0x2edb46(0x9e)+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x2edb46(0x9a)](profileNameId,currentPage,getAks[_0x2edb46(0xb5)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x2edb46(0xa0),null,![]);else{log(profileNameId,_0x2edb46(0x125));const kqClickSideBarRightClose=await clickM(getAks[_0x2edb46(0xb5)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x2edb46(0xc8),![]);continue;}log(profileNameId,_0x2edb46(0xc7)),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0x2edb46(0x9a)](profileNameId,currentPage,getAks['BackArrow'],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x2edb46(0x150),null,![]);else{log(profileNameId,_0x2edb46(0xa7));const kqClickBackArrow=await clickM(getAks[_0x2edb46(0x136)]);if(!kqClickBackArrow){log(profileNameId,'[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow',null,![]);continue;}log(profileNameId,_0x2edb46(0xae)),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0x2edb46(0x9a)](profileNameId,currentPage,getAks[_0x2edb46(0x151)],0x3e8);if(inputsearch){log(profileNameId,_0x2edb46(0x8a),null);break;}}const kqClearBtn=await genlogin[_0x2edb46(0x9a)](profileNameId,currentPage,getAks[_0x2edb46(0x11b)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x2edb46(0x12d),null,![]);else{log(profileNameId,_0x2edb46(0xbf));const kqClickClearBtn=await clickM(getAks['clearInputSearch']);!kqClickClearBtn?log(profileNameId,_0x2edb46(0xc1),![]):log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok');}const kq=await dbClickM(getAks[_0x2edb46(0x151)]);if(!kq){log(profileNameId,_0x2edb46(0xea),![]);throw new Error(_0x2edb46(0xc4));}log(profileNameId,'[timGame]\x20click\x20inputsearch\x20ok'),await delay(0x3e8);const kq2=await genlogin[_0x2edb46(0x14b)](profileNameId,currentPage,getAks[_0x2edb46(0x151)],botName);await delay(0x3e8);if(!kq2){log(profileNameId,'[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch',![]);throw new Error(_0x2edb46(0x149));}log(profileNameId,_0x2edb46(0x13e)+botName+'\x20ok'),await delay(0x1388);const kq3=await genlogin[_0x2edb46(0x9a)](profileNameId,currentPage,getAks[_0x2edb46(0x114)]);if(!kq3){log(profileNameId,'[timGame]Không\x20tìm\x20thấy\x20SearchRes',![]);throw new Error('Không\x20tìm\x20thấy\x20SearchRes');}log(profileNameId,_0x2edb46(0x11c)),await delay(0x3e8);const kq4=await clickM(getAks[_0x2edb46(0x114)]);if(!kq4){log(profileNameId,'[timGame]Không\x20click\x20được\x20vào\x20SearchRes',![]);throw new Error(_0x2edb46(0x14e));}log(profileNameId,_0x2edb46(0x107)),await genlogin['setTitle'](profileNameId,currentPage,profileNameId);if(bot[_0x2edb46(0x146)]==='1'){log(profileNameId,_0x2edb46(0x115)),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error('Không\x20check\x20gui\x20được');if(kq10===_0x2edb46(0xa8))return log(profileNameId,_0x2edb46(0x12f)),{'status':_0x2edb46(0xa8)};return await delay(0x3e8),log(profileNameId,_0x2edb46(0xf6)),await clearVar(),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,_0x2edb46(0x13c),null,![]),await clearVar(),{'status':!![]};}catch(error){return log(profileNameId,'[timGame][Lỗi]1:\x20'+error,null,![]),await clearVar(),{'status':![]};}async function gui(){const _0x572b24=_0x2edb46;try{log(profileNameId,_0x572b24(0xa2),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart==='loop')return log(profileNameId,_0x572b24(0x131)),_0x572b24(0xa8);await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,_0x572b24(0xaa),![]);throw new Error('Không\x20start\x20game\x20được');}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,_0x572b24(0x99),![]);throw new Error(_0x572b24(0x94));}return await delay(0x3e8),log(profileNameId,_0x572b24(0x11f)),!![];}catch(error){return log(profileNameId,'[timGame][gui][Lỗi]:\x20'+error,![]),null;}}async function TatGame(){const _0xb4986b=_0x2edb46;try{log(profileNameId,_0xb4986b(0xd4)+demLoop);const kq7=await genlogin[_0xb4986b(0x9a)](profileNameId,currentPage,getAks[_0xb4986b(0x153)],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0xb4986b(0x139)],0x3e8);if(kq9){log(profileNameId,_0xb4986b(0x9f));throw new Error('Không\x20tìm\x20thấy\x20CloseGame');}return log(profileNameId,_0xb4986b(0x118)),!![];}const kq8=await clickM(getAks[_0xb4986b(0x153)]);!kq8&&log(profileNameId,_0xb4986b(0xbc),null,![]);log(profileNameId,_0xb4986b(0x11e)),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,_0xb4986b(0xbd),![]),!![];}catch(error){return log(profileNameId,'[timGame][TatGame][Lỗi]:\x20'+error,![]),null;}}async function closeAnyway(){const _0x5328b5=_0x2edb46;try{log(profileNameId,_0x5328b5(0xe0));const kq10=await genlogin[_0x5328b5(0x9a)](profileNameId,currentPage,getAks[_0x5328b5(0xe7)],0x1388);if(!kq10)return log(profileNameId,'[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway',![]),!![];log(profileNameId,_0x5328b5(0x13a)),await delay(0x7d0);const kq11=await clickM(getAks['ForceClosePopup']);if(!kq11)throw new Error('Không\x20click\x20được\x20vào\x20ForceClosePopup');return log(profileNameId,_0x5328b5(0xd1)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x5328b5(0xec)+error,![]),null;}}async function launchConfirm(){const _0x27d586=_0x2edb46;try{log(profileNameId,_0x27d586(0x122));const kq10=await genlogin[_0x27d586(0x9a)](profileNameId,currentPage,getAks[_0x27d586(0xa1)],0xbb8);if(!kq10)return log(profileNameId,_0x27d586(0xf8),null,![]),null;log(profileNameId,_0x27d586(0x117)),await delay(0x7d0);const kq11=await clickM(getAks[_0x27d586(0xa1)]);if(!kq11)return log(profileNameId,_0x27d586(0xee),null,![]),null;return log(profileNameId,_0x27d586(0x130)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'[timGame][launchConfirm][Lỗi]:\x20'+error,![]),null;}}async function checkStartGame(){const _0x436d1d=_0x2edb46;try{log(profileNameId,_0x436d1d(0x110),null,'-');const buttons=[{'xpath':bot[_0x436d1d(0xed)],'name':_0x436d1d(0xed)},{'xpath':getAks[_0x436d1d(0xb0)],'name':_0x436d1d(0xb0)},{'xpath':getAks[_0x436d1d(0xbe)],'name':_0x436d1d(0xbe)},{'xpath':getAks[_0x436d1d(0x10e)],'name':_0x436d1d(0x10e)},{'xpath':getAks[_0x436d1d(0x152)],'name':'ButtonTextStart'},{'xpath':getAks[_0x436d1d(0xb7)],'name':_0x436d1d(0xb7)},{'xpath':getAks[_0x436d1d(0x148)],'name':_0x436d1d(0x148)},{'xpath':getAks['ButtonInChat'],'name':_0x436d1d(0x8e)}],kq=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['FirstStartBtn'],0x3e8);if(!kq)log(profileNameId,_0x436d1d(0x91),null,![]);else{log(profileNameId,_0x436d1d(0x14a)),await delay(0x3e8);const kq1=await clickM(getAks['FirstStartBtn']);!kq1?log(profileNameId,_0x436d1d(0x154),null,![]):(log(profileNameId,_0x436d1d(0x119)),await delay(0x7d0));}for(let i=0x0;i<buttons[_0x436d1d(0xd9)];i++){const button=buttons[i];if(!button['xpath'])continue;const exists=await genlogin[_0x436d1d(0x9a)](profileNameId,currentPage,button['xpath'],0x7d0);if(exists){log(profileNameId,_0x436d1d(0xf2)+button[_0x436d1d(0x12c)]+_0x436d1d(0xb9));const clicked=await clickM(button[_0x436d1d(0x89)]);!clicked?log(profileNameId,_0x436d1d(0x14c)+button[_0x436d1d(0x12c)],null,![]):log(profileNameId,_0x436d1d(0xcb)+button[_0x436d1d(0x12c)]+_0x436d1d(0x8b));await launchConfirm(),await delay(0x1388);const kqIframe=await genlogin[_0x436d1d(0x9a)](profileNameId,currentPage,getAks[_0x436d1d(0x139)],0x1388);if(!kqIframe){log(profileNameId,_0x436d1d(0xfd),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,_0x436d1d(0xb4),null,![]);throw new Error('Không\x20tìm\x20thấy\x20nút\x20mở\x20game');}catch(error){return log(profileNameId,_0x436d1d(0x13f)+error[_0x436d1d(0x134)],null,![]),null;}}async function checkLoadGame(){const _0x3f015f=_0x2edb46;try{log(profileNameId,_0x3f015f(0x126));const tags=[bot[_0x3f015f(0xa6)],bot[_0x3f015f(0xe5)],bot['tagGame2'],bot[_0x3f015f(0x112)],bot[_0x3f015f(0xb1)]];if(parseInt(bot[_0x3f015f(0x92)])===0x1){log(profileNameId,_0x3f015f(0xd6),null,'w','-');const maxAttempts=0x5;let iframeLink,demLoop=0x0;const maxDemLoop=0x19;while(demLoop<maxDemLoop){demLoop++,log(profileNameId,_0x3f015f(0x8d)+demLoop+'/'+maxDemLoop,null,![]),iframeLink=await genlogin[_0x3f015f(0x142)](profileNameId,currentPage,getAks[_0x3f015f(0x139)],'src',0x3e8),await delay(0x3e8);if(iframeLink)break;}if(!iframeLink){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link',null,![]);throw new Error('Không\x20tìm\x20thấy\x20iframe\x20link');}log(profileNameId,_0x3f015f(0x10c));const kqNewTab=await genlogin[_0x3f015f(0x92)](profileNameId,browser);if(!kqNewTab){log(profileNameId,_0x3f015f(0xdf),null,![]);throw new Error(_0x3f015f(0x143));}log(profileNameId,_0x3f015f(0xeb));const newPage=await genlogin['getCurrentPage'](profileNameId,browser);if(!newPage){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới',null,![]);throw new Error(_0x3f015f(0x9c));}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl[_0x3f015f(0xe6)];const kqOpenLink=await genlogin['openUrl'](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,_0x3f015f(0xde),null,![]);throw new Error(_0x3f015f(0x103));}log(profileNameId,_0x3f015f(0x109)),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x3f015f(0xfe)+attempt);for(let i=0x0;i<tags['length'];i++){const result=await genlogin[_0x3f015f(0x9a)](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,_0x3f015f(0xca)+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20'+maxAttempts+_0x3f015f(0xce));throw new Error(_0x3f015f(0x120));}else{log(profileNameId,_0x3f015f(0x12e),null,'w','-');const maxAttempts=0x5;let subframe,demLoop=0x0;const maxDemLoop=0x19;while(demLoop<maxDemLoop){demLoop++,log(profileNameId,'[timGame][checkLoadGame]\x20Check\x20vào\x20subframe\x20lần\x20'+demLoop+'/'+maxDemLoop,null,![]),subframe=await genlogin[_0x3f015f(0xe8)](profileNameId,currentPage,getAks[_0x3f015f(0x139)]),await delay(0x3e8);if(subframe)break;}if(!subframe){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20vào\x20được\x20subframe',null,![]);throw new Error(_0x3f015f(0x111));}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x3f015f(0xfe)+attempt);for(let i=0x0;i<tags[_0x3f015f(0xd9)];i++){const result=await genlogin[_0x3f015f(0x9a)](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,_0x3f015f(0xca)+tags[i],![]),await genlogin[_0x3f015f(0xe8)](profileNameId,currentPage,'mainframe'),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x3f015f(0x102)+maxAttempts+_0x3f015f(0xce));throw new Error('Không\x20load\x20được\x20game');}}catch(error){return log(profileNameId,_0x3f015f(0xdd),null,![]),await genlogin[_0x3f015f(0xe8)](profileNameId,currentPage,_0x3f015f(0xc0)),await delay(0x3e8),null;}}async function checkFirstStart(){const _0x311293=_0x2edb46;try{await delay(0x3e8);const FirstStartBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x311293(0x14f)],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0x311293(0x9d),null,!![],'-'),log(profileNameId,_0x311293(0xac)),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0x311293(0x141),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x311293(0x151)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x311293(0xa5),null,![]),null;log(profileNameId,'['+botName+_0x311293(0x95));const clicked=await dbClickM(getAks[_0x311293(0x151)]);if(!clicked)return log(profileNameId,'['+botName+_0x311293(0x135),null,![]),null;log(profileNameId,'['+botName+_0x311293(0x137)),await delay(0x3e8);const typeText=await genlogin[_0x311293(0x14b)](profileNameId,currentPage,getAks[_0x311293(0x151)],_0x311293(0xc5),0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x311293(0xf1),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27'),await delay(0x1388);const kqSearchRes=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['SearchRes'],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x311293(0xd2),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes');const clicked1=await clickM(getAks['SearchRes']);if(!clicked1)return log(profileNameId,'['+botName+_0x311293(0x113),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]Click\x20SearchRes\x20OK'),await delay(0x7d0);const xpathRef='(//a[@href=\x27'+bot[_0x311293(0x127)]+_0x311293(0x144),checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+_0x311293(0xbb)),await reCheckClickStart(),_0x311293(0xa8);log(profileNameId,'['+botName+_0x311293(0xaf),null,![]),await delay(0x7d0);const checkChatInput=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x311293(0x133)],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+_0x311293(0x128),null,![]),null;log(profileNameId,'['+botName+_0x311293(0x108));const click2=await dbClickM(getAks['ChatInput']);!click2?log(profileNameId,'['+botName+_0x311293(0x9b),null,![]):log(profileNameId,'['+botName+_0x311293(0xa9));await delay(0x7d0);const typeText1=await genlogin[_0x311293(0x14b)](profileNameId,currentPage,getAks['ChatInput'],bot[_0x311293(0x127)],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+'][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput',null,![]):log(profileNameId,'['+botName+_0x311293(0x13b)+bot[_0x311293(0x127)]);await delay(0x7d0);const checkBtnSend=await clickM(getAks['BtnSend']);!checkBtnSend?log(profileNameId,'['+botName+_0x311293(0xad),null,![]):log(profileNameId,'['+botName+'][checkFirstStart]\x20Click\x20BtnSend\x20OK');await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+'][checkFirstStart]Click\x20vào\x20LinkRef\x20ok'),await reCheckClickStart(),_0x311293(0xa8);return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20Click\x20được\x20LinkRef'),null;}catch(error){return log(profileNameId,'['+botName+_0x311293(0x124)+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0x203e38=_0x2edb46;try{await delay(0x3e8);const checkLinkRef=await genlogin['elementExistsByXPath'](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+_0x203e38(0xf7));const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+'][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef',null,![]):log(profileNameId,'['+botName+_0x203e38(0xe4));await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+_0x203e38(0xf3),null,![]):log(profileNameId,'['+botName+_0x203e38(0x101));const kqCkIframe=await genlogin[_0x203e38(0x9a)](profileNameId,currentPage,getAks[_0x203e38(0x139)],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+_0x203e38(0xba),null,![]);const kqCkStartbtn=await genlogin[_0x203e38(0x9a)](profileNameId,currentPage,getAks[_0x203e38(0x14f)],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0x203e38(0x93),null,![]),!![];else{log(profileNameId,'['+botName+_0x203e38(0x12a));const clickStart=await clickM(getAks['FirstStartBtn']);!clickStart&&log(profileNameId,'['+botName+_0x203e38(0xa3),null,![]),log(profileNameId,'['+botName+'][clickLinkRef]\x20Click\x20start\x20OK');}}else{log(profileNameId,'['+botName+_0x203e38(0x132));const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+_0x203e38(0xd5),null,![]):log(profileNameId,'['+botName+_0x203e38(0x97));}return!![];}else return log(profileNameId,'['+botName+'][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20'+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+'][clickLinkRef][Lỗi]:\x20'+error,null,![]),null;}}async function reCheckClickStart(){const _0x21ad05=_0x2edb46;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin[_0x21ad05(0x9a)](profileNameId,currentPage,getAks[_0x21ad05(0x151)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x21ad05(0xf5),null,![]),null;log(profileNameId,'['+botName+_0x21ad05(0xd0));const clicked=await dbClickM(getAks[_0x21ad05(0x151)]);if(!clicked)return log(profileNameId,'['+botName+_0x21ad05(0x11d),null,![]),null;log(profileNameId,'['+botName+_0x21ad05(0xff)),await delay(0x3e8);const typeText=await genlogin[_0x21ad05(0x14b)](profileNameId,currentPage,getAks[_0x21ad05(0x151)],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x21ad05(0xe1),null,![]),null;log(profileNameId,'['+botName+_0x21ad05(0x10f)),await delay(0x1388);const kqSearchRes=await genlogin[_0x21ad05(0x9a)](profileNameId,currentPage,getAks[_0x21ad05(0x114)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x21ad05(0x105),null,![]),null;log(profileNameId,'['+botName+_0x21ad05(0xb3));const clicked1=await clickM(getAks[_0x21ad05(0x114)]);if(!clicked1)return log(profileNameId,'['+botName+_0x21ad05(0x138),null,![]),null;log(profileNameId,'['+botName+_0x21ad05(0xb2)),await delay(0x3e8);const FirstStartBtn1=await genlogin[_0x21ad05(0x9a)](profileNameId,currentPage,getAks[_0x21ad05(0x14f)],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+_0x21ad05(0xda)),await delay(0x3e8);const clickStart=await clickM(getAks[_0x21ad05(0x14f)]);if(!clickStart)return log(profileNameId,'['+botName+_0x21ad05(0x116),null,![]),null;return log(profileNameId,'['+botName+_0x21ad05(0xdc)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+'][reCheckClickStart][Lỗi]:\x20'+error,null,![]),null;}}async function ShowInputSearch(){const _0x53dd6a=_0x2edb46;try{log(profileNameId,_0x53dd6a(0xb8),null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x53dd6a(0x9a)](profileNameId,currentPage,getAks[_0x53dd6a(0xb5)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x53dd6a(0xc2),null,![]);else{log(profileNameId,_0x53dd6a(0xfa));const kqClickSideBarRightClose=await clickM(getAks[_0x53dd6a(0xb5)]);if(!kqClickSideBarRightClose){log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose',![]);continue;}log(profileNameId,_0x53dd6a(0xcc));continue;}const kqCkBackArrow=await genlogin[_0x53dd6a(0x9a)](profileNameId,currentPage,getAks[_0x53dd6a(0x136)],0x3e8);if(!kqCkBackArrow)log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow',null,![]);else{log(profileNameId,_0x53dd6a(0xef));const kqClickBackArrow=await clickM(getAks[_0x53dd6a(0x136)]);if(!kqClickBackArrow){log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow',null,![]);continue;}log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok');continue;}const inputsearch=await genlogin[_0x53dd6a(0x9a)](profileNameId,currentPage,getAks[_0x53dd6a(0x151)],0x3e8);if(inputsearch){log(profileNameId,_0x53dd6a(0xf9),null);break;}}const kqClearBtn=await genlogin[_0x53dd6a(0x9a)](profileNameId,currentPage,getAks[_0x53dd6a(0x11b)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x53dd6a(0x12d),null,![]);else{log(profileNameId,_0x53dd6a(0xbf));const kqClickClearBtn=await clickM(getAks[_0x53dd6a(0x11b)]);!kqClickClearBtn?log(profileNameId,_0x53dd6a(0xc1),![]):log(profileNameId,_0x53dd6a(0xc9));}const kq=await dbClickM(getAks[_0x53dd6a(0x151)]);return!kq?log(profileNameId,'[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch',![]):log(profileNameId,_0x53dd6a(0x11a)),!![];}catch(error){return log(profileNameId,'['+botName+_0x53dd6a(0x98)+error,null,![]),null;}}async function closeIframe(){const _0x49c765=_0x2edb46;try{log(profileNameId,_0x49c765(0x8c),null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin[_0x49c765(0x9a)](profileNameId,currentPage,getAks[_0x49c765(0x139)],0x3e8);if(kq5){log(profileNameId,_0x49c765(0x10d),null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,_0x49c765(0x106),null,![]):log(profileNameId,'[closeIframe]TatGame\x20ok');}else break;}return null;}catch(error){return log(profileNameId,'[closeIframe][Lỗi]:\x20'+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x482365=_0x2edb46;try{await delay(0x3e8);const clicked=await genlogin[_0x482365(0x14d)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x482365(0xe3)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x482365(0xcf)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x482365(0xb6)+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x3b36a9=_0x2edb46;try{await delay(0x3e8);const clicked=await genlogin[_0x3b36a9(0x14d)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x3b36a9(0x140)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x3b36a9(0xa4)+xpath+_0x3b36a9(0x8b)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x3b36a9(0xe9)+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x509561=_0x2edb46;try{const clicked=await genlogin[_0x509561(0x14d)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+'][clickM]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x509561(0x96)+xpath+_0x509561(0x8b)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x509561(0x145)+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0x2868aa=_0x2edb46;try{const clicked=await genlogin[_0x2868aa(0x14d)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x2868aa(0xc3)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x2868aa(0xd7)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x2868aa(0xab)+error,null,![]),null;}}async function clickP(x,y){const _0x17953d=_0x2edb46;try{await delay(0x3e8);const clicked=await genlogin[_0x17953d(0x14d)](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+_0x17953d(0x121)+x+':'+y,![]);throw new Error(_0x17953d(0x10a)+xpath);}return log(profileNameId,'['+botName+_0x17953d(0xcf)+x+':'+y+_0x17953d(0x8b)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x17953d(0xb6)+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x1593f6=_0x2edb46;if(Atomics[_0x1593f6(0xf0)](tasksData,taskIndex)===0x1)return!![];return![];}async function clearVar(){currentPage=null,screenData=null,tasksData=null;}};