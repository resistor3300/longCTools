(function(_0x26ec97,_0x2d9e65){const _0x2d0d25=a0_0x52f5,_0x576df5=_0x26ec97();while(!![]){try{const _0x444d99=parseInt(_0x2d0d25(0x151))/0x1+-parseInt(_0x2d0d25(0x12c))/0x2+-parseInt(_0x2d0d25(0x118))/0x3*(-parseInt(_0x2d0d25(0x11c))/0x4)+-parseInt(_0x2d0d25(0x117))/0x5*(-parseInt(_0x2d0d25(0x18a))/0x6)+parseInt(_0x2d0d25(0x158))/0x7*(-parseInt(_0x2d0d25(0x113))/0x8)+-parseInt(_0x2d0d25(0xee))/0x9+-parseInt(_0x2d0d25(0x19a))/0xa*(-parseInt(_0x2d0d25(0x185))/0xb);if(_0x444d99===_0x2d9e65)break;else _0x576df5['push'](_0x576df5['shift']());}catch(_0x537674){_0x576df5['push'](_0x576df5['shift']());}}}(a0_0xa6bf,0x8209f));function a0_0x52f5(_0x3dbdc3,_0x319348){const _0xa6bf95=a0_0xa6bf();return a0_0x52f5=function(_0x52f5a7,_0x95c27e){_0x52f5a7=_0x52f5a7-0xe8;let _0x2897c1=_0xa6bf95[_0x52f5a7];return _0x2897c1;},a0_0x52f5(_0x3dbdc3,_0x319348);}function a0_0xa6bf(){const _0x2f1277=['MainOpenButton','[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20','][clickLinkRef]Không\x20đóng\x20iframe','getAttributeFromXPath','newTab','][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput','Saved\x20Messages','Không\x20load\x20được\x20game','][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe','][clickM]Click\x20','][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK','ButtonTextMining','][clickLinkRef]Không\x20tìm\x20thấy\x20iframe','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link','Không\x20mở\x20link\x20iframe','[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm','tagGame1','Không\x20click\x20được\x20vào\x20','[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game','[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','length','loop','][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput','click','mainframe','][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch','][dbClickM]Không\x20click\x20được\x20vào\x20','][timGame][ShowInputSearch][Lỗi]:\x20','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][launchConfirm]check\x20launchConfirm','104127ZJqWAM','ButtonTextClaim','][click][Lỗi]:\x20','][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes','Không\x20click\x20được\x20vào\x20SearchRes','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game','tagGame3','12390kdiuNi','dialogWarnBtn','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','Không\x20lấy\x20page\x20mới','[timGame][TatGame]Vào\x20tắt\x20game\x20lần:','][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef','][clickM]Không\x20click\x20được\x20vào\x20','[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới','][checkFirstStart]Click\x20vào\x20LinkRef\x20ok','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK','[timGame][checkLoadGame]\x20popup\x20mode','[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed','[timGame][checkStartGame]\x20','name','][dbclick]Không\x20dbclick\x20được\x20vào\x20','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','hostname','Không\x20tìm\x20thấy\x20SearchRes','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','Không\x20load\x20game\x20được','[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20','[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok','tagGame2','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','[timGame][gui]Đang\x20có\x20game\x20mở','Iframe','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','][clickLinkRef]\x20Click\x20launchConfirm\x20OK','[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start','ForceClosePopup','[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game','[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20','[timGame]\x20nhập\x20','[timGame][gui]\x20Đã\x20thử\x20','ButtonTextPlay','][clickLinkRef]\x20Click\x20LinkRef\x20OK','][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start','][dbClickM]Click\x20','SearchRes','playtag','][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20','Không\x20nhập\x20được\x20vào\x20inputsearch','][reCheckClickStart]Click\x20InputSearch\x20OK','473YulJdo','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','[timGame]tìm\x20thấy\x20inputsearch','][reCheckClickStart][Lỗi]:\x20','[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe','6VCMXze','[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok','][checkFirstStart]\x20Click\x20ChatInput\x20OK','getCurrentPage','sideBarRightClose','message','[timGame]Không\x20tìm\x20thấy\x20SearchRes','[timGame][launchConfirm]click\x20LaunchConfirm\x20OK','[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame][closeAnyway]check\x20close\x20anyway','][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes','][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput','FirstStartBtn','[timGame]Không\x20click\x20được\x20vào\x20inputsearch','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20','231890fYhXOj','\x20tồn\x20tại','[timGame][checkStartGame]\x20Click\x20','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch','InputSearch','Không\x20tìm\x20thấy\x20iframe','][reCheckClickStart]Click\x20SearchRes\x20OK','Không\x20click\x20được\x20vào\x20ForceClosePopup','][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start','][reCheckClickStart]\x20Click\x20start\x20OK','][click]Click\x20','[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game','][checkFirstStart]Click\x20InputSearch\x20OK','[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm','][dbclick]dbclick\x20','[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch','[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch','][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref','][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch','tagGame4','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn','][dbclick][Lỗi]:\x20','\x20OK','[timGame][ShowInputSearch]\x20ShowInputSearch','Không\x20start\x20game\x20được','6300396hBYStQ','CloseGame','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','][clickLinkRef]\x20Đóng\x20iframe\x20OK','[timGame][TatGame]click\x20CloseGame\x20OK','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','\x20lần\x20thử','[timGame]check\x20tắt\x20game\x20đang\x20mở','BackArrow','[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway','][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes','[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game','Không\x20mở\x20tab\x20mới','xpath','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start','[timGame]Không\x20click\x20được\x20vào\x20SearchRes','\x27])[last()]','mainFrame','[timGame][gui]Không\x20start\x20game\x20được','][clickLinkRef]\x20Click\x20start\x20OK','][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start','[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link','[timGame]Click\x20dialogWarnBtn\x20ok','ButtonInChat','[timGame][closeAnyway][Lỗi]:\x20','][checkFirstStart]Click\x20SearchRes\x20OK','[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được','(//a[@href=\x27','[timGame]\x20click\x20inputsearch\x20ok','[closeIframe]Đang\x20có\x20game\x20mở','[timGame][TatGame]Tắt\x20game\x20OK','ChatInput','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok','[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game','[timGame][checkLoadGame]newTab\x20mode','4120tfCVAt','][checkFirstStart]Không\x20Click\x20được\x20LinkRef','setTitle','[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK','2382960eBHuQh','7602LtWyOc','LaunchConfirm','Không\x20tắt\x20được\x20game','][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput','996AErwqP','[closeIframe]Không\x20tắt\x20được\x20game','ButtonTextStart','switchFrame','[timGame][launchConfirm][Lỗi]:\x20','src','Không\x20tìm\x20thấy\x20nút\x20mở\x20game','ref','][clickM][Lỗi]:\x20','clearInputSearch','][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch','Không\x20tìm\x20thấy\x20iframe\x20link','[timGame]\x20click\x20nút\x20BackArrow\x20ok','][dbClickM][Lỗi]:\x20','[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch','elementExistsByXPath','129158ZSWhAh','][click]Không\x20click\x20được\x20vào\x20','typeText','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose'];a0_0xa6bf=function(){return _0x2f1277;};return a0_0xa6bf();}import{log,json}from'../modules/logger.js';export default async function (context,HostName){const _0x10b1f5=a0_0x52f5,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot[_0x10b1f5(0x167)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,'[timGame]Tìm\x20Game',null,'i','=');const kqDialogWarnBtn=await genlogin[_0x10b1f5(0x12b)](profileNameId,currentPage,getAks['dialogWarnBtn'],0x1f4);if(kqDialogWarnBtn){log(profileNameId,'[timGame]Tìm\x20thấy\x20dialogWarnBtn',null,'w');const kqClickDialogWarnBtn=await clickM(getAks[_0x10b1f5(0x159)]);!kqClickDialogWarnBtn&&log(profileNameId,_0x10b1f5(0xe9),null,![]),log(profileNameId,_0x10b1f5(0x106));}log(profileNameId,_0x10b1f5(0xf7),null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin[_0x10b1f5(0x12b)](profileNameId,currentPage,getAks[_0x10b1f5(0x173)],0x3e8);if(kq5){log(profileNameId,_0x10b1f5(0x172),null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error(_0x10b1f5(0x11a));log(profileNameId,'[timGame][gui]TatGame\x20ok');}else break;}if(attempts===maxAttempts){log(profileNameId,_0x10b1f5(0x17b)+maxAttempts+'\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở',null,![]);throw new Error(_0x10b1f5(0x11a));}log(profileNameId,'[timGame]Vào\x20Tìm\x20game\x20'+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x10b1f5(0x12b)](profileNameId,currentPage,getAks['sideBarRightClose'],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x10b1f5(0x14f),null,![]);else{log(profileNameId,'[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose');const kqClickSideBarRightClose=await clickM(getAks['sideBarRightClose']);if(!kqClickSideBarRightClose){log(profileNameId,'[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose',![]);continue;}log(profileNameId,_0x10b1f5(0x143)),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0x10b1f5(0x12b)](profileNameId,currentPage,getAks[_0x10b1f5(0xf8)],0x3e8);if(!kqCkBackArrow)log(profileNameId,'[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow',null,![]);else{log(profileNameId,'[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow');const kqClickBackArrow=await clickM(getAks['BackArrow']);if(!kqClickBackArrow){log(profileNameId,_0x10b1f5(0xf5),null,![]);continue;}log(profileNameId,_0x10b1f5(0x128)),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0x10b1f5(0x12b)](profileNameId,currentPage,getAks[_0x10b1f5(0x1a1)],0x3e8);if(inputsearch){log(profileNameId,_0x10b1f5(0x187),null);break;}}const kqClearBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x10b1f5(0x125)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x10b1f5(0x12a),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch');const kqClickClearBtn=await clickM(getAks[_0x10b1f5(0x125)]);!kqClickClearBtn?log(profileNameId,_0x10b1f5(0x161),![]):log(profileNameId,_0x10b1f5(0x110));}const kq=await dbClickM(getAks['InputSearch']);if(!kq){log(profileNameId,_0x10b1f5(0x197),![]);throw new Error('Không\x20click\x20được\x20vào\x20inputsearch');}log(profileNameId,_0x10b1f5(0x10c)),await delay(0x3e8);const kq2=await genlogin[_0x10b1f5(0x12e)](profileNameId,currentPage,getAks[_0x10b1f5(0x1a1)],botName);await delay(0x3e8);if(!kq2){log(profileNameId,'[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch',![]);throw new Error(_0x10b1f5(0x183));}log(profileNameId,_0x10b1f5(0x17a)+botName+'\x20ok'),await delay(0x1388);const kq3=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x10b1f5(0x180)]);if(!kq3){log(profileNameId,_0x10b1f5(0x190),![]);throw new Error(_0x10b1f5(0x16b));}log(profileNameId,'[timGame]Tìm\x20thấy\x20SearchRes\x20ok'),await delay(0x3e8);const kq4=await clickM(getAks[_0x10b1f5(0x180)]);if(!kq4){log(profileNameId,_0x10b1f5(0xff),![]);throw new Error(_0x10b1f5(0x155));}log(profileNameId,'[timGame]\x20click\x20SearchRes\x20ok'),await genlogin[_0x10b1f5(0x115)](profileNameId,currentPage,profileNameId);if(bot['gui']==='1'){log(profileNameId,'[timGame]Gui'),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error('Không\x20check\x20gui\x20được');if(kq10===_0x10b1f5(0x148))return log(profileNameId,_0x10b1f5(0x192)),{'status':_0x10b1f5(0x148)};return await delay(0x3e8),log(profileNameId,'[timGame]Gui\x20ok'),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,'[timGame]NoGui',null,![]),{'status':!![]};}catch(error){return log(profileNameId,'[timGame][Lỗi]1:\x20'+error,null,![]),{'status':![]};}async function gui(){const _0x5e9e94=_0x10b1f5;try{log(profileNameId,_0x5e9e94(0x198),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart===_0x5e9e94(0x148))return log(profileNameId,_0x5e9e94(0x1ac)),_0x5e9e94(0x148);await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,_0x5e9e94(0x102),![]);throw new Error(_0x5e9e94(0xed));}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,'[timGame][gui]Không\x20load\x20game\x20được',![]);throw new Error(_0x5e9e94(0x16d));}return await delay(0x3e8),log(profileNameId,'[timGame][gui]start\x20game\x20ok'),!![];}catch(error){return log(profileNameId,'[timGame][gui][Lỗi]:\x20'+error,![]),null;}}async function TatGame(){const _0x1235eb=_0x10b1f5;try{log(profileNameId,_0x1235eb(0x15c)+demLoop);const kq7=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x1235eb(0xef)],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin[_0x1235eb(0x12b)](profileNameId,currentPage,getAks[_0x1235eb(0x173)],0x3e8);if(kq9){log(profileNameId,_0x1235eb(0x10a));throw new Error('Không\x20tìm\x20thấy\x20CloseGame');}return log(profileNameId,_0x1235eb(0x10e)),!![];}const kq8=await clickM(getAks[_0x1235eb(0xef)]);!kq8&&log(profileNameId,'[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame',null,![]);log(profileNameId,_0x1235eb(0xf4)),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,_0x1235eb(0x165),![]),!![];}catch(error){return log(profileNameId,'[timGame][TatGame][Lỗi]:\x20'+error,![]),null;}}async function closeAnyway(){const _0xd1ef7d=_0x10b1f5;try{log(profileNameId,_0xd1ef7d(0x193));const kq10=await genlogin[_0xd1ef7d(0x12b)](profileNameId,currentPage,getAks[_0xd1ef7d(0x177)],0x1388);if(!kq10)return log(profileNameId,'[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway',![]),!![];log(profileNameId,_0xd1ef7d(0xf9)),await delay(0x7d0);const kq11=await clickM(getAks['ForceClosePopup']);if(!kq11)throw new Error(_0xd1ef7d(0x1a4));return log(profileNameId,'[timGame][closeAnyway]click\x20ForceClosePopup\x20OK'),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0xd1ef7d(0x108)+error,![]),null;}}async function launchConfirm(){const _0x21e70e=_0x10b1f5;try{log(profileNameId,_0x21e70e(0x150));const kq10=await genlogin[_0x21e70e(0x12b)](profileNameId,currentPage,getAks[_0x21e70e(0x119)],0xbb8);if(!kq10)return log(profileNameId,_0x21e70e(0x140),null,![]),null;log(profileNameId,_0x21e70e(0x1aa)),await delay(0x7d0);const kq11=await clickM(getAks[_0x21e70e(0x119)]);if(!kq11)return log(profileNameId,'[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm',null,![]),null;return log(profileNameId,_0x21e70e(0x191)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x21e70e(0x120)+error,![]),null;}}async function checkStartGame(){const _0x4000cc=_0x10b1f5;try{log(profileNameId,_0x4000cc(0x1a8),null,'-');const buttons=[{'xpath':bot[_0x4000cc(0x181)],'name':_0x4000cc(0x181)},{'xpath':getAks['MainOpenButton'],'name':_0x4000cc(0x130)},{'xpath':getAks['ButtonTextPlay'],'name':_0x4000cc(0x17c)},{'xpath':getAks[_0x4000cc(0x152)],'name':_0x4000cc(0x152)},{'xpath':getAks[_0x4000cc(0x11e)],'name':_0x4000cc(0x11e)},{'xpath':getAks['ButtonTextLaunch'],'name':'ButtonTextLaunch'},{'xpath':getAks[_0x4000cc(0x13c)],'name':_0x4000cc(0x13c)},{'xpath':getAks[_0x4000cc(0x107)],'name':_0x4000cc(0x107)}],kq=await genlogin[_0x4000cc(0x12b)](profileNameId,currentPage,getAks[_0x4000cc(0x196)],0x3e8);if(!kq)log(profileNameId,_0x4000cc(0x144),null,![]);else{log(profileNameId,_0x4000cc(0x176)),await delay(0x3e8);const kq1=await clickM(getAks['FirstStartBtn']);!kq1?log(profileNameId,_0x4000cc(0xfe),null,![]):(log(profileNameId,_0x4000cc(0x163)),await delay(0x7d0));}for(let i=0x0;i<buttons['length'];i++){const button=buttons[i];if(!button[_0x4000cc(0xfd)])continue;const exists=await genlogin[_0x4000cc(0x12b)](profileNameId,currentPage,button[_0x4000cc(0xfd)],0x7d0);if(exists){log(profileNameId,_0x4000cc(0x166)+button[_0x4000cc(0x167)]+_0x4000cc(0x19b));const clicked=await clickM(button['xpath']);!clicked?log(profileNameId,_0x4000cc(0x169)+button[_0x4000cc(0x167)],null,![]):log(profileNameId,_0x4000cc(0x19c)+button[_0x4000cc(0x167)]+_0x4000cc(0xeb));await launchConfirm(),await delay(0x3e8);const kqIframe=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x4000cc(0x173)],0x7d0);if(!kqIframe){log(profileNameId,_0x4000cc(0x19d),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,_0x4000cc(0x156),null,![]);throw new Error(_0x4000cc(0x122));}catch(error){return log(profileNameId,_0x4000cc(0x179)+error[_0x4000cc(0x18f)],null,![]),null;}}async function checkLoadGame(){const _0x15fabf=_0x10b1f5;try{log(profileNameId,_0x15fabf(0xfb));const tags=[bot['tagGame'],bot[_0x15fabf(0x141)],bot[_0x15fabf(0x170)],bot[_0x15fabf(0x157)],bot[_0x15fabf(0x1b1)]];if(parseInt(bot[_0x15fabf(0x134)])===0x1){log(profileNameId,_0x15fabf(0x112),null,'w','-');const maxAttempts=0x5,iframeLink=await genlogin[_0x15fabf(0x133)](profileNameId,currentPage,getAks['Iframe'],_0x15fabf(0x121),0x3e8);await delay(0x3e8);if(!iframeLink){log(profileNameId,_0x15fabf(0x13e),null,![]);throw new Error(_0x15fabf(0x127));}log(profileNameId,_0x15fabf(0x105));const kqNewTab=await genlogin[_0x15fabf(0x134)](profileNameId,browser);if(!kqNewTab){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới',null,![]);throw new Error(_0x15fabf(0xfc));}log(profileNameId,_0x15fabf(0x116));const newPage=await genlogin[_0x15fabf(0x18d)](profileNameId,browser);if(!newPage){log(profileNameId,_0x15fabf(0x15f),null,![]);throw new Error(_0x15fabf(0x15b));}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl[_0x15fabf(0x16a)];const kqOpenLink=await genlogin['openUrl'](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,_0x15fabf(0x189),null,![]);throw new Error(_0x15fabf(0x13f));}log(profileNameId,_0x15fabf(0x145)),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x15fabf(0x16e)+attempt);for(let i=0x0;i<tags[_0x15fabf(0x147)];i++){const result=await genlogin[_0x15fabf(0x12b)](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,_0x15fabf(0x131)+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x15fabf(0x146)+maxAttempts+_0x15fabf(0xf6));throw new Error(_0x15fabf(0x137));}else{log(profileNameId,_0x15fabf(0x164),null,'w','-');const maxAttempts=0x5,subframe=await genlogin[_0x15fabf(0x11f)](profileNameId,currentPage,getAks['Iframe']);await delay(0x3e8);if(!subframe){log(profileNameId,_0x15fabf(0x139),null,![]);throw new Error(_0x15fabf(0x1a2));}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x15fabf(0x16e)+attempt);for(let i=0x0;i<tags[_0x15fabf(0x147)];i++){const result=await genlogin[_0x15fabf(0x12b)](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,'[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20'+tags[i],![]),await genlogin[_0x15fabf(0x11f)](profileNameId,currentPage,_0x15fabf(0x14b)),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x15fabf(0x146)+maxAttempts+_0x15fabf(0xf6));throw new Error('Không\x20load\x20được\x20game');}}catch(error){return log(profileNameId,_0x15fabf(0x111),null,![]),await genlogin[_0x15fabf(0x11f)](profileNameId,currentPage,_0x15fabf(0x101)),await delay(0x3e8),null;}}async function checkFirstStart(){const _0x28a442=_0x10b1f5;try{await delay(0x3e8);const FirstStartBtn=await genlogin[_0x28a442(0x12b)](profileNameId,currentPage,getAks['FirstStartBtn'],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0x28a442(0x171),null,!![],'-'),log(profileNameId,_0x28a442(0x178)),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0x28a442(0x162),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin[_0x28a442(0x12b)](profileNameId,currentPage,getAks[_0x28a442(0x1a1)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x28a442(0xe8),null,![]),null;log(profileNameId,'['+botName+_0x28a442(0x14c));const clicked=await dbClickM(getAks[_0x28a442(0x1a1)]);if(!clicked)return log(profileNameId,'['+botName+_0x28a442(0x126),null,![]),null;log(profileNameId,'['+botName+_0x28a442(0x1a9)),await delay(0x3e8);const typeText=await genlogin[_0x28a442(0x12e)](profileNameId,currentPage,getAks[_0x28a442(0x1a1)],_0x28a442(0x136),0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch',null,![]),null;log(profileNameId,'['+botName+_0x28a442(0x138)),await delay(0x1388);const kqSearchRes=await genlogin[_0x28a442(0x12b)](profileNameId,currentPage,getAks[_0x28a442(0x180)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x28a442(0x174),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes');const clicked1=await clickM(getAks[_0x28a442(0x180)]);if(!clicked1)return log(profileNameId,'['+botName+_0x28a442(0x194),null,![]),null;log(profileNameId,'['+botName+_0x28a442(0x109)),await delay(0x7d0);const xpathRef=_0x28a442(0x10b)+bot['ref']+_0x28a442(0x100),checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+'][checkFirstStart]click\x20link\x20ref\x20ok'),await reCheckClickStart(),_0x28a442(0x148);log(profileNameId,'['+botName+_0x28a442(0x1af),null,![]),await delay(0x7d0);const checkChatInput=await genlogin[_0x28a442(0x12b)](profileNameId,currentPage,getAks[_0x28a442(0x10f)],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+_0x28a442(0x135),null,![]),null;log(profileNameId,'['+botName+_0x28a442(0x195));const click2=await dbClickM(getAks[_0x28a442(0x10f)]);!click2?log(profileNameId,'['+botName+_0x28a442(0x149),null,![]):log(profileNameId,'['+botName+_0x28a442(0x18c));await delay(0x7d0);const typeText1=await genlogin[_0x28a442(0x12e)](profileNameId,currentPage,getAks[_0x28a442(0x10f)],bot[_0x28a442(0x123)],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+_0x28a442(0x11b),null,![]):log(profileNameId,'['+botName+'][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20'+bot[_0x28a442(0x123)]);await delay(0x7d0);const checkBtnSend=await clickM(getAks['BtnSend']);!checkBtnSend?log(profileNameId,'['+botName+'][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend',null,![]):log(profileNameId,'['+botName+'][checkFirstStart]\x20Click\x20BtnSend\x20OK');await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+_0x28a442(0x160)),await reCheckClickStart(),_0x28a442(0x148);return log(profileNameId,'['+botName+_0x28a442(0x114)),null;}catch(error){return log(profileNameId,'['+botName+'][checkFirstStart][Lỗi]:\x20'+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0x2fb5b0=_0x10b1f5;try{await delay(0x3e8);const checkLinkRef=await genlogin[_0x2fb5b0(0x12b)](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+'][clickLinkRef]tìm\x20thấy\x20LinkRef');const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+_0x2fb5b0(0x15d),null,![]):log(profileNameId,'['+botName+_0x2fb5b0(0x17d));await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+'][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm',null,![]):log(profileNameId,'['+botName+_0x2fb5b0(0x175));const kqCkIframe=await genlogin[_0x2fb5b0(0x12b)](profileNameId,currentPage,getAks[_0x2fb5b0(0x173)],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+_0x2fb5b0(0x13d),null,![]);const kqCkStartbtn=await genlogin[_0x2fb5b0(0x12b)](profileNameId,currentPage,getAks[_0x2fb5b0(0x196)],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0x2fb5b0(0xf0),null,![]),!![];else{log(profileNameId,'['+botName+_0x2fb5b0(0x17e));const clickStart=await clickM(getAks['FirstStartBtn']);!clickStart&&log(profileNameId,'['+botName+'][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start',null,![]),log(profileNameId,'['+botName+_0x2fb5b0(0x103));}}else{log(profileNameId,'['+botName+'][clickLinkRef]\x20Tìm\x20thấy\x20iframe');const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+_0x2fb5b0(0x132),null,![]):log(profileNameId,'['+botName+_0x2fb5b0(0xf3));}return!![];}else return log(profileNameId,'['+botName+_0x2fb5b0(0x199)+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+'][clickLinkRef][Lỗi]:\x20'+error,null,![]),null;}}async function reCheckClickStart(){const _0x3fa16e=_0x10b1f5;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin[_0x3fa16e(0x12b)](profileNameId,currentPage,getAks[_0x3fa16e(0x1a1)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+'][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch',null,![]),null;log(profileNameId,'['+botName+_0x3fa16e(0x1b0));const clicked=await dbClickM(getAks[_0x3fa16e(0x1a1)]);if(!clicked)return log(profileNameId,'['+botName+_0x3fa16e(0x19f),null,![]),null;log(profileNameId,'['+botName+_0x3fa16e(0x184)),await delay(0x3e8);const typeText=await genlogin['typeText'](profileNameId,currentPage,getAks[_0x3fa16e(0x1a1)],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x3fa16e(0x1a0),null,![]),null;log(profileNameId,'['+botName+_0x3fa16e(0x13b)),await delay(0x1388);const kqSearchRes=await genlogin[_0x3fa16e(0x12b)](profileNameId,currentPage,getAks[_0x3fa16e(0x180)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x3fa16e(0xf2),null,![]),null;log(profileNameId,'['+botName+_0x3fa16e(0xfa));const clicked1=await clickM(getAks[_0x3fa16e(0x180)]);if(!clicked1)return log(profileNameId,'['+botName+_0x3fa16e(0x154),null,![]),null;log(profileNameId,'['+botName+_0x3fa16e(0x1a3)),await delay(0x3e8);const FirstStartBtn1=await genlogin[_0x3fa16e(0x12b)](profileNameId,currentPage,getAks[_0x3fa16e(0x196)],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+_0x3fa16e(0x1a5)),await delay(0x3e8);const clickStart=await clickM(getAks[_0x3fa16e(0x196)]);if(!clickStart)return log(profileNameId,'['+botName+_0x3fa16e(0x104),null,![]),null;return log(profileNameId,'['+botName+_0x3fa16e(0x1a6)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+_0x3fa16e(0x188)+error,null,![]),null;}}async function ShowInputSearch(){const _0x2fc777=_0x10b1f5;try{log(profileNameId,_0x2fc777(0xec),null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x2fc777(0x12b)](profileNameId,currentPage,getAks[_0x2fc777(0x18e)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x2fc777(0x16c),null,![]);else{log(profileNameId,_0x2fc777(0x12f));const kqClickSideBarRightClose=await clickM(getAks[_0x2fc777(0x18e)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x2fc777(0x15a),![]);continue;}log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok');continue;}const kqCkBackArrow=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['BackArrow'],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x2fc777(0x186),null,![]);else{log(profileNameId,_0x2fc777(0xf1));const kqClickBackArrow=await clickM(getAks[_0x2fc777(0xf8)]);if(!kqClickBackArrow){log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow',null,![]);continue;}log(profileNameId,_0x2fc777(0x16f));continue;}const inputsearch=await genlogin[_0x2fc777(0x12b)](profileNameId,currentPage,getAks[_0x2fc777(0x1a1)],0x3e8);if(inputsearch){log(profileNameId,_0x2fc777(0x19e),null);break;}}const kqClearBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x2fc777(0x125)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x2fc777(0x12a),null,![]);else{log(profileNameId,_0x2fc777(0x1ad));const kqClickClearBtn=await clickM(getAks['clearInputSearch']);!kqClickClearBtn?log(profileNameId,_0x2fc777(0x161),![]):log(profileNameId,_0x2fc777(0x110));}const kq=await dbClickM(getAks[_0x2fc777(0x1a1)]);return!kq?log(profileNameId,_0x2fc777(0x1ae),![]):log(profileNameId,_0x2fc777(0x18b)),!![];}catch(error){return log(profileNameId,'['+botName+_0x2fc777(0x14e)+error,null,![]),null;}}async function closeIframe(){const _0x569df2=_0x10b1f5;try{log(profileNameId,'[closeIframe]check\x20tắt\x20game\x20đang\x20mở',null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin[_0x569df2(0x12b)](profileNameId,currentPage,getAks[_0x569df2(0x173)],0x3e8);if(kq5){log(profileNameId,_0x569df2(0x10d),null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,_0x569df2(0x11d),null,![]):log(profileNameId,'[closeIframe]TatGame\x20ok');}else break;}return null;}catch(error){return log(profileNameId,'[closeIframe][Lỗi]:\x20'+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x84fae2=_0x10b1f5;try{await delay(0x3e8);const clicked=await genlogin[_0x84fae2(0x14a)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x84fae2(0x12d)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x84fae2(0x1a7)+xpath+_0x84fae2(0xeb)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x84fae2(0x153)+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x2e14e0=_0x10b1f5;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x2e14e0(0x168)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x2e14e0(0x1ab)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x2e14e0(0xea)+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x25ae01=_0x10b1f5;try{const clicked=await genlogin[_0x25ae01(0x14a)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x25ae01(0x15e)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x25ae01(0x13a)+xpath+_0x25ae01(0xeb)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x25ae01(0x124)+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0x4507c6=_0x10b1f5;try{const clicked=await genlogin[_0x4507c6(0x14a)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x4507c6(0x14d)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x4507c6(0x17f)+xpath+_0x4507c6(0xeb)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x4507c6(0x129)+error,null,![]),null;}}async function clickP(x,y){const _0x39a1d6=_0x10b1f5;try{await delay(0x3e8);const clicked=await genlogin[_0x39a1d6(0x14a)](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+_0x39a1d6(0x182)+x+':'+y,![]);throw new Error(_0x39a1d6(0x142)+xpath);}return log(profileNameId,'['+botName+_0x39a1d6(0x1a7)+x+':'+y+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x39a1d6(0x153)+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){if(Atomics['load'](tasksData,taskIndex)===0x1)return!![];return![];}};