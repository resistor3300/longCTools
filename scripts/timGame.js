(function(_0x24009b,_0x5942c2){const _0x4b04a5=a0_0x5bab,_0x52b478=_0x24009b();while(!![]){try{const _0x145546=parseInt(_0x4b04a5(0x196))/0x1+parseInt(_0x4b04a5(0x21f))/0x2+parseInt(_0x4b04a5(0x173))/0x3+parseInt(_0x4b04a5(0x236))/0x4+parseInt(_0x4b04a5(0x195))/0x5*(parseInt(_0x4b04a5(0x1fa))/0x6)+parseInt(_0x4b04a5(0x1b4))/0x7+-parseInt(_0x4b04a5(0x1f7))/0x8;if(_0x145546===_0x5942c2)break;else _0x52b478['push'](_0x52b478['shift']());}catch(_0x4204ef){_0x52b478['push'](_0x52b478['shift']());}}}(a0_0x242a,0xa163b));function a0_0x5bab(_0x13bba0,_0x1f95fa){const _0x242abd=a0_0x242a();return a0_0x5bab=function(_0x5bab75,_0x752c64){_0x5bab75=_0x5bab75-0x170;let _0x55dc7d=_0x242abd[_0x5bab75];return _0x55dc7d;},a0_0x5bab(_0x13bba0,_0x1f95fa);}import{log,json}from'../modules/logger.js';export default async function (context,HostName){const _0x445a81=a0_0x5bab,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot[_0x445a81(0x207)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,_0x445a81(0x1c7),null,'i','=');const kqDialogWarnBtn=await genlogin[_0x445a81(0x22d)](profileNameId,currentPage,getAks[_0x445a81(0x1ab)],0x1f4);if(kqDialogWarnBtn){log(profileNameId,_0x445a81(0x1bb),null,'w');const kqClickDialogWarnBtn=await clickM(getAks[_0x445a81(0x1ab)]);!kqClickDialogWarnBtn&&log(profileNameId,'[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn',null,![]),log(profileNameId,_0x445a81(0x235));}log(profileNameId,_0x445a81(0x184),null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin[_0x445a81(0x22d)](profileNameId,currentPage,getAks[_0x445a81(0x19a)],0x3e8);if(kq5){log(profileNameId,_0x445a81(0x1c6),null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error(_0x445a81(0x18c));log(profileNameId,_0x445a81(0x1f1));}else break;}if(attempts===maxAttempts){log(profileNameId,_0x445a81(0x20f)+maxAttempts+'\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở',null,![]);throw new Error(_0x445a81(0x18c));}log(profileNameId,'[timGame]Vào\x20Tìm\x20game\x20'+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x445a81(0x22d)](profileNameId,currentPage,getAks['sideBarRightClose'],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,'[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose',null,![]);else{log(profileNameId,_0x445a81(0x22b));const kqClickSideBarRightClose=await clickM(getAks[_0x445a81(0x187)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x445a81(0x1d2),![]);continue;}log(profileNameId,'[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok'),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0x445a81(0x22d)](profileNameId,currentPage,getAks[_0x445a81(0x1e1)],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x445a81(0x1a3),null,![]);else{log(profileNameId,_0x445a81(0x17a));const kqClickBackArrow=await clickM(getAks['BackArrow']);if(!kqClickBackArrow){log(profileNameId,_0x445a81(0x1f4),null,![]);continue;}log(profileNameId,_0x445a81(0x190)),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0x445a81(0x22d)](profileNameId,currentPage,getAks[_0x445a81(0x175)],0x3e8);if(inputsearch){log(profileNameId,_0x445a81(0x1cf),null);break;}}const kqClearBtn=await genlogin[_0x445a81(0x22d)](profileNameId,currentPage,getAks['clearInputSearch'],0x3e8);if(!kqClearBtn)log(profileNameId,_0x445a81(0x20e),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch');const kqClickClearBtn=await clickM(getAks[_0x445a81(0x17e)]);!kqClickClearBtn?log(profileNameId,_0x445a81(0x206),![]):log(profileNameId,_0x445a81(0x1c2));}const kq=await dbClickM(getAks[_0x445a81(0x175)]);if(!kq){log(profileNameId,_0x445a81(0x194),![]);throw new Error('Không\x20click\x20được\x20vào\x20inputsearch');}log(profileNameId,'[timGame]\x20click\x20inputsearch\x20ok'),await delay(0x3e8);const kq2=await genlogin[_0x445a81(0x219)](profileNameId,currentPage,getAks[_0x445a81(0x175)],botName);await delay(0x3e8);if(!kq2){log(profileNameId,_0x445a81(0x237),![]);throw new Error('Không\x20nhập\x20được\x20vào\x20inputsearch');}log(profileNameId,'[timGame]\x20nhập\x20'+botName+_0x445a81(0x1af)),await delay(0x1388);const kq3=await genlogin[_0x445a81(0x22d)](profileNameId,currentPage,getAks['SearchRes']);if(!kq3){log(profileNameId,_0x445a81(0x199),![]);throw new Error(_0x445a81(0x18b));}log(profileNameId,_0x445a81(0x1a2)),await delay(0x3e8);const kq4=await clickM(getAks[_0x445a81(0x21c)]);if(!kq4){log(profileNameId,_0x445a81(0x1eb),![]);throw new Error(_0x445a81(0x1c1));}log(profileNameId,_0x445a81(0x231)),await genlogin[_0x445a81(0x1ca)](profileNameId,currentPage,profileNameId);if(bot['gui']==='1'){log(profileNameId,'[timGame]Gui'),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error('Không\x20check\x20gui\x20được');if(kq10==='loop')return log(profileNameId,_0x445a81(0x1a9)),{'status':_0x445a81(0x1d0)};return await delay(0x3e8),log(profileNameId,_0x445a81(0x1ee)),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,_0x445a81(0x1fc),null,![]),{'status':!![]};}catch(error){return log(profileNameId,'[timGame][Lỗi]1:\x20'+error,null,![]),{'status':![]};}async function gui(){const _0x570ddc=_0x445a81;try{log(profileNameId,_0x570ddc(0x1e0),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart===_0x570ddc(0x1d0))return log(profileNameId,_0x570ddc(0x17b)),_0x570ddc(0x1d0);await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,'[timGame][gui]Không\x20start\x20game\x20được',![]);throw new Error(_0x570ddc(0x1b9));}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,'[timGame][gui]Không\x20load\x20game\x20được',![]);throw new Error(_0x570ddc(0x208));}return await delay(0x3e8),log(profileNameId,_0x570ddc(0x174)),!![];}catch(error){return log(profileNameId,_0x570ddc(0x1ae)+error,![]),null;}}async function TatGame(){const _0x272e72=_0x445a81;try{log(profileNameId,_0x272e72(0x226)+demLoop);const kq7=await genlogin[_0x272e72(0x22d)](profileNameId,currentPage,getAks[_0x272e72(0x21a)],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin[_0x272e72(0x22d)](profileNameId,currentPage,getAks[_0x272e72(0x19a)],0x3e8);if(kq9){log(profileNameId,_0x272e72(0x1fb));throw new Error('Không\x20tìm\x20thấy\x20CloseGame');}return log(profileNameId,_0x272e72(0x1ac)),!![];}const kq8=await clickM(getAks['CloseGame']);!kq8&&log(profileNameId,_0x272e72(0x1a6),null,![]);log(profileNameId,_0x272e72(0x1df)),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,_0x272e72(0x1da),![]),!![];}catch(error){return log(profileNameId,'[timGame][TatGame][Lỗi]:\x20'+error,![]),null;}}async function closeAnyway(){const _0xf8540a=_0x445a81;try{log(profileNameId,_0xf8540a(0x1be));const kq10=await genlogin[_0xf8540a(0x22d)](profileNameId,currentPage,getAks['ForceClosePopup'],0x1388);if(!kq10)return log(profileNameId,_0xf8540a(0x21e),![]),!![];log(profileNameId,_0xf8540a(0x1b1)),await delay(0x7d0);const kq11=await clickM(getAks[_0xf8540a(0x1c4)]);if(!kq11)throw new Error(_0xf8540a(0x1bd));return log(profileNameId,'[timGame][closeAnyway]click\x20ForceClosePopup\x20OK'),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0xf8540a(0x189)+error,![]),null;}}async function launchConfirm(){const _0x1e6ca6=_0x445a81;try{log(profileNameId,'[timGame][launchConfirm]check\x20launchConfirm');const kq10=await genlogin[_0x1e6ca6(0x22d)](profileNameId,currentPage,getAks['LaunchConfirm'],0xbb8);if(!kq10)return log(profileNameId,_0x1e6ca6(0x1ef),null,![]),null;log(profileNameId,_0x1e6ca6(0x197)),await delay(0x7d0);const kq11=await clickM(getAks[_0x1e6ca6(0x1e9)]);if(!kq11)return log(profileNameId,_0x1e6ca6(0x229),null,![]),null;return log(profileNameId,'[timGame][launchConfirm]click\x20LaunchConfirm\x20OK'),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x1e6ca6(0x191)+error,![]),null;}}async function checkStartGame(){const _0x9b8f9c=_0x445a81;try{log(profileNameId,_0x9b8f9c(0x220),null,'-');const buttons=[{'xpath':bot[_0x9b8f9c(0x1b5)],'name':'playtag'},{'xpath':getAks[_0x9b8f9c(0x217)],'name':_0x9b8f9c(0x217)},{'xpath':getAks[_0x9b8f9c(0x22e)],'name':_0x9b8f9c(0x22e)},{'xpath':getAks['ButtonTextClaim'],'name':_0x9b8f9c(0x1a1)},{'xpath':getAks[_0x9b8f9c(0x1f0)],'name':_0x9b8f9c(0x1f0)},{'xpath':getAks[_0x9b8f9c(0x198)],'name':_0x9b8f9c(0x198)},{'xpath':getAks[_0x9b8f9c(0x181)],'name':_0x9b8f9c(0x181)},{'xpath':getAks[_0x9b8f9c(0x1de)],'name':_0x9b8f9c(0x1de)}],kq=await genlogin[_0x9b8f9c(0x22d)](profileNameId,currentPage,getAks['FirstStartBtn'],0x3e8);if(!kq)log(profileNameId,'[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game',null,![]);else{log(profileNameId,_0x9b8f9c(0x1f9)),await delay(0x3e8);const kq1=await clickM(getAks[_0x9b8f9c(0x221)]);!kq1?log(profileNameId,_0x9b8f9c(0x1ad),null,![]):(log(profileNameId,_0x9b8f9c(0x19d)),await delay(0x7d0));}for(let i=0x0;i<buttons[_0x9b8f9c(0x1c8)];i++){const button=buttons[i];if(!button['xpath'])continue;const exists=await genlogin[_0x9b8f9c(0x22d)](profileNameId,currentPage,button[_0x9b8f9c(0x1c0)],0x7d0);if(exists){log(profileNameId,_0x9b8f9c(0x1e4)+button['name']+_0x9b8f9c(0x18e));const clicked=await clickM(button[_0x9b8f9c(0x1c0)]);!clicked?log(profileNameId,_0x9b8f9c(0x227)+button[_0x9b8f9c(0x207)],null,![]):log(profileNameId,'[timGame][checkStartGame]\x20Click\x20'+button[_0x9b8f9c(0x207)]+'\x20OK');await launchConfirm(),await delay(0x3e8);const kqIframe=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['Iframe'],0x7d0);if(!kqIframe){log(profileNameId,_0x9b8f9c(0x228),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,'[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game',null,![]);throw new Error(_0x9b8f9c(0x1d5));}catch(error){return log(profileNameId,'[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20'+error[_0x9b8f9c(0x218)],null,![]),null;}}async function checkLoadGame(){const _0x417eb2=_0x445a81;try{log(profileNameId,_0x417eb2(0x1ec));const tags=[bot['tagGame'],bot[_0x417eb2(0x178)],bot['tagGame2'],bot['tagGame3'],bot[_0x417eb2(0x205)]];if(parseInt(bot['newTab'])===0x1){log(profileNameId,'[timGame][checkLoadGame]newTab\x20mode',null,'w','-');const maxAttempts=0x5,iframeLink=await genlogin[_0x417eb2(0x1d6)](profileNameId,currentPage,getAks[_0x417eb2(0x19a)],_0x417eb2(0x17c),0x3e8);await delay(0x3e8);if(!iframeLink){log(profileNameId,_0x417eb2(0x233),null,![]);throw new Error(_0x417eb2(0x232));}log(profileNameId,_0x417eb2(0x1b6));const kqNewTab=await genlogin[_0x417eb2(0x1a8)](profileNameId,browser);if(!kqNewTab){log(profileNameId,_0x417eb2(0x185),null,![]);throw new Error(_0x417eb2(0x179));}log(profileNameId,_0x417eb2(0x1aa));const newPage=await genlogin[_0x417eb2(0x1e7)](profileNameId,browser);if(!newPage){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới',null,![]);throw new Error(_0x417eb2(0x19c));}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl['hostname'];const kqOpenLink=await genlogin['openUrl'](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,_0x417eb2(0x1c5),null,![]);throw new Error(_0x417eb2(0x19b));}log(profileNameId,_0x417eb2(0x1ce)),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,'[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20'+attempt);for(let i=0x0;i<tags[_0x417eb2(0x1c8)];i++){const result=await genlogin['elementExistsByXPath'](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,_0x417eb2(0x1b2)+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x417eb2(0x225)+maxAttempts+_0x417eb2(0x1f6));throw new Error(_0x417eb2(0x204));}else{log(profileNameId,_0x417eb2(0x1f3),null,'w','-');const maxAttempts=0x5,subframe=await genlogin[_0x417eb2(0x182)](profileNameId,currentPage,getAks[_0x417eb2(0x19a)]);await delay(0x3e8);if(!subframe){log(profileNameId,_0x417eb2(0x20c),null,![]);throw new Error(_0x417eb2(0x1bc));}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,'[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20'+attempt);for(let i=0x0;i<tags[_0x417eb2(0x1c8)];i++){const result=await genlogin[_0x417eb2(0x22d)](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,'[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20'+tags[i],![]),await genlogin['switchFrame'](profileNameId,currentPage,_0x417eb2(0x1d7)),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x417eb2(0x225)+maxAttempts+'\x20lần\x20thử');throw new Error(_0x417eb2(0x204));}}catch(error){return log(profileNameId,_0x417eb2(0x1b3),null,![]),await genlogin[_0x417eb2(0x182)](profileNameId,currentPage,_0x417eb2(0x234)),await delay(0x3e8),null;}}async function checkFirstStart(){const _0xc8cfbc=_0x445a81;try{await delay(0x3e8);const FirstStartBtn=await genlogin[_0xc8cfbc(0x22d)](profileNameId,currentPage,getAks[_0xc8cfbc(0x221)],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0xc8cfbc(0x211),null,!![],'-'),log(profileNameId,'[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game'),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0xc8cfbc(0x213),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0xc8cfbc(0x175)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0xc8cfbc(0x200),null,![]),null;log(profileNameId,'['+botName+_0xc8cfbc(0x1d8));const clicked=await dbClickM(getAks[_0xc8cfbc(0x175)]);if(!clicked)return log(profileNameId,'['+botName+_0xc8cfbc(0x1fd),null,![]),null;log(profileNameId,'['+botName+_0xc8cfbc(0x1fe)),await delay(0x3e8);const typeText=await genlogin[_0xc8cfbc(0x219)](profileNameId,currentPage,getAks[_0xc8cfbc(0x175)],_0xc8cfbc(0x1dd),0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0xc8cfbc(0x19f),null,![]),null;log(profileNameId,'['+botName+_0xc8cfbc(0x1a5)),await delay(0x1388);const kqSearchRes=await genlogin[_0xc8cfbc(0x22d)](profileNameId,currentPage,getAks[_0xc8cfbc(0x21c)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0xc8cfbc(0x222),null,![]),null;log(profileNameId,'['+botName+_0xc8cfbc(0x203));const clicked1=await clickM(getAks[_0xc8cfbc(0x21c)]);if(!clicked1)return log(profileNameId,'['+botName+_0xc8cfbc(0x1d4),null,![]),null;log(profileNameId,'['+botName+_0xc8cfbc(0x18a)),await delay(0x7d0);const xpathRef=_0xc8cfbc(0x20a)+bot['ref']+'\x27])[last()]',checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+_0xc8cfbc(0x22a)),await reCheckClickStart(),'loop';log(profileNameId,'['+botName+_0xc8cfbc(0x1e6),null,![]),await delay(0x7d0);const checkChatInput=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0xc8cfbc(0x22c)],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+_0xc8cfbc(0x17d),null,![]),null;log(profileNameId,'['+botName+_0xc8cfbc(0x1f8));const click2=await dbClickM(getAks[_0xc8cfbc(0x22c)]);!click2?log(profileNameId,'['+botName+'][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput',null,![]):log(profileNameId,'['+botName+_0xc8cfbc(0x183));await delay(0x7d0);const typeText1=await genlogin[_0xc8cfbc(0x219)](profileNameId,currentPage,getAks['ChatInput'],bot[_0xc8cfbc(0x188)],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+_0xc8cfbc(0x193),null,![]):log(profileNameId,'['+botName+_0xc8cfbc(0x1b0)+bot[_0xc8cfbc(0x188)]);await delay(0x7d0);const checkBtnSend=await clickM(getAks[_0xc8cfbc(0x1a7)]);!checkBtnSend?log(profileNameId,'['+botName+_0xc8cfbc(0x215),null,![]):log(profileNameId,'['+botName+_0xc8cfbc(0x1ed));await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+'][checkFirstStart]Click\x20vào\x20LinkRef\x20ok'),await reCheckClickStart(),_0xc8cfbc(0x1d0);return log(profileNameId,'['+botName+_0xc8cfbc(0x223)),null;}catch(error){return log(profileNameId,'['+botName+_0xc8cfbc(0x1e2)+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0x38e4fb=_0x445a81;try{await delay(0x3e8);const checkLinkRef=await genlogin[_0x38e4fb(0x22d)](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+_0x38e4fb(0x202));const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+_0x38e4fb(0x1f5),null,![]):log(profileNameId,'['+botName+_0x38e4fb(0x1db));await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+_0x38e4fb(0x216),null,![]):log(profileNameId,'['+botName+_0x38e4fb(0x209));const kqCkIframe=await genlogin[_0x38e4fb(0x22d)](profileNameId,currentPage,getAks[_0x38e4fb(0x19a)],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+'][clickLinkRef]Không\x20tìm\x20thấy\x20iframe',null,![]);const kqCkStartbtn=await genlogin[_0x38e4fb(0x22d)](profileNameId,currentPage,getAks['FirstStartBtn'],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0x38e4fb(0x18f),null,![]),!![];else{log(profileNameId,'['+botName+_0x38e4fb(0x177));const clickStart=await clickM(getAks[_0x38e4fb(0x221)]);!clickStart&&log(profileNameId,'['+botName+_0x38e4fb(0x1d9),null,![]),log(profileNameId,'['+botName+_0x38e4fb(0x170));}}else{log(profileNameId,'['+botName+_0x38e4fb(0x230));const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+_0x38e4fb(0x21b),null,![]):log(profileNameId,'['+botName+'][clickLinkRef]\x20Đóng\x20iframe\x20OK');}return!![];}else return log(profileNameId,'['+botName+_0x38e4fb(0x1cc)+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+'][clickLinkRef][Lỗi]:\x20'+error,null,![]),null;}}async function reCheckClickStart(){const _0x17eda8=_0x445a81;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin[_0x17eda8(0x22d)](profileNameId,currentPage,getAks[_0x17eda8(0x175)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x17eda8(0x212),null,![]),null;log(profileNameId,'['+botName+_0x17eda8(0x180));const clicked=await dbClickM(getAks[_0x17eda8(0x175)]);if(!clicked)return log(profileNameId,'['+botName+_0x17eda8(0x1ea),null,![]),null;log(profileNameId,'['+botName+_0x17eda8(0x1bf)),await delay(0x3e8);const typeText=await genlogin[_0x17eda8(0x219)](profileNameId,currentPage,getAks[_0x17eda8(0x175)],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x17eda8(0x210),null,![]),null;log(profileNameId,'['+botName+_0x17eda8(0x18d)),await delay(0x1388);const kqSearchRes=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x17eda8(0x21c)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x17eda8(0x1c9),null,![]),null;log(profileNameId,'['+botName+_0x17eda8(0x1e8));const clicked1=await clickM(getAks[_0x17eda8(0x21c)]);if(!clicked1)return log(profileNameId,'['+botName+_0x17eda8(0x1cb),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]Click\x20SearchRes\x20OK'),await delay(0x3e8);const FirstStartBtn1=await genlogin[_0x17eda8(0x22d)](profileNameId,currentPage,getAks[_0x17eda8(0x221)],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+'][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start'),await delay(0x3e8);const clickStart=await clickM(getAks[_0x17eda8(0x221)]);if(!clickStart)return log(profileNameId,'['+botName+_0x17eda8(0x192),null,![]),null;return log(profileNameId,'['+botName+_0x17eda8(0x1b8)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+'][reCheckClickStart][Lỗi]:\x20'+error,null,![]),null;}}async function ShowInputSearch(){const _0x4c6357=_0x445a81;try{log(profileNameId,_0x4c6357(0x1d1),null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['sideBarRightClose'],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose',null,![]);else{log(profileNameId,_0x4c6357(0x1a4));const kqClickSideBarRightClose=await clickM(getAks[_0x4c6357(0x187)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x4c6357(0x1cd),![]);continue;}log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok');continue;}const kqCkBackArrow=await genlogin[_0x4c6357(0x22d)](profileNameId,currentPage,getAks[_0x4c6357(0x1e1)],0x3e8);if(!kqCkBackArrow)log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow',null,![]);else{log(profileNameId,_0x4c6357(0x171));const kqClickBackArrow=await clickM(getAks[_0x4c6357(0x1e1)]);if(!kqClickBackArrow){log(profileNameId,_0x4c6357(0x1e5),null,![]);continue;}log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok');continue;}const inputsearch=await genlogin[_0x4c6357(0x22d)](profileNameId,currentPage,getAks[_0x4c6357(0x175)],0x3e8);if(inputsearch){log(profileNameId,_0x4c6357(0x172),null);break;}}const kqClearBtn=await genlogin[_0x4c6357(0x22d)](profileNameId,currentPage,getAks['clearInputSearch'],0x3e8);if(!kqClearBtn)log(profileNameId,_0x4c6357(0x20e),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch');const kqClickClearBtn=await clickM(getAks[_0x4c6357(0x17e)]);!kqClickClearBtn?log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch',![]):log(profileNameId,_0x4c6357(0x1c2));}const kq=await dbClickM(getAks[_0x4c6357(0x175)]);return!kq?log(profileNameId,_0x4c6357(0x20b),![]):log(profileNameId,_0x4c6357(0x19e)),!![];}catch(error){return log(profileNameId,'['+botName+_0x4c6357(0x214)+error,null,![]),null;}}async function closeIframe(){const _0x305c84=_0x445a81;try{log(profileNameId,_0x305c84(0x1e3),null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin[_0x305c84(0x22d)](profileNameId,currentPage,getAks[_0x305c84(0x19a)],0x3e8);if(kq5){log(profileNameId,_0x305c84(0x20d),null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,_0x305c84(0x224),null,![]):log(profileNameId,_0x305c84(0x1a0));}else break;}return null;}catch(error){return log(profileNameId,_0x305c84(0x21d)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x24d718=_0x445a81;try{await delay(0x3e8);const clicked=await genlogin[_0x24d718(0x1c3)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+'][click]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x24d718(0x201)+xpath+_0x24d718(0x1d3)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x24d718(0x1f2)+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x50c33b=_0x445a81;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x50c33b(0x17f)+xpath,null,![]),null;return log(profileNameId,'['+botName+'][dbclick]dbclick\x20'+xpath+_0x50c33b(0x1d3)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x50c33b(0x1ba)+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x13d041=_0x445a81;try{const clicked=await genlogin[_0x13d041(0x1c3)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x13d041(0x176)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x13d041(0x1b7)+xpath+_0x13d041(0x1d3)),clicked;}catch(error){return log(profileNameId,'['+botName+'][clickM][Lỗi]:\x20'+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0x390e86=_0x445a81;try{const clicked=await genlogin[_0x390e86(0x1c3)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x390e86(0x1ff)+xpath,null,![]),null;return log(profileNameId,'['+botName+'][dbClickM]Click\x20'+xpath+_0x390e86(0x1d3)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x390e86(0x186)+error,null,![]),null;}}async function clickP(x,y){const _0x4e991d=_0x445a81;try{await delay(0x3e8);const clicked=await genlogin[_0x4e991d(0x1c3)](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+_0x4e991d(0x22f)+x+':'+y,![]);throw new Error(_0x4e991d(0x1dc)+xpath);}return log(profileNameId,'['+botName+_0x4e991d(0x201)+x+':'+y+_0x4e991d(0x1d3)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x4e991d(0x1f2)+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x563d15=_0x445a81;if(Atomics[_0x563d15(0x238)](tasksData,taskIndex)===0x1)return!![];return![];}};function a0_0x242a(){const _0x4f5ca1=['tagGame4','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch','name','Không\x20load\x20game\x20được','][clickLinkRef]\x20Click\x20launchConfirm\x20OK','(//a[@href=\x27','[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe','[closeIframe]Đang\x20có\x20game\x20mở','[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch','[timGame][gui]\x20Đã\x20thử\x20','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','][timGame][ShowInputSearch][Lỗi]:\x20','][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend','][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm','MainOpenButton','message','typeText','CloseGame','][clickLinkRef]Không\x20đóng\x20iframe','SearchRes','[closeIframe][Lỗi]:\x20','[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway','61160IDTVWS','[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game','FirstStartBtn','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','][checkFirstStart]Không\x20Click\x20được\x20LinkRef','[closeIframe]Không\x20tắt\x20được\x20game','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','[timGame][TatGame]Vào\x20tắt\x20game\x20lần:','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm','][checkFirstStart]click\x20link\x20ref\x20ok','[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','ChatInput','elementExistsByXPath','ButtonTextPlay','][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20','][clickLinkRef]\x20Tìm\x20thấy\x20iframe','[timGame]\x20click\x20SearchRes\x20ok','Không\x20tìm\x20thấy\x20iframe\x20link','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link','mainFrame','[timGame]Click\x20dialogWarnBtn\x20ok','1367144cLnvQe','[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch','load','][clickLinkRef]\x20Click\x20start\x20OK','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','1434996QTxtFB','[timGame][gui]start\x20game\x20ok','InputSearch','][clickM]Không\x20click\x20được\x20vào\x20','][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start','tagGame1','Không\x20mở\x20tab\x20mới','[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow','[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro','src','][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput','clearInputSearch','][dbclick]Không\x20dbclick\x20được\x20vào\x20','][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch','ButtonTextMining','switchFrame','][checkFirstStart]\x20Click\x20ChatInput\x20OK','[timGame]check\x20tắt\x20game\x20đang\x20mở','[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới','][dbClickM][Lỗi]:\x20','sideBarRightClose','ref','[timGame][closeAnyway][Lỗi]:\x20','][checkFirstStart]Click\x20SearchRes\x20OK','Không\x20tìm\x20thấy\x20SearchRes','Không\x20tắt\x20được\x20game','][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK','\x20tồn\x20tại','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','[timGame]\x20click\x20nút\x20BackArrow\x20ok','[timGame][launchConfirm][Lỗi]:\x20','][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start','][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput','[timGame]Không\x20click\x20được\x20vào\x20inputsearch','48980zmzZil','1050443UeVXOP','[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm','ButtonTextLaunch','[timGame]Không\x20tìm\x20thấy\x20SearchRes','Iframe','Không\x20mở\x20link\x20iframe','Không\x20lấy\x20page\x20mới','[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK','[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok','][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch','[closeIframe]TatGame\x20ok','ButtonTextClaim','[timGame]Tìm\x20thấy\x20SearchRes\x20ok','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27','[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame','BtnSend','newTab','[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK','dialogWarnBtn','[timGame][TatGame]Tắt\x20game\x20OK','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start','[timGame][gui][Lỗi]:\x20','\x20ok','][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20','[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway','[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20','[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game','7541758hYWsQK','playtag','[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link','][clickM]Click\x20','][reCheckClickStart]\x20Click\x20start\x20OK','Không\x20start\x20game\x20được','][dbclick][Lỗi]:\x20','[timGame]Tìm\x20thấy\x20dialogWarnBtn','Không\x20tìm\x20thấy\x20iframe','Không\x20click\x20được\x20vào\x20ForceClosePopup','[timGame][closeAnyway]check\x20close\x20anyway','][reCheckClickStart]Click\x20InputSearch\x20OK','xpath','Không\x20click\x20được\x20vào\x20SearchRes','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok','click','ForceClosePopup','[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe','[timGame][gui]Đang\x20có\x20game\x20mở','[timGame]Tìm\x20Game','length','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','setTitle','][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes','][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK','[timGame]tìm\x20thấy\x20inputsearch','loop','[timGame][ShowInputSearch]\x20ShowInputSearch','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','\x20OK','][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes','Không\x20tìm\x20thấy\x20nút\x20mở\x20game','getAttributeFromXPath','mainframe','][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch','][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start','[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed','][clickLinkRef]\x20Click\x20LinkRef\x20OK','Không\x20click\x20được\x20vào\x20','Saved\x20Messages','ButtonInChat','[timGame][TatGame]click\x20CloseGame\x20OK','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','BackArrow','][checkFirstStart][Lỗi]:\x20','[closeIframe]check\x20tắt\x20game\x20đang\x20mở','[timGame][checkStartGame]\x20','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref','getCurrentPage','][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes','LaunchConfirm','][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch','[timGame]Không\x20click\x20được\x20vào\x20SearchRes','[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game','][checkFirstStart]\x20Click\x20BtnSend\x20OK','[timGame]Gui\x20ok','[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm','ButtonTextStart','[timGame][gui]TatGame\x20ok','][click][Lỗi]:\x20','[timGame][checkLoadGame]\x20popup\x20mode','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef','\x20lần\x20thử','23633792OGFVCH','][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput','[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start','390OzDppU','[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được','[timGame]NoGui','][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch','][checkFirstStart]Click\x20InputSearch\x20OK','][dbClickM]Không\x20click\x20được\x20vào\x20','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','][click]Click\x20','][clickLinkRef]tìm\x20thấy\x20LinkRef','][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes','Không\x20load\x20được\x20game'];a0_0x242a=function(){return _0x4f5ca1;};return a0_0x242a();}