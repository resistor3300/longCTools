(function(_0x2c269b,_0x2f7425){const _0x94735e=a0_0x28c8,_0x2f553f=_0x2c269b();while(!![]){try{const _0x9d413e=parseInt(_0x94735e(0x11c))/0x1+parseInt(_0x94735e(0x123))/0x2*(-parseInt(_0x94735e(0xd0))/0x3)+-parseInt(_0x94735e(0xe4))/0x4+-parseInt(_0x94735e(0xf7))/0x5+-parseInt(_0x94735e(0x115))/0x6*(-parseInt(_0x94735e(0x103))/0x7)+parseInt(_0x94735e(0x17d))/0x8*(-parseInt(_0x94735e(0x100))/0x9)+parseInt(_0x94735e(0xdb))/0xa;if(_0x9d413e===_0x2f7425)break;else _0x2f553f['push'](_0x2f553f['shift']());}catch(_0x24a0db){_0x2f553f['push'](_0x2f553f['shift']());}}}(a0_0xa4bf,0xe83ae));function a0_0x28c8(_0xfbda88,_0x62b85a){const _0xa4bff2=a0_0xa4bf();return a0_0x28c8=function(_0x28c848,_0x5f01d6){_0x28c848=_0x28c848-0xcc;let _0x36978d=_0xa4bff2[_0x28c848];return _0x36978d;},a0_0x28c8(_0xfbda88,_0x62b85a);}import{log,json}from'../modules/logger.js';function a0_0xa4bf(){const _0x596ad5=['[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game','[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được','typeText','714IIRgvs','][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch','\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở','][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27','Không\x20click\x20được\x20vào\x20','[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game','][reCheckClickStart][Lỗi]:\x20','228476gWKHbH','load','Không\x20mở\x20tab\x20mới','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][closeAnyway]check\x20close\x20anyway','][checkFirstStart]click\x20link\x20ref\x20ok','][clickM]Click\x20','6COluYg','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','[timGame][checkStartGame]\x20Click\x20','[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm','][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20','[timGame]Không\x20click\x20được\x20vào\x20SearchRes','Không\x20tìm\x20thấy\x20CloseGame','src','[timGame][gui]Không\x20start\x20game\x20được','][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput','][checkFirstStart]\x20Click\x20BtnSend\x20OK','][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20','[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame]Gui\x20ok','[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn','[timGame]Không\x20tìm\x20thấy\x20SearchRes','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes','][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start','[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame','][dbClickM]Click\x20','MainOpenButton','[timGame]check\x20tắt\x20game\x20đang\x20mở','][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch','[timGame][launchConfirm]click\x20LaunchConfirm\x20OK','Không\x20click\x20được\x20vào\x20inputsearch','gui','hostname','][dbClickM][Lỗi]:\x20','ButtonInChat','[timGame][gui]Đang\x20có\x20game\x20mở','tagGame3','][clickLinkRef]Không\x20đóng\x20iframe','[timGame][checkStartGame]\x20','][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start','\x20tồn\x20tại','][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput','[timGame][closeAnyway]click\x20ForceClosePopup\x20OK','[timGame]Vào\x20Tìm\x20game\x20','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','ref','[timGame][TatGame]click\x20CloseGame\x20OK','][clickLinkRef]Không\x20tìm\x20thấy\x20iframe','[timGame][launchConfirm]check\x20launchConfirm','playtag','[timGame][TatGame][Lỗi]:\x20','[timGame]\x20nhập\x20','][clickLinkRef]\x20Click\x20start\x20OK','[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20','[timGame][gui]TatGame\x20ok','][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch','\x20OK','[timGame][gui][Lỗi]:\x20','[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK','][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch','][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start','][clickLinkRef]\x20Tìm\x20thấy\x20iframe','BackArrow','Không\x20load\x20game\x20được','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm','[timGame]\x20click\x20nút\x20BackArrow\x20ok','Không\x20click\x20được\x20vào\x20SearchRes','[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch','Iframe','][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','[timGame]\x20click\x20inputsearch\x20ok','][dbClickM]Không\x20click\x20được\x20vào\x20','click','][checkFirstStart]Click\x20vào\x20LinkRef\x20ok','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','tagGame4','length','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','[timGame][ShowInputSearch]\x20ShowInputSearch','ChatInput','][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm','][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef','Không\x20tìm\x20thấy\x20nút\x20mở\x20game','][clickLinkRef]\x20Click\x20launchConfirm\x20OK','LaunchConfirm','[closeIframe]Không\x20tắt\x20được\x20game','[closeIframe]TatGame\x20ok','[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới','[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok','16YHBnlK','message','][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes','xpath','setTitle','[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start','[timGame][TatGame]Vào\x20tắt\x20game\x20lần:','[closeIframe][Lỗi]:\x20','openUrl','ButtonTextStart','][click]Click\x20','[closeIframe]Đang\x20có\x20game\x20mở','Saved\x20Messages','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch','[timGame]Click\x20dialogWarnBtn\x20ok','][checkFirstStart]\x20Click\x20ChatInput\x20OK','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok','[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe','[timGame][checkLoadGame]newTab\x20mode','][click][Lỗi]:\x20','][clickLinkRef]\x20Đóng\x20iframe\x20OK','\x20ok','[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','ButtonTextMining','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','[timGame][gui]\x20Đã\x20thử\x20','][checkFirstStart]Không\x20Click\x20được\x20LinkRef','Không\x20tìm\x20thấy\x20iframe\x20link','CloseGame','][clickM][Lỗi]:\x20','dialogWarnBtn','ButtonTextPlay','[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow','FirstStartBtn','ButtonTextClaim','[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch','InputSearch','Không\x20tìm\x20thấy\x20SearchRes','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow','][checkFirstStart]Click\x20InputSearch\x20OK','sideBarRightClose','][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game','Không\x20nhập\x20được\x20vào\x20inputsearch','][checkFirstStart][Lỗi]:\x20','\x20lần\x20thử','579867SXqZMi','[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok','][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game','clearInputSearch','[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20','getAttributeFromXPath','[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok','44572230kTgqiR','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','[timGame][launchConfirm][Lỗi]:\x20','newTab','[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link','Không\x20lấy\x20page\x20mới','][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch','][clickLinkRef]tìm\x20thấy\x20LinkRef','][dbclick][Lỗi]:\x20','7256636kTHLHo','Không\x20tắt\x20được\x20game','][timGame][ShowInputSearch][Lỗi]:\x20','[timGame][checkLoadGame]\x20popup\x20mode','[timGame]Không\x20click\x20được\x20vào\x20inputsearch','][click]Không\x20click\x20được\x20vào\x20','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','tagGame','][clickM]Không\x20click\x20được\x20vào\x20','[timGame][Lỗi]1:\x20','[timGame][gui]start\x20game\x20ok','ButtonTextLaunch','elementExistsByXPath','[closeIframe]check\x20tắt\x20game\x20đang\x20mở','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','Không\x20load\x20được\x20game','][reCheckClickStart]\x20Click\x20start\x20OK','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','4578490uVpoBx','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch','switchFrame','][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput','[timGame][gui]Không\x20load\x20game\x20được','][dbclick]Không\x20dbclick\x20được\x20vào\x20','name','Không\x20start\x20game\x20được','][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch','3273201fUNicU','[timGame]Tìm\x20thấy\x20dialogWarnBtn','\x27])[last()]','17801qbvGlU','[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed','loop','[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm','getCurrentPage','][checkFirstStart]Click\x20SearchRes\x20OK','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','Không\x20tìm\x20thấy\x20iframe','Không\x20mở\x20link\x20iframe','[timGame]\x20click\x20SearchRes\x20ok','[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game','SearchRes','ForceClosePopup','Không\x20check\x20gui\x20được'];a0_0xa4bf=function(){return _0x596ad5;};return a0_0xa4bf();}export default async function (context,HostName){const _0x26430d=a0_0x28c8,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot['name'];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,'[timGame]Tìm\x20Game',null,'i','=');const kqDialogWarnBtn=await genlogin[_0x26430d(0xf0)](profileNameId,currentPage,getAks[_0x26430d(0x1a0)],0x1f4);if(kqDialogWarnBtn){log(profileNameId,_0x26430d(0x101),null,'w');const kqClickDialogWarnBtn=await clickM(getAks['dialogWarnBtn']);!kqClickDialogWarnBtn&&log(profileNameId,_0x26430d(0x133),null,![]),log(profileNameId,_0x26430d(0x18d));}log(profileNameId,_0x26430d(0x13c),null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin[_0x26430d(0xf0)](profileNameId,currentPage,getAks[_0x26430d(0x167)],0x3e8);if(kq5){log(profileNameId,_0x26430d(0x144),null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error(_0x26430d(0xe5));log(profileNameId,_0x26430d(0x157));}else break;}if(attempts===maxAttempts){log(profileNameId,_0x26430d(0x19b)+maxAttempts+_0x26430d(0x117),null,![]);throw new Error(_0x26430d(0xe5));}log(profileNameId,_0x26430d(0x14c)+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x26430d(0xf0)](profileNameId,currentPage,getAks[_0x26430d(0x1aa)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x26430d(0x197),null,![]);else{log(profileNameId,_0x26430d(0x15b));const kqClickSideBarRightClose=await clickM(getAks[_0x26430d(0x1aa)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x26430d(0x135),![]);continue;}log(profileNameId,_0x26430d(0x106)),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0x26430d(0xf0)](profileNameId,currentPage,getAks[_0x26430d(0x160)],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x26430d(0x124),null,![]);else{log(profileNameId,_0x26430d(0x1a2));const kqClickBackArrow=await clickM(getAks[_0x26430d(0x160)]);if(!kqClickBackArrow){log(profileNameId,_0x26430d(0x169),null,![]);continue;}log(profileNameId,_0x26430d(0x164)),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0x26430d(0xf0)](profileNameId,currentPage,getAks[_0x26430d(0x1a6)],0x3e8);if(inputsearch){log(profileNameId,'[timGame]tìm\x20thấy\x20inputsearch',null);break;}}const kqClearBtn=await genlogin[_0x26430d(0xf0)](profileNameId,currentPage,getAks['clearInputSearch'],0x3e8);if(!kqClearBtn)log(profileNameId,_0x26430d(0x166),null,![]);else{log(profileNameId,_0x26430d(0x18b));const kqClickClearBtn=await clickM(getAks[_0x26430d(0xd7)]);!kqClickClearBtn?log(profileNameId,_0x26430d(0x18c),![]):log(profileNameId,_0x26430d(0x18f));}const kq=await dbClickM(getAks[_0x26430d(0x1a6)]);if(!kq){log(profileNameId,_0x26430d(0xe8),![]);throw new Error(_0x26430d(0x13f));}log(profileNameId,_0x26430d(0x16a)),await delay(0x3e8);const kq2=await genlogin[_0x26430d(0x114)](profileNameId,currentPage,getAks[_0x26430d(0x1a6)],botName);await delay(0x3e8);if(!kq2){log(profileNameId,_0x26430d(0x1a5),![]);throw new Error(_0x26430d(0xcd));}log(profileNameId,_0x26430d(0x154)+botName+_0x26430d(0x195)),await delay(0x1388);const kq3=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x26430d(0x10f)]);if(!kq3){log(profileNameId,_0x26430d(0x134),![]);throw new Error(_0x26430d(0x1a7));}log(profileNameId,'[timGame]Tìm\x20thấy\x20SearchRes\x20ok'),await delay(0x3e8);const kq4=await clickM(getAks['SearchRes']);if(!kq4){log(profileNameId,_0x26430d(0x128),![]);throw new Error(_0x26430d(0x165));}log(profileNameId,_0x26430d(0x10d)),await genlogin[_0x26430d(0x181)](profileNameId,currentPage,profileNameId);if(bot[_0x26430d(0x140)]==='1'){log(profileNameId,'[timGame]Gui'),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error(_0x26430d(0x111));if(kq10===_0x26430d(0x105))return log(profileNameId,_0x26430d(0x138)),{'status':_0x26430d(0x105)};return await delay(0x3e8),log(profileNameId,_0x26430d(0x132)),await clearVar(),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,'[timGame]NoGui',null,![]),await clearVar(),{'status':!![]};}catch(error){return log(profileNameId,_0x26430d(0xed)+error,null,![]),await clearVar(),{'status':![]};}async function gui(){const _0x3fd391=_0x26430d;try{log(profileNameId,_0x3fd391(0xd3),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart===_0x3fd391(0x105))return log(profileNameId,_0x3fd391(0x131)),_0x3fd391(0x105);await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,_0x3fd391(0x12b),![]);throw new Error(_0x3fd391(0xfe));}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,_0x3fd391(0xfb),![]);throw new Error(_0x3fd391(0x161));}return await delay(0x3e8),log(profileNameId,_0x3fd391(0xee)),!![];}catch(error){return log(profileNameId,_0x3fd391(0x15a)+error,![]),null;}}async function TatGame(){const _0x3e29cb=_0x26430d;try{log(profileNameId,_0x3e29cb(0x184)+demLoop);const kq7=await genlogin[_0x3e29cb(0xf0)](profileNameId,currentPage,getAks[_0x3e29cb(0x19e)],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin[_0x3e29cb(0xf0)](profileNameId,currentPage,getAks[_0x3e29cb(0x167)],0x3e8);if(kq9){log(profileNameId,_0x3e29cb(0x113));throw new Error(_0x3e29cb(0x129));}return log(profileNameId,'[timGame][TatGame]Tắt\x20game\x20OK'),!![];}const kq8=await clickM(getAks['CloseGame']);!kq8&&log(profileNameId,_0x3e29cb(0x139),null,![]);log(profileNameId,_0x3e29cb(0x14f)),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,_0x3e29cb(0x104),![]),!![];}catch(error){return log(profileNameId,_0x3e29cb(0x153)+error,![]),null;}}async function closeAnyway(){const _0x4931fa=_0x26430d;try{log(profileNameId,_0x4931fa(0x120));const kq10=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x4931fa(0x110)],0x1388);if(!kq10)return log(profileNameId,'[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway',![]),!![];log(profileNameId,_0x4931fa(0x182)),await delay(0x7d0);const kq11=await clickM(getAks[_0x4931fa(0x110)]);if(!kq11)throw new Error('Không\x20click\x20được\x20vào\x20ForceClosePopup');return log(profileNameId,_0x4931fa(0x14b)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'[timGame][closeAnyway][Lỗi]:\x20'+error,![]),null;}}async function launchConfirm(){const _0x29c8a1=_0x26430d;try{log(profileNameId,_0x29c8a1(0x151));const kq10=await genlogin[_0x29c8a1(0xf0)](profileNameId,currentPage,getAks[_0x29c8a1(0x178)],0xbb8);if(!kq10)return log(profileNameId,_0x29c8a1(0x163),null,![]),null;log(profileNameId,_0x29c8a1(0x126)),await delay(0x7d0);const kq11=await clickM(getAks[_0x29c8a1(0x178)]);if(!kq11)return log(profileNameId,_0x29c8a1(0x107),null,![]),null;return log(profileNameId,_0x29c8a1(0x13e)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x29c8a1(0xdd)+error,![]),null;}}async function checkStartGame(){const _0x373127=_0x26430d;try{log(profileNameId,_0x373127(0xd6),null,'-');const buttons=[{'xpath':bot[_0x373127(0x152)],'name':_0x373127(0x152)},{'xpath':getAks[_0x373127(0x13b)],'name':_0x373127(0x13b)},{'xpath':getAks[_0x373127(0x1a1)],'name':_0x373127(0x1a1)},{'xpath':getAks[_0x373127(0x1a4)],'name':_0x373127(0x1a4)},{'xpath':getAks[_0x373127(0x187)],'name':_0x373127(0x187)},{'xpath':getAks[_0x373127(0xef)],'name':_0x373127(0xef)},{'xpath':getAks[_0x373127(0x199)],'name':'ButtonTextMining'},{'xpath':getAks['ButtonInChat'],'name':_0x373127(0x143)}],kq=await genlogin[_0x373127(0xf0)](profileNameId,currentPage,getAks['FirstStartBtn'],0x3e8);if(!kq)log(profileNameId,_0x373127(0xcc),null,![]);else{log(profileNameId,'[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start'),await delay(0x3e8);const kq1=await clickM(getAks[_0x373127(0x1a3)]);!kq1?log(profileNameId,_0x373127(0x183),null,![]):(log(profileNameId,_0x373127(0x190)),await delay(0x7d0));}for(let i=0x0;i<buttons[_0x373127(0x170)];i++){const button=buttons[i];if(!button[_0x373127(0x180)])continue;const exists=await genlogin[_0x373127(0xf0)](profileNameId,currentPage,button['xpath'],0x7d0);if(exists){log(profileNameId,_0x373127(0x147)+button['name']+_0x373127(0x149));const clicked=await clickM(button[_0x373127(0x180)]);!clicked?log(profileNameId,_0x373127(0xf2)+button[_0x373127(0xfd)],null,![]):log(profileNameId,_0x373127(0x125)+button['name']+_0x373127(0x159));await launchConfirm(),await delay(0x3e8);const kqIframe=await genlogin[_0x373127(0xf0)](profileNameId,currentPage,getAks[_0x373127(0x167)],0x7d0);if(!kqIframe){log(profileNameId,_0x373127(0xf6),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,'[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game',null,![]);throw new Error(_0x373127(0x176));}catch(error){return log(profileNameId,_0x373127(0xd8)+error[_0x373127(0x17e)],null,![]),null;}}async function checkLoadGame(){const _0x19a3bf=_0x26430d;try{log(profileNameId,_0x19a3bf(0x112));const tags=[bot[_0x19a3bf(0xeb)],bot['tagGame1'],bot['tagGame2'],bot[_0x19a3bf(0x145)],bot[_0x19a3bf(0x16f)]];if(parseInt(bot[_0x19a3bf(0xde)])===0x1){log(profileNameId,_0x19a3bf(0x192),null,'w','-');const maxAttempts=0x5,iframeLink=await genlogin[_0x19a3bf(0xd9)](profileNameId,currentPage,getAks[_0x19a3bf(0x167)],_0x19a3bf(0x12a),0x3e8);await delay(0x3e8);if(!iframeLink){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link',null,![]);throw new Error(_0x19a3bf(0x19d));}log(profileNameId,_0x19a3bf(0xdf));const kqNewTab=await genlogin[_0x19a3bf(0xde)](profileNameId,browser);if(!kqNewTab){log(profileNameId,_0x19a3bf(0x196),null,![]);throw new Error(_0x19a3bf(0x11e));}log(profileNameId,_0x19a3bf(0x15c));const newPage=await genlogin[_0x19a3bf(0x108)](profileNameId,browser);if(!newPage){log(profileNameId,_0x19a3bf(0x17b),null,![]);throw new Error(_0x19a3bf(0xe0));}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl[_0x19a3bf(0x141)];const kqOpenLink=await genlogin[_0x19a3bf(0x186)](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,_0x19a3bf(0xd4),null,![]);throw new Error(_0x19a3bf(0x10c));}log(profileNameId,'[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK'),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,'[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20'+attempt);for(let i=0x0;i<tags[_0x19a3bf(0x170)];i++){const result=await genlogin[_0x19a3bf(0xf0)](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,_0x19a3bf(0x156)+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x19a3bf(0x130)+maxAttempts+_0x19a3bf(0xcf));throw new Error('Không\x20load\x20được\x20game');}else{log(profileNameId,_0x19a3bf(0xe7),null,'w','-');const maxAttempts=0x5,subframe=await genlogin['switchFrame'](profileNameId,currentPage,getAks[_0x19a3bf(0x167)]);await delay(0x3e8);if(!subframe){log(profileNameId,_0x19a3bf(0x191),null,![]);throw new Error(_0x19a3bf(0x10b));}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x19a3bf(0x12f)+attempt);for(let i=0x0;i<tags['length'];i++){const result=await genlogin[_0x19a3bf(0xf0)](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,_0x19a3bf(0x156)+tags[i],![]),await genlogin[_0x19a3bf(0xf9)](profileNameId,currentPage,'mainframe'),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20'+maxAttempts+_0x19a3bf(0xcf));throw new Error(_0x19a3bf(0xf3));}}catch(error){return log(profileNameId,_0x19a3bf(0x11a),null,![]),await genlogin[_0x19a3bf(0xf9)](profileNameId,currentPage,'mainFrame'),await delay(0x3e8),null;}}async function checkFirstStart(){const _0xf470c5=_0x26430d;try{await delay(0x3e8);const FirstStartBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['FirstStartBtn'],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0xf470c5(0x171),null,!![],'-'),log(profileNameId,_0xf470c5(0x10e)),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0xf470c5(0xd5),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin[_0xf470c5(0xf0)](profileNameId,currentPage,getAks[_0xf470c5(0x1a6)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0xf470c5(0xdc),null,![]),null;log(profileNameId,'['+botName+_0xf470c5(0x15d));const clicked=await dbClickM(getAks[_0xf470c5(0x1a6)]);if(!clicked)return log(profileNameId,'['+botName+_0xf470c5(0xe1),null,![]),null;log(profileNameId,'['+botName+_0xf470c5(0x1a9)),await delay(0x3e8);const typeText=await genlogin[_0xf470c5(0x114)](profileNameId,currentPage,getAks['InputSearch'],_0xf470c5(0x18a),0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0xf470c5(0x13d),null,![]),null;log(profileNameId,'['+botName+_0xf470c5(0x118)),await delay(0x1388);const kqSearchRes=await genlogin[_0xf470c5(0xf0)](profileNameId,currentPage,getAks['SearchRes'],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0xf470c5(0x162),null,![]),null;log(profileNameId,'['+botName+_0xf470c5(0x136));const clicked1=await clickM(getAks['SearchRes']);if(!clicked1)return log(profileNameId,'['+botName+_0xf470c5(0x1ab),null,![]),null;log(profileNameId,'['+botName+_0xf470c5(0x109)),await delay(0x7d0);const xpathRef='(//a[@href=\x27'+bot['ref']+_0xf470c5(0x102),checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+_0xf470c5(0x121)),await reCheckClickStart(),_0xf470c5(0x105);log(profileNameId,'['+botName+_0xf470c5(0x168),null,![]),await delay(0x7d0);const checkChatInput=await genlogin[_0xf470c5(0xf0)](profileNameId,currentPage,getAks[_0xf470c5(0x173)],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+_0xf470c5(0x14a),null,![]),null;log(profileNameId,'['+botName+_0xf470c5(0xfa));const click2=await dbClickM(getAks[_0xf470c5(0x173)]);!click2?log(profileNameId,'['+botName+_0xf470c5(0x12c),null,![]):log(profileNameId,'['+botName+_0xf470c5(0x18e));await delay(0x7d0);const typeText1=await genlogin[_0xf470c5(0x114)](profileNameId,currentPage,getAks[_0xf470c5(0x173)],bot['ref'],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+'][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput',null,![]):log(profileNameId,'['+botName+_0xf470c5(0xd2)+bot[_0xf470c5(0x14e)]);await delay(0x7d0);const checkBtnSend=await clickM(getAks['BtnSend']);!checkBtnSend?log(profileNameId,'['+botName+'][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend',null,![]):log(profileNameId,'['+botName+_0xf470c5(0x12d));await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+_0xf470c5(0x16d)),await reCheckClickStart(),_0xf470c5(0x105);return log(profileNameId,'['+botName+_0xf470c5(0x19c)),null;}catch(error){return log(profileNameId,'['+botName+_0xf470c5(0xce)+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0x1d16a5=_0x26430d;try{await delay(0x3e8);const checkLinkRef=await genlogin[_0x1d16a5(0xf0)](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+_0x1d16a5(0xe2));const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+_0x1d16a5(0x175),null,![]):log(profileNameId,'['+botName+'][clickLinkRef]\x20Click\x20LinkRef\x20OK');await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+_0x1d16a5(0x174),null,![]):log(profileNameId,'['+botName+_0x1d16a5(0x177));const kqCkIframe=await genlogin[_0x1d16a5(0xf0)](profileNameId,currentPage,getAks['Iframe'],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+_0x1d16a5(0x150),null,![]);const kqCkStartbtn=await genlogin[_0x1d16a5(0xf0)](profileNameId,currentPage,getAks[_0x1d16a5(0x1a3)],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0x1d16a5(0x19a),null,![]),!![];else{log(profileNameId,'['+botName+_0x1d16a5(0x148));const clickStart=await clickM(getAks[_0x1d16a5(0x1a3)]);!clickStart&&log(profileNameId,'['+botName+_0x1d16a5(0x15e),null,![]),log(profileNameId,'['+botName+_0x1d16a5(0x155));}}else{log(profileNameId,'['+botName+_0x1d16a5(0x15f));const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+_0x1d16a5(0x146),null,![]):log(profileNameId,'['+botName+_0x1d16a5(0x194));}return!![];}else return log(profileNameId,'['+botName+_0x1d16a5(0x12e)+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+'][clickLinkRef][Lỗi]:\x20'+error,null,![]),null;}}async function reCheckClickStart(){const _0x5cf619=_0x26430d;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin[_0x5cf619(0xf0)](profileNameId,currentPage,getAks['InputSearch'],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x5cf619(0x158),null,![]),null;log(profileNameId,'['+botName+_0x5cf619(0x116));const clicked=await dbClickM(getAks[_0x5cf619(0x1a6)]);if(!clicked)return log(profileNameId,'['+botName+_0x5cf619(0xff),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]Click\x20InputSearch\x20OK'),await delay(0x3e8);const typeText=await genlogin['typeText'](profileNameId,currentPage,getAks['InputSearch'],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x5cf619(0xf8),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK'),await delay(0x1388);const kqSearchRes=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x5cf619(0x10f)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x5cf619(0x14d),null,![]),null;log(profileNameId,'['+botName+_0x5cf619(0x17f));const clicked1=await clickM(getAks[_0x5cf619(0x10f)]);if(!clicked1)return log(profileNameId,'['+botName+'][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes',null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]Click\x20SearchRes\x20OK'),await delay(0x3e8);const FirstStartBtn1=await genlogin[_0x5cf619(0xf0)](profileNameId,currentPage,getAks['FirstStartBtn'],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+'][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start'),await delay(0x3e8);const clickStart=await clickM(getAks[_0x5cf619(0x1a3)]);if(!clickStart)return log(profileNameId,'['+botName+_0x5cf619(0x137),null,![]),null;return log(profileNameId,'['+botName+_0x5cf619(0xf4)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+_0x5cf619(0x11b)+error,null,![]),null;}}async function ShowInputSearch(){const _0x333feb=_0x26430d;try{log(profileNameId,_0x333feb(0x172),null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x333feb(0xf0)](profileNameId,currentPage,getAks[_0x333feb(0x1aa)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x333feb(0x11f),null,![]);else{log(profileNameId,_0x333feb(0xf5));const kqClickSideBarRightClose=await clickM(getAks[_0x333feb(0x1aa)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x333feb(0x198),![]);continue;}log(profileNameId,_0x333feb(0x17c));continue;}const kqCkBackArrow=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['BackArrow'],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x333feb(0x10a),null,![]);else{log(profileNameId,_0x333feb(0x1a8));const kqClickBackArrow=await clickM(getAks[_0x333feb(0x160)]);if(!kqClickBackArrow){log(profileNameId,_0x333feb(0x16e),null,![]);continue;}log(profileNameId,_0x333feb(0xda));continue;}const inputsearch=await genlogin[_0x333feb(0xf0)](profileNameId,currentPage,getAks['InputSearch'],0x3e8);if(inputsearch){log(profileNameId,_0x333feb(0xea),null);break;}}const kqClearBtn=await genlogin[_0x333feb(0xf0)](profileNameId,currentPage,getAks[_0x333feb(0xd7)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x333feb(0x166),null,![]);else{log(profileNameId,_0x333feb(0x18b));const kqClickClearBtn=await clickM(getAks[_0x333feb(0xd7)]);!kqClickClearBtn?log(profileNameId,_0x333feb(0x18c),![]):log(profileNameId,_0x333feb(0x18f));}const kq=await dbClickM(getAks['InputSearch']);return!kq?log(profileNameId,'[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch',![]):log(profileNameId,_0x333feb(0xd1)),!![];}catch(error){return log(profileNameId,'['+botName+_0x333feb(0xe6)+error,null,![]),null;}}async function closeIframe(){const _0x2eb9db=_0x26430d;try{log(profileNameId,_0x2eb9db(0xf1),null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin[_0x2eb9db(0xf0)](profileNameId,currentPage,getAks[_0x2eb9db(0x167)],0x3e8);if(kq5){log(profileNameId,_0x2eb9db(0x189),null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,_0x2eb9db(0x179),null,![]):log(profileNameId,_0x2eb9db(0x17a));}else break;}return null;}catch(error){return log(profileNameId,_0x2eb9db(0x185)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x5426d1=_0x26430d;try{await delay(0x3e8);const clicked=await genlogin[_0x5426d1(0x16c)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x5426d1(0xe9)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x5426d1(0x188)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+'][click][Lỗi]:\x20'+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x1c3371=_0x26430d;try{await delay(0x3e8);const clicked=await genlogin[_0x1c3371(0x16c)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x1c3371(0xfc)+xpath,null,![]),null;return log(profileNameId,'['+botName+'][dbclick]dbclick\x20'+xpath+_0x1c3371(0x159)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x1c3371(0xe3)+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x3ba9cd=_0x26430d;try{const clicked=await genlogin[_0x3ba9cd(0x16c)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x3ba9cd(0xec)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x3ba9cd(0x122)+xpath+_0x3ba9cd(0x159)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x3ba9cd(0x19f)+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0x3cc9ad=_0x26430d;try{const clicked=await genlogin[_0x3cc9ad(0x16c)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x3cc9ad(0x16b)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x3cc9ad(0x13a)+xpath+_0x3cc9ad(0x159)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x3cc9ad(0x142)+error,null,![]),null;}}async function clickP(x,y){const _0x271213=_0x26430d;try{await delay(0x3e8);const clicked=await genlogin[_0x271213(0x16c)](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+_0x271213(0x127)+x+':'+y,![]);throw new Error(_0x271213(0x119)+xpath);}return log(profileNameId,'['+botName+_0x271213(0x188)+x+':'+y+_0x271213(0x159)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x271213(0x193)+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x5682d8=_0x26430d;if(Atomics[_0x5682d8(0x11d)](tasksData,taskIndex)===0x1)return!![];return![];}async function clearVar(){currentPage=null,screenData=null,tasksData=null;}};