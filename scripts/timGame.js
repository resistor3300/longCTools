(function(_0x36528d,_0x502cb6){const _0x92b5d4=a0_0x32fa,_0x4127ec=_0x36528d();while(!![]){try{const _0x59d635=-parseInt(_0x92b5d4(0x116))/0x1*(-parseInt(_0x92b5d4(0x170))/0x2)+parseInt(_0x92b5d4(0xfc))/0x3+parseInt(_0x92b5d4(0x12e))/0x4+parseInt(_0x92b5d4(0x107))/0x5*(parseInt(_0x92b5d4(0x14d))/0x6)+-parseInt(_0x92b5d4(0x121))/0x7*(-parseInt(_0x92b5d4(0x194))/0x8)+-parseInt(_0x92b5d4(0x18e))/0x9+-parseInt(_0x92b5d4(0x14e))/0xa;if(_0x59d635===_0x502cb6)break;else _0x4127ec['push'](_0x4127ec['shift']());}catch(_0xfb2173){_0x4127ec['push'](_0x4127ec['shift']());}}}(a0_0x23df,0x4fc37));function a0_0x32fa(_0x44306a,_0x14da02){const _0x23df94=a0_0x23df();return a0_0x32fa=function(_0x32fab5,_0x23380a){_0x32fab5=_0x32fab5-0xed;let _0x18f07f=_0x23df94[_0x32fab5];return _0x18f07f;},a0_0x32fa(_0x44306a,_0x14da02);}function a0_0x23df(){const _0x25c762=['[timGame][gui]TatGame\x20ok','][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput','[timGame]\x20click\x20inputsearch\x20ok','[timGame][checkStartGame]\x20','][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef','Không\x20tìm\x20thấy\x20iframe\x20link','Không\x20check\x20gui\x20được','src','[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20','[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm','][dbclick]dbclick\x20','name','1718484MWPDKk','[timGame][TatGame]Vào\x20tắt\x20game\x20lần:','[timGame]Tìm\x20Game','length','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch','[timGame]\x20click\x20SearchRes\x20ok','Không\x20tìm\x20thấy\x20iframe','][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes','Không\x20mở\x20tab\x20mới','[timGame][TatGame]Tắt\x20game\x20OK','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','Không\x20lấy\x20page\x20mới','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game','ref','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20','Saved\x20Messages','][dbClickM]Không\x20click\x20được\x20vào\x20','Không\x20tắt\x20được\x20game','][clickM][Lỗi]:\x20','][dbclick]Không\x20dbclick\x20được\x20vào\x20','[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch','[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK','][checkFirstStart]\x20Click\x20BtnSend\x20OK','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch','tagGame1','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game','ButtonInChat','[timGame]Vào\x20Tìm\x20game\x20','60ayRnxl','16926740ZytmHO','newTab','Không\x20click\x20được\x20vào\x20inputsearch','clearInputSearch','[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch','[timGame][launchConfirm]click\x20LaunchConfirm\x20OK','][click]Click\x20','mainFrame','sideBarRightClose','[timGame]check\x20tắt\x20game\x20đang\x20mở','ButtonTextLaunch','BackArrow','\x20lần\x20thử','[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm','[closeIframe]Đang\x20có\x20game\x20mở','][dbclick][Lỗi]:\x20','[timGame][gui]Không\x20start\x20game\x20được','[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20','][checkFirstStart]Không\x20Click\x20được\x20LinkRef','[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway','[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro','SearchRes','][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start','[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame][launchConfirm][Lỗi]:\x20','MainOpenButton','[timGame]Gui','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','typeText','][checkFirstStart]Click\x20InputSearch\x20OK','Không\x20load\x20game\x20được','[timGame][gui]Không\x20load\x20game\x20được','dialogWarnBtn','985204sjyiwD','(//a[@href=\x27','[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK','][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch','LaunchConfirm','[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start','openUrl','[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game','[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway','[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game','[timGame][checkLoadGame]\x20popup\x20mode','][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','[timGame][TatGame][Lỗi]:\x20','][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes','[timGame]Gui\x20ok','Không\x20tìm\x20thấy\x20CloseGame','][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch','[timGame]Không\x20click\x20được\x20vào\x20SearchRes','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput','][click]Không\x20click\x20được\x20vào\x20','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe','[timGame][gui]start\x20game\x20ok','[closeIframe]check\x20tắt\x20game\x20đang\x20mở','tagGame4','][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame][closeAnyway]check\x20close\x20anyway','[timGame][gui]Đang\x20có\x20game\x20mở','1893330FfDRYn','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','Không\x20start\x20game\x20được','playtag','[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','344UZeDus','][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch','][dbClickM]Click\x20','Không\x20click\x20được\x20vào\x20ForceClosePopup','][clickLinkRef]\x20Click\x20LinkRef\x20OK','[timGame][gui][Lỗi]:\x20','[timGame]Tìm\x20thấy\x20SearchRes\x20ok','tagGame3','][reCheckClickStart]\x20Click\x20start\x20OK','[timGame][closeAnyway]click\x20ForceClosePopup\x20OK','\x20OK','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','][clickLinkRef]tìm\x20thấy\x20LinkRef','][clickLinkRef]\x20Click\x20launchConfirm\x20OK','][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','FirstStartBtn','load','switchFrame','][checkFirstStart]click\x20link\x20ref\x20ok','][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch','[timGame][closeAnyway][Lỗi]:\x20','[timGame]tìm\x20thấy\x20inputsearch','Không\x20load\x20được\x20game','][reCheckClickStart]Click\x20InputSearch\x20OK','[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được','elementExistsByXPath','][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start','tagGame2','xpath','][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27','Iframe','\x20ok','][checkFirstStart]Click\x20SearchRes\x20OK','[timGame][checkLoadGame]\x20Check\x20iframe\x20link\x20lần\x20','][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK','BtnSend','[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20','][timGame][ShowInputSearch][Lỗi]:\x20','[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn','][clickLinkRef]Không\x20đóng\x20iframe','ButtonTextPlay','loop','getAttributeFromXPath','[closeIframe]TatGame\x20ok','][click][Lỗi]:\x20','[timGame]Không\x20click\x20được\x20vào\x20inputsearch','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok','][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref','[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed','[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link','][clickM]Không\x20click\x20được\x20vào\x20','Không\x20click\x20được\x20vào\x20','][clickLinkRef]Không\x20tìm\x20thấy\x20iframe','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','1424646jLolJK','[closeIframe][Lỗi]:\x20','[timGame][gui]\x20Đã\x20thử\x20','[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm','CloseGame','[closeIframe]Không\x20tắt\x20được\x20game','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','setTitle','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','getCurrentPage','][checkFirstStart]\x20Click\x20ChatInput\x20OK','321940QgEYnT','[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','][checkFirstStart]Click\x20vào\x20LinkRef\x20ok','ButtonTextClaim','][clickLinkRef]\x20Tìm\x20thấy\x20iframe','ChatInput','[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20','][dbClickM][Lỗi]:\x20','][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput','ForceClosePopup','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch','click','1epjVbU','\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở','InputSearch','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow','][clickLinkRef]\x20Click\x20start\x20OK','ButtonTextStart','[timGame]Không\x20tìm\x20thấy\x20SearchRes','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start','gui','[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game','30730elBxEY'];a0_0x23df=function(){return _0x25c762;};return a0_0x23df();}import{log,json}from'../modules/logger.js';export default async function (context,HostName){const _0x49932c=a0_0x32fa,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot['name'];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,_0x49932c(0x130),null,'i','=');const kqDialogWarnBtn=await genlogin[_0x49932c(0x1ae)](profileNameId,currentPage,getAks[_0x49932c(0x16f)],0x1f4);if(kqDialogWarnBtn){log(profileNameId,'[timGame]Tìm\x20thấy\x20dialogWarnBtn',null,'w');const kqClickDialogWarnBtn=await clickM(getAks[_0x49932c(0x16f)]);!kqClickDialogWarnBtn&&log(profileNameId,_0x49932c(0x1bb),null,![]),log(profileNameId,'[timGame]Click\x20dialogWarnBtn\x20ok');}log(profileNameId,_0x49932c(0x157),null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['Iframe'],0x3e8);if(kq5){log(profileNameId,_0x49932c(0x18d),null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error('Không\x20tắt\x20được\x20game');log(profileNameId,_0x49932c(0x122));}else break;}if(attempts===maxAttempts){log(profileNameId,_0x49932c(0xfe)+maxAttempts+_0x49932c(0x117),null,![]);throw new Error(_0x49932c(0x142));}log(profileNameId,_0x49932c(0x14c)+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x49932c(0x1ae)](profileNameId,currentPage,getAks['sideBarRightClose'],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x49932c(0x16a),null,![]);else{log(profileNameId,_0x49932c(0x108));const kqClickSideBarRightClose=await clickM(getAks[_0x49932c(0x156)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x49932c(0x139),![]);continue;}log(profileNameId,_0x49932c(0x166)),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0x49932c(0x1ae)](profileNameId,currentPage,getAks[_0x49932c(0x159)],0x3e8);if(!kqCkBackArrow)log(profileNameId,'[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow',null,![]);else{log(profileNameId,'[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow');const kqClickBackArrow=await clickM(getAks[_0x49932c(0x159)]);if(!kqClickBackArrow){log(profileNameId,_0x49932c(0x10f),null,![]);continue;}log(profileNameId,'[timGame]\x20click\x20nút\x20BackArrow\x20ok'),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0x49932c(0x1ae)](profileNameId,currentPage,getAks['InputSearch'],0x3e8);if(inputsearch){log(profileNameId,_0x49932c(0x1aa),null);break;}}const kqClearBtn=await genlogin[_0x49932c(0x1ae)](profileNameId,currentPage,getAks[_0x49932c(0x151)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x49932c(0x145),null,![]);else{log(profileNameId,_0x49932c(0x114));const kqClickClearBtn=await clickM(getAks[_0x49932c(0x151)]);!kqClickClearBtn?log(profileNameId,_0x49932c(0x148),![]):log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok');}const kq=await dbClickM(getAks[_0x49932c(0x118)]);if(!kq){log(profileNameId,_0x49932c(0xf3),![]);throw new Error(_0x49932c(0x150));}log(profileNameId,_0x49932c(0x124)),await delay(0x3e8);const kq2=await genlogin['typeText'](profileNameId,currentPage,getAks[_0x49932c(0x118)],botName);await delay(0x3e8);if(!kq2){log(profileNameId,_0x49932c(0x152),![]);throw new Error('Không\x20nhập\x20được\x20vào\x20inputsearch');}log(profileNameId,'[timGame]\x20nhập\x20'+botName+_0x49932c(0x1b4)),await delay(0x1388);const kq3=await genlogin[_0x49932c(0x1ae)](profileNameId,currentPage,getAks[_0x49932c(0x164)]);if(!kq3){log(profileNameId,_0x49932c(0x11c),![]);throw new Error('Không\x20tìm\x20thấy\x20SearchRes');}log(profileNameId,_0x49932c(0x19a)),await delay(0x3e8);const kq4=await clickM(getAks[_0x49932c(0x164)]);if(!kq4){log(profileNameId,_0x49932c(0x182),![]);throw new Error('Không\x20click\x20được\x20vào\x20SearchRes');}log(profileNameId,_0x49932c(0x134)),await genlogin[_0x49932c(0x103)](profileNameId,currentPage,profileNameId);if(bot[_0x49932c(0x11f)]==='1'){log(profileNameId,_0x49932c(0x169)),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error(_0x49932c(0x128));if(kq10===_0x49932c(0xef))return log(profileNameId,_0x49932c(0x163)),{'status':_0x49932c(0xef)};return await delay(0x3e8),log(profileNameId,_0x49932c(0x17f)),await clearVar(),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,'[timGame]NoGui',null,![]),await clearVar(),{'status':!![]};}catch(error){return log(profileNameId,'[timGame][Lỗi]1:\x20'+error,null,![]),await clearVar(),{'status':![]};}async function gui(){const _0xaf4738=_0x49932c;try{log(profileNameId,_0xaf4738(0x17c),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart===_0xaf4738(0xef))return log(profileNameId,'[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro'),_0xaf4738(0xef);await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,_0xaf4738(0x15e),![]);throw new Error(_0xaf4738(0x190));}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,_0xaf4738(0x16e),![]);throw new Error(_0xaf4738(0x16d));}return await delay(0x3e8),log(profileNameId,_0xaf4738(0x187)),!![];}catch(error){return log(profileNameId,_0xaf4738(0x199)+error,![]),null;}}async function TatGame(){const _0xe9a531=_0x49932c;try{log(profileNameId,_0xe9a531(0x12f)+demLoop);const kq7=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['CloseGame'],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin[_0xe9a531(0x1ae)](profileNameId,currentPage,getAks[_0xe9a531(0x1b3)],0x3e8);if(kq9){log(profileNameId,_0xe9a531(0x1ad));throw new Error(_0xe9a531(0x180));}return log(profileNameId,_0xe9a531(0x138)),!![];}const kq8=await clickM(getAks[_0xe9a531(0x100)]);!kq8&&log(profileNameId,'[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame',null,![]);log(profileNameId,'[timGame][TatGame]click\x20CloseGame\x20OK'),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,_0xe9a531(0xf6),![]),!![];}catch(error){return log(profileNameId,_0xe9a531(0x17d)+error,![]),null;}}async function closeAnyway(){const _0x4df147=_0x49932c;try{log(profileNameId,_0x4df147(0x18c));const kq10=await genlogin[_0x4df147(0x1ae)](profileNameId,currentPage,getAks[_0x4df147(0x113)],0x1388);if(!kq10)return log(profileNameId,_0x4df147(0x178),![]),!![];log(profileNameId,_0x4df147(0x162)),await delay(0x7d0);const kq11=await clickM(getAks[_0x4df147(0x113)]);if(!kq11)throw new Error(_0x4df147(0x197));return log(profileNameId,_0x4df147(0x19d)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x4df147(0x1a9)+error,![]),null;}}async function launchConfirm(){const _0x53e197=_0x49932c;try{log(profileNameId,'[timGame][launchConfirm]check\x20launchConfirm');const kq10=await genlogin[_0x53e197(0x1ae)](profileNameId,currentPage,getAks[_0x53e197(0x174)],0xbb8);if(!kq10)return log(profileNameId,_0x53e197(0xff),null,![]),null;log(profileNameId,_0x53e197(0x15b)),await delay(0x7d0);const kq11=await clickM(getAks['LaunchConfirm']);if(!kq11)return log(profileNameId,_0x53e197(0x12b),null,![]),null;return log(profileNameId,_0x53e197(0x153)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,_0x53e197(0x167)+error,![]),null;}}async function checkStartGame(){const _0xb19ec6=_0x49932c;try{log(profileNameId,_0xb19ec6(0x179),null,'-');const buttons=[{'xpath':bot[_0xb19ec6(0x191)],'name':_0xb19ec6(0x191)},{'xpath':getAks[_0xb19ec6(0x168)],'name':_0xb19ec6(0x168)},{'xpath':getAks[_0xb19ec6(0xee)],'name':_0xb19ec6(0xee)},{'xpath':getAks[_0xb19ec6(0x10a)],'name':_0xb19ec6(0x10a)},{'xpath':getAks[_0xb19ec6(0x11b)],'name':_0xb19ec6(0x11b)},{'xpath':getAks['ButtonTextLaunch'],'name':_0xb19ec6(0x158)},{'xpath':getAks['ButtonTextMining'],'name':'ButtonTextMining'},{'xpath':getAks[_0xb19ec6(0x14b)],'name':'ButtonInChat'}],kq=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0xb19ec6(0x1a4)],0x3e8);if(!kq)log(profileNameId,_0xb19ec6(0x13b),null,![]);else{log(profileNameId,_0xb19ec6(0x175)),await delay(0x3e8);const kq1=await clickM(getAks[_0xb19ec6(0x1a4)]);!kq1?log(profileNameId,'[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start',null,![]):(log(profileNameId,'[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK'),await delay(0x7d0));}for(let i=0x0;i<buttons[_0xb19ec6(0x131)];i++){const button=buttons[i];if(!button[_0xb19ec6(0x1b1)])continue;const exists=await genlogin[_0xb19ec6(0x1ae)](profileNameId,currentPage,button[_0xb19ec6(0x1b1)],0x7d0);if(exists){log(profileNameId,_0xb19ec6(0x125)+button[_0xb19ec6(0x12d)]+'\x20tồn\x20tại');const clicked=await clickM(button[_0xb19ec6(0x1b1)]);!clicked?log(profileNameId,_0xb19ec6(0x13d)+button['name'],null,![]):log(profileNameId,'[timGame][checkStartGame]\x20Click\x20'+button[_0xb19ec6(0x12d)]+_0xb19ec6(0x19e));await launchConfirm(),await delay(0x1388);const kqIframe=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0xb19ec6(0x1b3)],0x1388);if(!kqIframe){log(profileNameId,_0xb19ec6(0x18f),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,_0xb19ec6(0x14a),null,![]);throw new Error('Không\x20tìm\x20thấy\x20nút\x20mở\x20game');}catch(error){return log(profileNameId,_0xb19ec6(0x12a)+error['message'],null,![]),null;}}async function checkLoadGame(){const _0x4b9819=_0x49932c;try{log(profileNameId,_0x4b9819(0x177));const tags=[bot['tagGame'],bot[_0x4b9819(0x149)],bot[_0x4b9819(0x1b0)],bot[_0x4b9819(0x19b)],bot[_0x4b9819(0x189)]];if(parseInt(bot[_0x4b9819(0x14f)])===0x1){log(profileNameId,'[timGame][checkLoadGame]newTab\x20mode',null,'w','-');const maxAttempts=0x5;let demLoop=0x0;const maxDemLoop=0x19;while(demLoop<maxDemLoop){demLoop++,log(profileNameId,_0x4b9819(0x1b6)+demLoop+'/'+maxDemLoop,null,![]);const iframeLink=await genlogin[_0x4b9819(0xf0)](profileNameId,currentPage,getAks[_0x4b9819(0x1b3)],_0x4b9819(0x129),0x3e8);await delay(0x3e8);if(iframeLink)break;}if(!iframeLink){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link',null,![]);throw new Error(_0x4b9819(0x127));}log(profileNameId,_0x4b9819(0xf7));const kqNewTab=await genlogin['newTab'](profileNameId,browser);if(!kqNewTab){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới',null,![]);throw new Error(_0x4b9819(0x137));}log(profileNameId,_0x4b9819(0x146));const newPage=await genlogin[_0x4b9819(0x105)](profileNameId,browser);if(!newPage){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới',null,![]);throw new Error(_0x4b9819(0x13a));}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl['hostname'];const kqOpenLink=await genlogin[_0x4b9819(0x176)](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe',null,![]);throw new Error('Không\x20mở\x20link\x20iframe');}log(profileNameId,_0x4b9819(0x172)),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,'[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20'+attempt);for(let i=0x0;i<tags['length'];i++){const result=await genlogin[_0x4b9819(0x1ae)](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,_0x4b9819(0x1b9)+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x4b9819(0x104)+maxAttempts+_0x4b9819(0x15a));throw new Error(_0x4b9819(0x1ab));}else{log(profileNameId,_0x4b9819(0x17a),null,'w','-');const maxAttempts=0x5,subframe=await genlogin[_0x4b9819(0x1a6)](profileNameId,currentPage,getAks['Iframe']);await delay(0x3e8);if(!subframe){log(profileNameId,_0x4b9819(0x186),null,![]);throw new Error(_0x4b9819(0x135));}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x4b9819(0x15f)+attempt);for(let i=0x0;i<tags[_0x4b9819(0x131)];i++){const result=await genlogin[_0x4b9819(0x1ae)](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,'[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20'+tags[i],![]),await genlogin[_0x4b9819(0x1a6)](profileNameId,currentPage,'mainframe'),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x4b9819(0x104)+maxAttempts+'\x20lần\x20thử');throw new Error('Không\x20load\x20được\x20game');}}catch(error){return log(profileNameId,_0x4b9819(0x10d),null,![]),await genlogin['switchFrame'](profileNameId,currentPage,_0x4b9819(0x155)),await delay(0x3e8),null;}}async function checkFirstStart(){const _0x38bd78=_0x49932c;try{await delay(0x3e8);const FirstStartBtn=await genlogin[_0x38bd78(0x1ae)](profileNameId,currentPage,getAks['FirstStartBtn'],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0x38bd78(0xfb),null,!![],'-'),log(profileNameId,_0x38bd78(0x120)),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0x38bd78(0x132),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin[_0x38bd78(0x1ae)](profileNameId,currentPage,getAks[_0x38bd78(0x118)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x38bd78(0x13e),null,![]),null;log(profileNameId,'['+botName+_0x38bd78(0x181));const clicked=await dbClickM(getAks['InputSearch']);if(!clicked)return log(profileNameId,'['+botName+_0x38bd78(0x1a8),null,![]),null;log(profileNameId,'['+botName+_0x38bd78(0x16c)),await delay(0x3e8);const typeText=await genlogin[_0x38bd78(0x16b)](profileNameId,currentPage,getAks[_0x38bd78(0x118)],_0x38bd78(0x140),0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x38bd78(0x195),null,![]),null;log(profileNameId,'['+botName+_0x38bd78(0x1b2)),await delay(0x1388);const kqSearchRes=await genlogin[_0x38bd78(0x1ae)](profileNameId,currentPage,getAks[_0x38bd78(0x164)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x38bd78(0x11d),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes');const clicked1=await clickM(getAks[_0x38bd78(0x164)]);if(!clicked1)return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes',null,![]),null;log(profileNameId,'['+botName+_0x38bd78(0x1b5)),await delay(0x7d0);const xpathRef=_0x38bd78(0x171)+bot[_0x38bd78(0x13c)]+'\x27])[last()]',checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+_0x38bd78(0x1a7)),await reCheckClickStart(),_0x38bd78(0xef);log(profileNameId,'['+botName+_0x38bd78(0xf5),null,![]),await delay(0x7d0);const checkChatInput=await genlogin[_0x38bd78(0x1ae)](profileNameId,currentPage,getAks[_0x38bd78(0x10c)],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput',null,![]),null;log(profileNameId,'['+botName+_0x38bd78(0x112));const click2=await dbClickM(getAks[_0x38bd78(0x10c)]);!click2?log(profileNameId,'['+botName+_0x38bd78(0x123),null,![]):log(profileNameId,'['+botName+_0x38bd78(0x106));await delay(0x7d0);const typeText1=await genlogin['typeText'](profileNameId,currentPage,getAks[_0x38bd78(0x10c)],bot[_0x38bd78(0x13c)],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+_0x38bd78(0x184),null,![]):log(profileNameId,'['+botName+_0x38bd78(0x110)+bot[_0x38bd78(0x13c)]);await delay(0x7d0);const checkBtnSend=await clickM(getAks[_0x38bd78(0x1b8)]);!checkBtnSend?log(profileNameId,'['+botName+_0x38bd78(0x1a2),null,![]):log(profileNameId,'['+botName+_0x38bd78(0x147));await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+_0x38bd78(0x109)),await reCheckClickStart(),'loop';return log(profileNameId,'['+botName+_0x38bd78(0x160)),null;}catch(error){return log(profileNameId,'['+botName+'][checkFirstStart][Lỗi]:\x20'+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0x5e9c67=_0x49932c;try{await delay(0x3e8);const checkLinkRef=await genlogin[_0x5e9c67(0x1ae)](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+_0x5e9c67(0x1a0));const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+_0x5e9c67(0x126),null,![]):log(profileNameId,'['+botName+_0x5e9c67(0x198));await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+'][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm',null,![]):log(profileNameId,'['+botName+_0x5e9c67(0x1a1));const kqCkIframe=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['Iframe'],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+_0x5e9c67(0xfa),null,![]);const kqCkStartbtn=await genlogin[_0x5e9c67(0x1ae)](profileNameId,currentPage,getAks[_0x5e9c67(0x1a4)],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0x5e9c67(0x1a3),null,![]),!![];else{log(profileNameId,'['+botName+'][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start');const clickStart=await clickM(getAks[_0x5e9c67(0x1a4)]);!clickStart&&log(profileNameId,'['+botName+_0x5e9c67(0x11e),null,![]),log(profileNameId,'['+botName+_0x5e9c67(0x11a));}}else{log(profileNameId,'['+botName+_0x5e9c67(0x10b));const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+_0x5e9c67(0xed),null,![]):log(profileNameId,'['+botName+'][clickLinkRef]\x20Đóng\x20iframe\x20OK');}return!![];}else return log(profileNameId,'['+botName+'][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20'+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+'][clickLinkRef][Lỗi]:\x20'+error,null,![]),null;}}async function reCheckClickStart(){const _0x30d330=_0x49932c;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin[_0x30d330(0x1ae)](profileNameId,currentPage,getAks[_0x30d330(0x118)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x30d330(0x18a),null,![]),null;log(profileNameId,'['+botName+_0x30d330(0x173));const clicked=await dbClickM(getAks[_0x30d330(0x118)]);if(!clicked)return log(profileNameId,'['+botName+_0x30d330(0x17b),null,![]),null;log(profileNameId,'['+botName+_0x30d330(0x1ac)),await delay(0x3e8);const typeText=await genlogin[_0x30d330(0x16b)](profileNameId,currentPage,getAks[_0x30d330(0x118)],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x30d330(0x133),null,![]),null;log(profileNameId,'['+botName+_0x30d330(0x1b7)),await delay(0x1388);const kqSearchRes=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x30d330(0x164)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x30d330(0x19f),null,![]),null;log(profileNameId,'['+botName+_0x30d330(0x136));const clicked1=await clickM(getAks['SearchRes']);if(!clicked1)return log(profileNameId,'['+botName+_0x30d330(0x17e),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]Click\x20SearchRes\x20OK'),await delay(0x3e8);const FirstStartBtn1=await genlogin[_0x30d330(0x1ae)](profileNameId,currentPage,getAks[_0x30d330(0x1a4)],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+_0x30d330(0x165)),await delay(0x3e8);const clickStart=await clickM(getAks['FirstStartBtn']);if(!clickStart)return log(profileNameId,'['+botName+_0x30d330(0x1af),null,![]),null;return log(profileNameId,'['+botName+_0x30d330(0x19c)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+'][reCheckClickStart][Lỗi]:\x20'+error,null,![]),null;}}async function ShowInputSearch(){const _0x2d28d9=_0x49932c;try{log(profileNameId,'[timGame][ShowInputSearch]\x20ShowInputSearch',null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['sideBarRightClose'],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,_0x2d28d9(0x18b),null,![]);else{log(profileNameId,_0x2d28d9(0x102));const kqClickSideBarRightClose=await clickM(getAks[_0x2d28d9(0x156)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x2d28d9(0x183),![]);continue;}log(profileNameId,_0x2d28d9(0x161));continue;}const kqCkBackArrow=await genlogin[_0x2d28d9(0x1ae)](profileNameId,currentPage,getAks[_0x2d28d9(0x159)],0x3e8);if(!kqCkBackArrow)log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow',null,![]);else{log(profileNameId,_0x2d28d9(0x119));const kqClickBackArrow=await clickM(getAks[_0x2d28d9(0x159)]);if(!kqClickBackArrow){log(profileNameId,_0x2d28d9(0x193),null,![]);continue;}log(profileNameId,_0x2d28d9(0x192));continue;}const inputsearch=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x2d28d9(0x118)],0x3e8);if(inputsearch){log(profileNameId,_0x2d28d9(0x10e),null);break;}}const kqClearBtn=await genlogin[_0x2d28d9(0x1ae)](profileNameId,currentPage,getAks['clearInputSearch'],0x3e8);if(!kqClearBtn)log(profileNameId,_0x2d28d9(0x145),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch');const kqClickClearBtn=await clickM(getAks[_0x2d28d9(0x151)]);!kqClickClearBtn?log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch',![]):log(profileNameId,_0x2d28d9(0xf4));}const kq=await dbClickM(getAks['InputSearch']);return!kq?log(profileNameId,'[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch',![]):log(profileNameId,'[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok'),!![];}catch(error){return log(profileNameId,'['+botName+_0x2d28d9(0x1ba)+error,null,![]),null;}}async function closeIframe(){const _0x9f76e3=_0x49932c;try{log(profileNameId,_0x9f76e3(0x188),null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x9f76e3(0x1b3)],0x3e8);if(kq5){log(profileNameId,_0x9f76e3(0x15c),null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,_0x9f76e3(0x101),null,![]):log(profileNameId,_0x9f76e3(0xf1));}else break;}return null;}catch(error){return log(profileNameId,_0x9f76e3(0xfd)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x320b41=_0x49932c;try{await delay(0x3e8);const clicked=await genlogin[_0x320b41(0x115)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x320b41(0x185)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x320b41(0x154)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x320b41(0xf2)+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x17bd3=_0x49932c;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x17bd3(0x144)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x17bd3(0x12c)+xpath+_0x17bd3(0x19e)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x17bd3(0x15d)+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x422790=_0x49932c;try{const clicked=await genlogin['click'](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x422790(0xf8)+xpath,null,![]),null;return log(profileNameId,'['+botName+'][clickM]Click\x20'+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x422790(0x143)+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0x4068ed=_0x49932c;try{const clicked=await genlogin['click'](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x4068ed(0x141)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x4068ed(0x196)+xpath+_0x4068ed(0x19e)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x4068ed(0x111)+error,null,![]),null;}}async function clickP(x,y){const _0x3337db=_0x49932c;try{await delay(0x3e8);const clicked=await genlogin[_0x3337db(0x115)](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+_0x3337db(0x13f)+x+':'+y,![]);throw new Error(_0x3337db(0xf9)+xpath);}return log(profileNameId,'['+botName+'][click]Click\x20'+x+':'+y+_0x3337db(0x19e)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x3337db(0xf2)+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x2ba809=_0x49932c;if(Atomics[_0x2ba809(0x1a5)](tasksData,taskIndex)===0x1)return!![];return![];}async function clearVar(){currentPage=null,screenData=null,tasksData=null;}};