(function(_0x23a91b,_0x4d9b03){const _0xd10e36=a0_0x3b53,_0x65de09=_0x23a91b();while(!![]){try{const _0x5d3cd2=parseInt(_0xd10e36(0x1b5))/0x1*(-parseInt(_0xd10e36(0x1a9))/0x2)+-parseInt(_0xd10e36(0x17d))/0x3+-parseInt(_0xd10e36(0x1aa))/0x4*(-parseInt(_0xd10e36(0x1c1))/0x5)+parseInt(_0xd10e36(0x176))/0x6*(-parseInt(_0xd10e36(0x1ea))/0x7)+parseInt(_0xd10e36(0x223))/0x8+parseInt(_0xd10e36(0x1a5))/0x9*(parseInt(_0xd10e36(0x23d))/0xa)+parseInt(_0xd10e36(0x1de))/0xb;if(_0x5d3cd2===_0x4d9b03)break;else _0x65de09['push'](_0x65de09['shift']());}catch(_0x73bcf){_0x65de09['push'](_0x65de09['shift']());}}}(a0_0x5dbc,0xcc81b));function a0_0x5dbc(){const _0xd9cc64=['[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20','][reCheckClickStart]\x20vẫn\x20thấy\x20nút\x20start','][reCheckClickStart]Click\x20SearchRes\x20OK','][dbClickM]Không\x20click\x20được\x20vào\x20','][checkFirstStart]\x20Click\x20BtnSend\x20OK','[timGame][ShowInputSearch]\x20click\x20inputsearch\x20ok','Không\x20click\x20được\x20vào\x20','[timGame]Gui\x20ok,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame][checkLoadGame]\x20Không\x20load\x20được\x20game\x20sau\x20','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose','][clickM]Click\x20','][reCheckClickStart]\x20Tìm\x20thấy\x20SearchRes','[timGame][checkStartGame]\x20','[timGame][checkLoadGame]newTab\x20mode','][checkFirstStart][Lỗi]:\x20','clearInputSearch','[timGame]\x20click\x20inputsearch\x20ok','][clickLinkRef]\x20Click\x20LinkRef\x20OK','[timGame][launchConfirm]check\x20launchConfirm','Không\x20tìm\x20thấy\x20SearchRes','][reCheckClickStart]Không\x20tìm\x20thấy\x20SearchRes','\x20lần\x20thử','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','MainOpenButton','[timGame][ShowInputSearch]\x20click\x20nút\x20BackArrow\x20ok','Không\x20click\x20được\x20vào\x20SearchRes','6183EkSDtY','ButtonTextPlay','[timGame][gui][Lỗi]:\x20','][click][Lỗi]:\x20','2487484WAoIWe','56EJEOnr','ChatInput','ref','][dbclick]dbclick\x20','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20start\x20của\x20new\x20game','[timGame]Tìm\x20thấy\x20SearchRes\x20ok','][reCheckClickStart]Không\x20click\x20được\x20vào\x20nút\x20start','Không\x20load\x20được\x20game','[timGame][TatGame]Tắt\x20game\x20OK','[timGame][closeAnyway]Không\x20tìm\x20thấy\x20closeAnyway','mainframe','1ddzqlo','[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch','[timGame][gui]Không\x20load\x20game\x20được','][checkFirstStart]Không\x20click\x20được\x20vào\x20InputSearch','[closeIframe]Không\x20tắt\x20được\x20game','][checkFirstStart]Type\x20vào\x20InputSearch\x20OK\x20\x27Saved\x20Messages\x27','][clickM]Không\x20click\x20được\x20vào\x20','[timGame]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose','[timGame]Không\x20click\x20được\x20vào\x20inputsearch','][checkFirstStart]Không\x20type\x20được\x20vào\x20ChatInput','\x20tồn\x20tại','][click]Không\x20click\x20được\x20vào\x20','371495aXVUle','[timGame][checkStartGame]\x20Bắt\x20đầu\x20kiểm\x20tra\x20Start\x20Game','tagGame3','load','][reCheckClickStart]\x20Tìm\x20thấy\x20InputSearch','[timGame]Tìm\x20Game','SearchRes','][checkFirstStart]Không\x20click\x20được\x20vào\x20SearchRes','][reCheckClickStart]Không\x20type\x20được\x20vào\x20InputSearch','][reCheckClickStart][Lỗi]:\x20','][clickLinkRef][Lỗi]:\x20','[timGame][launchConfirm]Không\x20click\x20được\x20vào\x20launchConfirm','[timGame][launchConfirm]Tìm\x20thấy\x20launchConfirm','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20nút\x20mở\x20game','][clickLinkRef]\x20Đóng\x20iframe\x20OK','dialogWarnBtn','Không\x20load\x20game\x20được','][clickLinkRef]\x20Click\x20start\x20OK','(//a[@href=\x27','][clickLinkRef]\x20Tìm\x20thấy\x20iframe','BackArrow','[timGame][ShowInputSearch]tìm\x20thấy\x20inputsearch','][checkFirstStart]Không\x20type\x20được\x20vào\x20InputSearch','getCurrentPage','[timGame]\x20click\x20SearchRes\x20ok','[timGame]Tìm\x20thấy\x20dialogWarnBtn','[timGame][checkLoadGame]\x20Không\x20lấy\x20page\x20mới','[timGame]Vào\x20Tìm\x20game\x20','\x20lần\x20nhưng\x20vẫn\x20còn\x20game\x20mở','8693058eKsbri','[timGame][gui]Check\x20start\x20Game\x20mới\x20ok\x20,\x20loop\x20lại\x20game\x20nè\x20bro','[timGame]tìm\x20thấy\x20inputsearch','ButtonTextStart','[timGame][gui]start\x20game\x20ok','][clickLinkRef]Không\x20click\x20được\x20vào\x20nút\x20start','tagGame1','[timGame][checkFirstStart]\x20Chạy\x20ref\x20để\x20vào\x20game','[timGame]\x20Tìm\x20thấy\x20nút\x20BackArrow','][checkFirstStart]\x20Click\x20ChatInput\x20OK','][click]Click\x20','src','42hoRFTf','ButtonTextClaim','ButtonInChat','Không\x20tìm\x20thấy\x20iframe\x20link','][clickLinkRef]\x20Click\x20launchConfirm\x20OK','[timGame]Click\x20dialogWarnBtn\x20ok','[timGame][checkStartGame]\x20Click\x20nút\x20start\x20OK','ButtonTextMining','[timGame][closeAnyway]click\x20ForceClosePopup\x20OK','][checkFirstStart]Type\x20vào\x20ChatInput\x20OK\x20','[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe\x20link','][checkFirstStart]Click\x20InputSearch\x20OK','][checkFirstStart]Không\x20click\x20được\x20vào\x20BtnSend','[timGame][TatGame]Phát\x20hiện\x20game\x20đang\x20mở\x20không\x20tắt\x20được','message','[closeIframe]check\x20tắt\x20game\x20đang\x20mở','\x20ok','[timGame]Gui','[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20','[timGame][ShowInputSearch]\x20ShowInputSearch','][checkFirstStart]Không\x20tìm\x20thấy\x20SearchRes','ButtonTextLaunch','[timGame][checkLoadGame]\x20popup\x20mode','[timGame][checkStartGame]\x20Không\x20tìm\x20thấy\x20iframe','gui','[timGame][gui]\x20Đã\x20thử\x20','loop','][checkFirstStart]Click\x20vào\x20LinkRef\x20ok','[timGame]\x20click\x20nút\x20BackArrow\x20ok','[timGame][checkLoadGame]tìm\x20thấy\x20iframe\x20link','Không\x20tắt\x20được\x20game','][checkFirstStart]Không\x20tìm\x20thấy\x20InputSearch','[timGame]Không\x20tìm\x20thấy\x20SearchRes','Không\x20lấy\x20page\x20mới','length','elementExistsByXPath','Không\x20tìm\x20thấy\x20iframe','name','Không\x20mở\x20tab\x20mới','[timGame][checkLoadGame]\x20Không\x20mở\x20tab\x20mới','][checkFirstStart]\x20Tìm\x20thấy\x20SearchRes','][checkFirstStart]Không\x20click\x20được\x20vào\x20ChatInput','tagGame2','][reCheckClickStart]Không\x20tìm\x20thấy\x20InputSearch','Iframe','[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','][checkFirstStart]click\x20link\x20ref\x20ok','[timGame][ShowInputSearch]Không\x20click\x20được\x20vào\x20inputsearch','Không\x20click\x20được\x20vào\x20inputsearch','[timGame]\x20nhập\x20','[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20','][dbclick]Không\x20dbclick\x20được\x20vào\x20','][timGame][ShowInputSearch][Lỗi]:\x20','[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch','[timGame][gui]TatGame\x20ok','[timGame][checkFirstStart]\x20Game\x20mới\x20nè\x20bro','[timGame][Lỗi]1:\x20','9422944EqYEzk','typeText','tagGame','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch','[timGame][checkFirstStart]\x20Không\x20thấy\x20inputSearch','sideBarRightClose','[timGame][checkLoadGame]\x20Đang\x20kiểm\x20tra\x20tải\x20game','[timGame]NoGui','][clickLinkRef]tìm\x20thấy\x20LinkRef','\x27])[last()]','[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20BackArrow','ForceClosePopup','][clickM][Lỗi]:\x20','[timGame][ShowInputSearch]\x20click\x20clearInputSearch\x20ok','xpath','][clickLinkRef]Không\x20tìm\x20thấy\x20LinkRef\x20','][clickLinkRef]Không\x20click\x20được\x20vào\x20launchConfirm','[timGame]\x20Không\x20click\x20được\x20vào\x20nút\x20BackArrow','Không\x20nhập\x20được\x20vào\x20inputsearch','LaunchConfirm','[timGame]Không\x20nhập\x20được\x20vào\x20inputsearch','[timGame][ShowInputSearch]\x20click\x20nút\x20sideBarRightClose\x20ok','[timGame][TatGame]click\x20CloseGame\x20OK','[timGame][launchConfirm]Không\x20tìm\x20thấy\x20launchConfirm','\x20OK','switchFrame','11830tekuvb','[timGame]Không\x20click\x20được\x20vào\x20SearchRes','hostname','[timGame][checkLoadGame]\x20Không\x20mở\x20link\x20iframe','][reCheckClickStart]Click\x20InputSearch\x20OK','[timGame][checkLoadGame]\x20Chưa\x20load\x20được\x20game','getAttributeFromXPath','898902CEhjsn','][clickLinkRef]Không\x20tìm\x20thấy\x20nút\x20start','[timGame][gui]Vào\x20Gui\x20mở\x20game\x20lên','[timGame][checkStartGame]\x20Click\x20','openUrl','][clickLinkRef]Không\x20đóng\x20iframe','[timGame][TatGame]Không\x20click\x20được\x20vào\x20CloseGame','2522250nojJlb','mainFrame','][checkFirstStart]Click\x20SearchRes\x20OK','FirstStartBtn','[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20BackArrow','InputSearch','][clickLinkRef]Không\x20tìm\x20thấy\x20iframe','][clickLinkRef]Không\x20click\x20được\x20vào\x20LinkRef','Không\x20mở\x20link\x20iframe','[timGame][checkLoadGame]\x20Mở\x20link\x20iframe\x20OK','[timGame][closeAnyway]Tìm\x20thấy\x20closeAnyway','][dbClickM]Click\x20','click','newTab'];a0_0x5dbc=function(){return _0xd9cc64;};return a0_0x5dbc();}function a0_0x3b53(_0x36dbac,_0x296f03){const _0x5dbc06=a0_0x5dbc();return a0_0x3b53=function(_0x3b539c,_0x2c3307){_0x3b539c=_0x3b539c-0x172;let _0x2c052f=_0x5dbc06[_0x3b539c];return _0x2c052f;},a0_0x3b53(_0x36dbac,_0x296f03);}import{log,json}from'../modules/logger.js';export default async function (context,HostName){const _0x1362d9=a0_0x3b53,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage;const botName=bot[_0x1362d9(0x20f)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,iframeLinkHotsName=null;try{log(profileNameId,_0x1362d9(0x1c6),null,'i','=');const kqDialogWarnBtn=await genlogin[_0x1362d9(0x20d)](profileNameId,currentPage,getAks[_0x1362d9(0x1d0)],0x1f4);if(kqDialogWarnBtn){log(profileNameId,_0x1362d9(0x1da),null,'w');const kqClickDialogWarnBtn=await clickM(getAks[_0x1362d9(0x1d0)]);!kqClickDialogWarnBtn&&log(profileNameId,'[timGame]Không\x20click\x20được\x20vào\x20dialogWarnBtn',null,![]),log(profileNameId,_0x1362d9(0x1ef));}log(profileNameId,'[timGame]check\x20tắt\x20game\x20đang\x20mở',null,'i');let attempts=0x0;const maxAttempts=0x5;while(attempts<maxAttempts){attempts++;const kq5=await genlogin[_0x1362d9(0x20d)](profileNameId,currentPage,getAks[_0x1362d9(0x216)],0x3e8);if(kq5){log(profileNameId,'[timGame][gui]Đang\x20có\x20game\x20mở',null,'w'),await delay(0x3e8);const kq6=await TatGame();if(!kq6)throw new Error(_0x1362d9(0x208));log(profileNameId,_0x1362d9(0x220));}else break;}if(attempts===maxAttempts){log(profileNameId,_0x1362d9(0x203)+maxAttempts+_0x1362d9(0x1dd),null,![]);throw new Error(_0x1362d9(0x208));}log(profileNameId,_0x1362d9(0x1dc)+botName,null,'i'),await delay(0x3e8);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x1362d9(0x20d)](profileNameId,currentPage,getAks[_0x1362d9(0x228)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,'[timGame]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose',null,![]);else{log(profileNameId,_0x1362d9(0x1bc));const kqClickSideBarRightClose=await clickM(getAks[_0x1362d9(0x228)]);if(!kqClickSideBarRightClose){log(profileNameId,_0x1362d9(0x194),![]);continue;}log(profileNameId,'[timGame]\x20click\x20nút\x20sideBarRightClose\x20ok'),await delay(0x3e8);continue;}const kqCkBackArrow=await genlogin[_0x1362d9(0x20d)](profileNameId,currentPage,getAks[_0x1362d9(0x1d5)],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x1362d9(0x217),null,![]);else{log(profileNameId,_0x1362d9(0x1e6));const kqClickBackArrow=await clickM(getAks[_0x1362d9(0x1d5)]);if(!kqClickBackArrow){log(profileNameId,_0x1362d9(0x234),null,![]);continue;}log(profileNameId,_0x1362d9(0x206)),await delay(0x3e8);continue;}const inputsearch=await genlogin[_0x1362d9(0x20d)](profileNameId,currentPage,getAks[_0x1362d9(0x182)],0x3e8);if(inputsearch){log(profileNameId,_0x1362d9(0x1e0),null);break;}}const kqClearBtn=await genlogin[_0x1362d9(0x20d)](profileNameId,currentPage,getAks[_0x1362d9(0x19a)],0x3e8);if(!kqClearBtn)log(profileNameId,_0x1362d9(0x21f),null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20clearInputSearch');const kqClickClearBtn=await clickM(getAks['clearInputSearch']);!kqClickClearBtn?log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20clearInputSearch',![]):log(profileNameId,_0x1362d9(0x230));}const kq=await dbClickM(getAks[_0x1362d9(0x182)]);if(!kq){log(profileNameId,_0x1362d9(0x1bd),![]);throw new Error(_0x1362d9(0x21a));}log(profileNameId,_0x1362d9(0x19b)),await delay(0x3e8);const kq2=await genlogin[_0x1362d9(0x224)](profileNameId,currentPage,getAks[_0x1362d9(0x182)],botName);await delay(0x3e8);if(!kq2){log(profileNameId,_0x1362d9(0x237),![]);throw new Error(_0x1362d9(0x235));}log(profileNameId,_0x1362d9(0x21b)+botName+_0x1362d9(0x1fa)),await delay(0x1388);const kq3=await genlogin[_0x1362d9(0x20d)](profileNameId,currentPage,getAks[_0x1362d9(0x1c7)]);if(!kq3){log(profileNameId,_0x1362d9(0x20a),![]);throw new Error(_0x1362d9(0x19e));}log(profileNameId,_0x1362d9(0x1af)),await delay(0x3e8);const kq4=await clickM(getAks['SearchRes']);if(!kq4){log(profileNameId,_0x1362d9(0x23e),![]);throw new Error(_0x1362d9(0x1a4));}log(profileNameId,_0x1362d9(0x1d9)),await genlogin['setTitle'](profileNameId,currentPage,profileNameId);if(bot[_0x1362d9(0x202)]==='1'){log(profileNameId,_0x1362d9(0x1fb)),await delay(0x3e8);const kq10=await gui();if(!kq10)throw new Error('Không\x20check\x20gui\x20được');if(kq10===_0x1362d9(0x204))return log(profileNameId,_0x1362d9(0x192)),{'status':'loop'};return await delay(0x3e8),log(profileNameId,'[timGame]Gui\x20ok'),{'status':!![],'HostName':iframeLinkHotsName};}else return await delay(0x3e8),log(profileNameId,_0x1362d9(0x22a),null,![]),{'status':!![]};}catch(error){return log(profileNameId,_0x1362d9(0x222)+error,null,![]),{'status':![]};}async function gui(){const _0xeeafe6=_0x1362d9;try{log(profileNameId,_0xeeafe6(0x178),null,'i'),await delay(0x3e8);const kqFirstStart=await checkFirstStart();if(kqFirstStart==='loop')return log(profileNameId,_0xeeafe6(0x1df)),_0xeeafe6(0x204);await delay(0x3e8);const kq20=await checkStartGame();if(!kq20){log(profileNameId,'[timGame][gui]Không\x20start\x20game\x20được',![]);throw new Error('Không\x20start\x20game\x20được');}await delay(0x1388);const kq21=await checkLoadGame();if(!kq21){log(profileNameId,_0xeeafe6(0x1b7),![]);throw new Error(_0xeeafe6(0x1d1));}return await delay(0x3e8),log(profileNameId,_0xeeafe6(0x1e2)),!![];}catch(error){return log(profileNameId,_0xeeafe6(0x1a7)+error,![]),null;}}async function TatGame(){const _0x5d9075=_0x1362d9;try{log(profileNameId,'[timGame][TatGame]Vào\x20tắt\x20game\x20lần:'+demLoop);const kq7=await genlogin[_0x5d9075(0x20d)](profileNameId,currentPage,getAks['CloseGame'],0x3e8);if(!kq7){await delay(0x3e8);const kq9=await genlogin[_0x5d9075(0x20d)](profileNameId,currentPage,getAks[_0x5d9075(0x216)],0x3e8);if(kq9){log(profileNameId,_0x5d9075(0x1f7));throw new Error('Không\x20tìm\x20thấy\x20CloseGame');}return log(profileNameId,_0x5d9075(0x1b2)),!![];}const kq8=await clickM(getAks['CloseGame']);!kq8&&log(profileNameId,_0x5d9075(0x17c),null,![]);log(profileNameId,_0x5d9075(0x239)),await delay(0x7d0);const kq11=await closeAnyway();return!kq11&&log(profileNameId,'[timGame][TatGame]Không\x20tắt\x20được\x20game\x20closeAnyway\x20failed',![]),!![];}catch(error){return log(profileNameId,'[timGame][TatGame][Lỗi]:\x20'+error,![]),null;}}async function closeAnyway(){const _0x100036=_0x1362d9;try{log(profileNameId,'[timGame][closeAnyway]check\x20close\x20anyway');const kq10=await genlogin[_0x100036(0x20d)](profileNameId,currentPage,getAks[_0x100036(0x22e)],0x1388);if(!kq10)return log(profileNameId,_0x100036(0x1b3),![]),!![];log(profileNameId,_0x100036(0x187)),await delay(0x7d0);const kq11=await clickM(getAks[_0x100036(0x22e)]);if(!kq11)throw new Error('Không\x20click\x20được\x20vào\x20ForceClosePopup');return log(profileNameId,_0x100036(0x1f2)),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'[timGame][closeAnyway][Lỗi]:\x20'+error,![]),null;}}async function launchConfirm(){const _0x48eb44=_0x1362d9;try{log(profileNameId,_0x48eb44(0x19d));const kq10=await genlogin[_0x48eb44(0x20d)](profileNameId,currentPage,getAks[_0x48eb44(0x236)],0xbb8);if(!kq10)return log(profileNameId,_0x48eb44(0x23a),null,![]),null;log(profileNameId,_0x48eb44(0x1cd)),await delay(0x7d0);const kq11=await clickM(getAks[_0x48eb44(0x236)]);if(!kq11)return log(profileNameId,_0x48eb44(0x1cc),null,![]),null;return log(profileNameId,'[timGame][launchConfirm]click\x20LaunchConfirm\x20OK'),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'[timGame][launchConfirm][Lỗi]:\x20'+error,![]),null;}}async function checkStartGame(){const _0x472ec3=_0x1362d9;try{log(profileNameId,_0x472ec3(0x1c2),null,'-');const buttons=[{'xpath':bot['playtag'],'name':'playtag'},{'xpath':getAks[_0x472ec3(0x1a2)],'name':_0x472ec3(0x1a2)},{'xpath':getAks['ButtonTextPlay'],'name':_0x472ec3(0x1a6)},{'xpath':getAks[_0x472ec3(0x1eb)],'name':_0x472ec3(0x1eb)},{'xpath':getAks[_0x472ec3(0x1e1)],'name':_0x472ec3(0x1e1)},{'xpath':getAks[_0x472ec3(0x1ff)],'name':'ButtonTextLaunch'},{'xpath':getAks[_0x472ec3(0x1f1)],'name':_0x472ec3(0x1f1)},{'xpath':getAks[_0x472ec3(0x1ec)],'name':'ButtonInChat'}],kq=await genlogin[_0x472ec3(0x20d)](profileNameId,currentPage,getAks[_0x472ec3(0x180)],0x3e8);if(!kq)log(profileNameId,_0x472ec3(0x1ae),null,![]);else{log(profileNameId,'[timGame][checkStartGame]\x20Tìm\x20thấy\x20nút\x20start'),await delay(0x3e8);const kq1=await clickM(getAks['FirstStartBtn']);!kq1?log(profileNameId,'[timGame][checkStartGame]\x20Không\x20click\x20được\x20vào\x20nút\x20start',null,![]):(log(profileNameId,_0x472ec3(0x1f0)),await delay(0x7d0));}for(let i=0x0;i<buttons[_0x472ec3(0x20c)];i++){const button=buttons[i];if(!button[_0x472ec3(0x231)])continue;const exists=await genlogin[_0x472ec3(0x20d)](profileNameId,currentPage,button[_0x472ec3(0x231)],0x7d0);if(exists){log(profileNameId,_0x472ec3(0x197)+button[_0x472ec3(0x20f)]+_0x472ec3(0x1bf));const clicked=await clickM(button[_0x472ec3(0x231)]);!clicked?log(profileNameId,_0x472ec3(0x1fc)+button[_0x472ec3(0x20f)],null,![]):log(profileNameId,_0x472ec3(0x179)+button[_0x472ec3(0x20f)]+_0x472ec3(0x23b));await launchConfirm(),await delay(0x3e8);const kqIframe=await genlogin[_0x472ec3(0x20d)](profileNameId,currentPage,getAks[_0x472ec3(0x216)],0x7d0);if(!kqIframe){log(profileNameId,_0x472ec3(0x201),null,![]);continue;}return await delay(0x7d0),!![];}}log(profileNameId,_0x472ec3(0x1ce),null,![]);throw new Error('Không\x20tìm\x20thấy\x20nút\x20mở\x20game');}catch(error){return log(profileNameId,'[timGame][checkStartGame]\x20Chưa\x20load\x20được\x20game:\x20'+error[_0x472ec3(0x1f8)],null,![]),null;}}async function checkLoadGame(){const _0x4b5034=_0x1362d9;try{log(profileNameId,_0x4b5034(0x229));const tags=[bot[_0x4b5034(0x225)],bot[_0x4b5034(0x1e4)],bot[_0x4b5034(0x214)],bot[_0x4b5034(0x1c3)],bot['tagGame4']];if(parseInt(bot[_0x4b5034(0x18a)])===0x1){log(profileNameId,_0x4b5034(0x198),null,'w','-');const maxAttempts=0x5,iframeLink=await genlogin[_0x4b5034(0x175)](profileNameId,currentPage,getAks[_0x4b5034(0x216)],_0x4b5034(0x1e9),0x3e8);await delay(0x3e8);if(!iframeLink){log(profileNameId,_0x4b5034(0x1f4),null,![]);throw new Error(_0x4b5034(0x1ed));}log(profileNameId,_0x4b5034(0x207));const kqNewTab=await genlogin['newTab'](profileNameId,browser);if(!kqNewTab){log(profileNameId,_0x4b5034(0x211),null,![]);throw new Error(_0x4b5034(0x210));}log(profileNameId,'[timGame][checkLoadGame]\x20Mở\x20tab\x20mới\x20OK');const newPage=await genlogin[_0x4b5034(0x1d8)](profileNameId,browser);if(!newPage){log(profileNameId,_0x4b5034(0x1db),null,![]);throw new Error(_0x4b5034(0x20b));}const parsedUrl=new URL(iframeLink);iframeLinkHotsName=parsedUrl[_0x4b5034(0x23f)];const kqOpenLink=await genlogin[_0x4b5034(0x17a)](profileNameId,newPage,iframeLink);if(!kqOpenLink){log(profileNameId,_0x4b5034(0x172),null,![]);throw new Error(_0x4b5034(0x185));}log(profileNameId,_0x4b5034(0x186)),await delay(0x3e8);for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,_0x4b5034(0x21c)+attempt);for(let i=0x0;i<tags[_0x4b5034(0x20c)];i++){const result=await genlogin['elementExistsByXPath'](profileNameId,newPage,tags[i],0x7d0);if(result)return log(profileNameId,'[timGame][checkLoadGame]\x20Game\x20đã\x20sẵn\x20sàng\x20với\x20tag\x20'+tags[i],![]),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x4b5034(0x193)+maxAttempts+_0x4b5034(0x1a0));throw new Error(_0x4b5034(0x1b1));}else{log(profileNameId,_0x4b5034(0x200),null,'w','-');const maxAttempts=0x5,subframe=await genlogin['switchFrame'](profileNameId,currentPage,getAks[_0x4b5034(0x216)]);await delay(0x3e8);if(!subframe){log(profileNameId,'[timGame][checkLoadGame]\x20Không\x20tìm\x20thấy\x20iframe',null,![]);throw new Error(_0x4b5034(0x20e));}for(let attempt=0x1;attempt<=maxAttempts;attempt++){log(profileNameId,'[timGame][checkLoadGame]\x20Lần\x20kiểm\x20tra\x20thứ\x20'+attempt);for(let i=0x0;i<tags[_0x4b5034(0x20c)];i++){const result=await genlogin[_0x4b5034(0x20d)](profileNameId,subframe,tags[i],0x7d0);if(result)return log(profileNameId,_0x4b5034(0x18b)+tags[i],![]),await genlogin[_0x4b5034(0x23c)](profileNameId,currentPage,_0x4b5034(0x1b4)),await delay(0x3e8),!![];}attempt<maxAttempts&&await new Promise(resolve=>setTimeout(resolve,0x1388));}log(profileNameId,_0x4b5034(0x193)+maxAttempts+_0x4b5034(0x1a0));throw new Error(_0x4b5034(0x1b1));}}catch(error){return log(profileNameId,_0x4b5034(0x174),null,![]),await genlogin[_0x4b5034(0x23c)](profileNameId,currentPage,_0x4b5034(0x17e)),await delay(0x3e8),null;}}async function checkFirstStart(){const _0x3c0dfe=_0x1362d9;try{await delay(0x3e8);const FirstStartBtn=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['FirstStartBtn'],0xbb8);if(!FirstStartBtn)return null;log(profileNameId,_0x3c0dfe(0x221),null,!![],'-'),log(profileNameId,_0x3c0dfe(0x1e5)),await delay(0x3e8);const kq0=await ShowInputSearch();if(!kq0)return log(profileNameId,_0x3c0dfe(0x227),null,![]),null;await delay(0x3e8);const checkInputSearch=await genlogin[_0x3c0dfe(0x20d)](profileNameId,currentPage,getAks[_0x3c0dfe(0x182)],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x3c0dfe(0x209),null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20InputSearch');const clicked=await dbClickM(getAks[_0x3c0dfe(0x182)]);if(!clicked)return log(profileNameId,'['+botName+_0x3c0dfe(0x1b8),null,![]),null;log(profileNameId,'['+botName+_0x3c0dfe(0x1f5)),await delay(0x3e8);const typeText=await genlogin['typeText'](profileNameId,currentPage,getAks[_0x3c0dfe(0x182)],'Saved\x20Messages',0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x3c0dfe(0x1d7),null,![]),null;log(profileNameId,'['+botName+_0x3c0dfe(0x1ba)),await delay(0x1388);const kqSearchRes=await genlogin[_0x3c0dfe(0x20d)](profileNameId,currentPage,getAks[_0x3c0dfe(0x1c7)],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x3c0dfe(0x1fe),null,![]),null;log(profileNameId,'['+botName+_0x3c0dfe(0x212));const clicked1=await clickM(getAks[_0x3c0dfe(0x1c7)]);if(!clicked1)return log(profileNameId,'['+botName+_0x3c0dfe(0x1c8),null,![]),null;log(profileNameId,'['+botName+_0x3c0dfe(0x17f)),await delay(0x7d0);const xpathRef=_0x3c0dfe(0x1d3)+bot['ref']+_0x3c0dfe(0x22c),checkLinkRef=await clickLinkRef(xpathRef);if(checkLinkRef)return log(profileNameId,'['+botName+_0x3c0dfe(0x218)),await reCheckClickStart(),_0x3c0dfe(0x204);log(profileNameId,'['+botName+'][checkFirstStart]Không\x20Tìm\x20thấy\x20link\x20ref',null,![]),await delay(0x7d0);const checkChatInput=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks['ChatInput'],0x7d0);if(!checkChatInput)return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20tìm\x20thấy\x20ChatInput',null,![]),null;log(profileNameId,'['+botName+'][checkFirstStart]\x20Tìm\x20thấy\x20ChatInput');const click2=await dbClickM(getAks[_0x3c0dfe(0x1ab)]);!click2?log(profileNameId,'['+botName+_0x3c0dfe(0x213),null,![]):log(profileNameId,'['+botName+_0x3c0dfe(0x1e7));await delay(0x7d0);const typeText1=await genlogin[_0x3c0dfe(0x224)](profileNameId,currentPage,getAks[_0x3c0dfe(0x1ab)],bot['ref'],0x1,0x1388);await delay(0x3e8);!typeText1?log(profileNameId,'['+botName+_0x3c0dfe(0x1be),null,![]):log(profileNameId,'['+botName+_0x3c0dfe(0x1f3)+bot[_0x3c0dfe(0x1ac)]);await delay(0x7d0);const checkBtnSend=await clickM(getAks['BtnSend']);!checkBtnSend?log(profileNameId,'['+botName+_0x3c0dfe(0x1f6),null,![]):log(profileNameId,'['+botName+_0x3c0dfe(0x18f));await delay(0x7d0);const checkLinkRef1=await clickLinkRef(xpathRef);if(checkLinkRef1)return log(profileNameId,'['+botName+_0x3c0dfe(0x205)),await reCheckClickStart(),'loop';return log(profileNameId,'['+botName+'][checkFirstStart]Không\x20Click\x20được\x20LinkRef'),null;}catch(error){return log(profileNameId,'['+botName+_0x3c0dfe(0x199)+error,null,![]),null;}}async function clickLinkRef(xpathRef){const _0x4638f0=_0x1362d9;try{await delay(0x3e8);const checkLinkRef=await genlogin[_0x4638f0(0x20d)](profileNameId,currentPage,xpathRef,0x2710);if(checkLinkRef){log(profileNameId,'['+botName+_0x4638f0(0x22b));const clickLinkRef=await clickM(xpathRef,!![]);!clickLinkRef?log(profileNameId,'['+botName+_0x4638f0(0x184),null,![]):log(profileNameId,'['+botName+_0x4638f0(0x19c));await delay(0x7d0);const checklaunchConfirm=await launchConfirm();!checklaunchConfirm?log(profileNameId,'['+botName+_0x4638f0(0x233),null,![]):log(profileNameId,'['+botName+_0x4638f0(0x1ee));const kqCkIframe=await genlogin[_0x4638f0(0x20d)](profileNameId,currentPage,getAks[_0x4638f0(0x216)],0x7d0);if(!kqCkIframe){log(profileNameId,'['+botName+_0x4638f0(0x183),null,![]);const kqCkStartbtn=await genlogin[_0x4638f0(0x20d)](profileNameId,currentPage,getAks['FirstStartBtn'],0x7d0);if(!kqCkStartbtn)return log(profileNameId,'['+botName+_0x4638f0(0x177),null,![]),!![];else{log(profileNameId,'['+botName+'][clickLinkRef]\x20Tìm\x20thấy\x20nút\x20start');const clickStart=await clickM(getAks[_0x4638f0(0x180)]);!clickStart&&log(profileNameId,'['+botName+_0x4638f0(0x1e3),null,![]),log(profileNameId,'['+botName+_0x4638f0(0x1d2));}}else{log(profileNameId,'['+botName+_0x4638f0(0x1d4));const kqCkCloseIframe=await closeIframe();!kqCkCloseIframe?log(profileNameId,'['+botName+_0x4638f0(0x17b),null,![]):log(profileNameId,'['+botName+_0x4638f0(0x1cf));}return!![];}else return log(profileNameId,'['+botName+_0x4638f0(0x232)+xpathRef,null,![]),null;}catch(error){return log(profileNameId,'['+botName+_0x4638f0(0x1cb)+error,null,![]),null;}}async function reCheckClickStart(){const _0x526cb7=_0x1362d9;try{await delay(0x3e8),await ShowInputSearch();const checkInputSearch=await genlogin[_0x526cb7(0x20d)](profileNameId,currentPage,getAks['InputSearch'],0x7d0);if(!checkInputSearch)return log(profileNameId,'['+botName+_0x526cb7(0x215),null,![]),null;log(profileNameId,'['+botName+_0x526cb7(0x1c5));const clicked=await dbClickM(getAks['InputSearch']);if(!clicked)return log(profileNameId,'['+botName+'][reCheckClickStart]Không\x20click\x20được\x20vào\x20InputSearch',null,![]),null;log(profileNameId,'['+botName+_0x526cb7(0x173)),await delay(0x3e8);const typeText=await genlogin['typeText'](profileNameId,currentPage,getAks['InputSearch'],botName,0x1,0x7d0);if(!typeText)return log(profileNameId,'['+botName+_0x526cb7(0x1c9),null,![]),null;log(profileNameId,'['+botName+'][reCheckClickStart]Type\x20vào\x20InputSearch\x20OK'),await delay(0x1388);const kqSearchRes=await genlogin[_0x526cb7(0x20d)](profileNameId,currentPage,getAks['SearchRes'],0x7d0);if(!kqSearchRes)return log(profileNameId,'['+botName+_0x526cb7(0x19f),null,![]),null;log(profileNameId,'['+botName+_0x526cb7(0x196));const clicked1=await clickM(getAks[_0x526cb7(0x1c7)]);if(!clicked1)return log(profileNameId,'['+botName+'][reCheckClickStart]Không\x20click\x20được\x20vào\x20SearchRes',null,![]),null;log(profileNameId,'['+botName+_0x526cb7(0x18d)),await delay(0x3e8);const FirstStartBtn1=await genlogin[_0x526cb7(0x20d)](profileNameId,currentPage,getAks[_0x526cb7(0x180)],0xbb8);if(!FirstStartBtn1)return null;log(profileNameId,'['+botName+_0x526cb7(0x18c)),await delay(0x3e8);const clickStart=await clickM(getAks[_0x526cb7(0x180)]);if(!clickStart)return log(profileNameId,'['+botName+_0x526cb7(0x1b0),null,![]),null;return log(profileNameId,'['+botName+'][reCheckClickStart]\x20Click\x20start\x20OK'),await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+_0x526cb7(0x1ca)+error,null,![]),null;}}async function ShowInputSearch(){const _0x2e743e=_0x1362d9;try{log(profileNameId,_0x2e743e(0x1fd),null,!![],'-'),await delay(0x1f4);let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqCkSideBarRightClose=await genlogin[_0x2e743e(0x20d)](profileNameId,currentPage,getAks[_0x2e743e(0x228)],0x3e8);if(!kqCkSideBarRightClose)log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20tìm\x20thấy\x20nút\x20sideBarRightClose',null,![]);else{log(profileNameId,'[timGame][ShowInputSearch]\x20Tìm\x20thấy\x20nút\x20sideBarRightClose');const kqClickSideBarRightClose=await clickM(getAks[_0x2e743e(0x228)]);if(!kqClickSideBarRightClose){log(profileNameId,'[timGame][ShowInputSearch]\x20Không\x20click\x20được\x20vào\x20nút\x20sideBarRightClose',![]);continue;}log(profileNameId,_0x2e743e(0x238));continue;}const kqCkBackArrow=await genlogin[_0x2e743e(0x20d)](profileNameId,currentPage,getAks['BackArrow'],0x3e8);if(!kqCkBackArrow)log(profileNameId,_0x2e743e(0x181),null,![]);else{log(profileNameId,_0x2e743e(0x22d));const kqClickBackArrow=await clickM(getAks['BackArrow']);if(!kqClickBackArrow){log(profileNameId,_0x2e743e(0x1a1),null,![]);continue;}log(profileNameId,_0x2e743e(0x1a3));continue;}const inputsearch=await genlogin[_0x2e743e(0x20d)](profileNameId,currentPage,getAks[_0x2e743e(0x182)],0x3e8);if(inputsearch){log(profileNameId,_0x2e743e(0x1d6),null);break;}}const kqClearBtn=await genlogin[_0x2e743e(0x20d)](profileNameId,currentPage,getAks[_0x2e743e(0x19a)],0x3e8);if(!kqClearBtn)log(profileNameId,'[timGame][ShowInputSearch]Không\x20tìm\x20thấy\x20clearInputSearch',null,![]);else{log(profileNameId,_0x2e743e(0x226));const kqClickClearBtn=await clickM(getAks[_0x2e743e(0x19a)]);!kqClickClearBtn?log(profileNameId,_0x2e743e(0x1b6),![]):log(profileNameId,_0x2e743e(0x230));}const kq=await dbClickM(getAks[_0x2e743e(0x182)]);return!kq?log(profileNameId,_0x2e743e(0x219),![]):log(profileNameId,_0x2e743e(0x190)),!![];}catch(error){return log(profileNameId,'['+botName+_0x2e743e(0x21e)+error,null,![]),null;}}async function closeIframe(){const _0x2b6530=_0x1362d9;try{log(profileNameId,_0x2b6530(0x1f9),null,'i');let demLoop=0x0;const maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kq5=await genlogin[_0x2b6530(0x20d)](profileNameId,currentPage,getAks[_0x2b6530(0x216)],0x3e8);if(kq5){log(profileNameId,'[closeIframe]Đang\x20có\x20game\x20mở',null,'w'),await delay(0x3e8);const kq6=await TatGame();!kq6?log(profileNameId,_0x2b6530(0x1b9),null,![]):log(profileNameId,'[closeIframe]TatGame\x20ok');}else break;}return null;}catch(error){return log(profileNameId,'[closeIframe][Lỗi]:\x20'+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x332622=_0x1362d9;try{await delay(0x3e8);const clicked=await genlogin[_0x332622(0x189)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x332622(0x1c0)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x332622(0x1e8)+xpath+_0x332622(0x23b)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x332622(0x1a8)+error,null,![]),null;}}async function dbClick(xpath,tagClick=!![]){const _0x5546b4=_0x1362d9;try{await delay(0x3e8);const clicked=await genlogin[_0x5546b4(0x189)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x5546b4(0x21d)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x5546b4(0x1ad)+xpath+_0x5546b4(0x23b)),clicked;}catch(error){return log(profileNameId,'['+botName+'][dbclick][Lỗi]:\x20'+error,null,![]),null;}}async function clickM(xpath,tagClick=![]){const _0x35495e=_0x1362d9;try{const clicked=await genlogin['click'](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0x35495e(0x1bb)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x35495e(0x195)+xpath+_0x35495e(0x23b)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x35495e(0x22f)+error,null,![]),null;}}async function dbClickM(xpath,tagClick=![]){const _0xdc9504=_0x1362d9;try{const clicked=await genlogin[_0xdc9504(0x189)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'dbclick':!![],'tagClick':tagClick},0x1388);await delay(0x1f4);if(!clicked)return log(profileNameId,'['+botName+_0xdc9504(0x18e)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0xdc9504(0x188)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+'][dbClickM][Lỗi]:\x20'+error,null,![]),null;}}async function clickP(x,y){const _0x1b2e96=_0x1362d9;try{await delay(0x3e8);const clicked=await genlogin[_0x1b2e96(0x189)](profileNameId,currentPage,{'x':x,'y':y,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked){log(profileNameId,'['+botName+'][click]Không\x20click\x20được\x20vào\x20tọa\x20độ\x20'+x+':'+y,![]);throw new Error(_0x1b2e96(0x191)+xpath);}return log(profileNameId,'['+botName+_0x1b2e96(0x1e8)+x+':'+y+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x1b2e96(0x1a8)+error,![]),null;}}async function delay(ms){return new Promise(async(resolve,reject)=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x33b3c8=_0x1362d9;if(Atomics[_0x33b3c8(0x1c4)](tasksData,taskIndex)===0x1)return!![];return![];}};