function a0_0x1e22(_0x4973ce,_0x8c915a){const _0x26a314=a0_0x26a3();return a0_0x1e22=function(_0x1e2223,_0x205e11){_0x1e2223=_0x1e2223-0x129;let _0x2a89d6=_0x26a314[_0x1e2223];return _0x2a89d6;},a0_0x1e22(_0x4973ce,_0x8c915a);}(function(_0x346164,_0x12c86a){const _0x1eb5bc=a0_0x1e22,_0x1441c7=_0x346164();while(!![]){try{const _0x4187b8=-parseInt(_0x1eb5bc(0x1cc))/0x1*(parseInt(_0x1eb5bc(0x16e))/0x2)+-parseInt(_0x1eb5bc(0x1cb))/0x3*(parseInt(_0x1eb5bc(0x1a1))/0x4)+-parseInt(_0x1eb5bc(0x15b))/0x5*(-parseInt(_0x1eb5bc(0x1c8))/0x6)+parseInt(_0x1eb5bc(0x18c))/0x7*(-parseInt(_0x1eb5bc(0x1a0))/0x8)+-parseInt(_0x1eb5bc(0x1b1))/0x9*(parseInt(_0x1eb5bc(0x136))/0xa)+parseInt(_0x1eb5bc(0x1c9))/0xb*(-parseInt(_0x1eb5bc(0x153))/0xc)+parseInt(_0x1eb5bc(0x162))/0xd*(parseInt(_0x1eb5bc(0x158))/0xe);if(_0x4187b8===_0x12c86a)break;else _0x1441c7['push'](_0x1441c7['shift']());}catch(_0x48d042){_0x1441c7['push'](_0x1441c7['shift']());}}}(a0_0x26a3,0xe567b));import{log,json}from'../modules/logger.js';function a0_0x26a3(){const _0x4def00=['elementExistsByXPath',']Xử\x20lý\x20thoigianconlai\x20OK','xpathBackTask',']Lôi\x20lamTask','(//dialog//button[contains(@class,\x27close-btn\x27)])[1]','2cMvZiw','][town]Tìm\x20thấy\x20nutX','load','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20currentPage','][lamTask]Tìm\x20thấy\x20home','][lamTask]Làm\x20Task\x20nè','checkBtn','][click][Lỗi]:\x20','][lamTask]Click\x20home\x20OK','][lamTask]Tìm\x20thấy\x20inputCode','][lamTask]Không\x20click\x20dc\x20inputCode','][checkQuayLaiXpath]\x20Đóng\x20tab\x20mới\x20thành\x20công',']không\x20Tìm\x20thấy\x20coinTag','][lamTask]Không\x20click\x20là\x20startMission','//button[text()=\x27Check\x27]','finishMission','//img[contains(@alt,\x27right\x20chevron\x27)]','][checkQuayLaiXpath]\x20Không\x20phát\x20hiện\x20tab\x20mới','//div[contains(@class,\x27_actionContent_\x27)]//button[text()=\x27Get\x20it!\x27]',']không\x20xử\x20lý\x20được\x20thoigianconlai','][checkTown]\x20error:\x20','][town]Tìm\x20thấy\x20home',']Done\x20lamTask','][checkQuayLaiXpath]\x20Lỗi\x20trong\x20quá\x20trình\x20kiểm\x20tra:\x20','getCode','][lamTask]Click\x20claim2tr\x20OK','countXpath','][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè','getIt','][lamTask]Tìm\x20thấy\x20startMission','1206765ApOhRS','][lamTask]:\x20',']Done\x20Town','][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20iframe','][checkQuayLaiXpath]\x20Vào\x20game\x20thành\x20công','nutX','][lamTask]Click\x20checkBtn\x20OK','listBuilder','][town]Loop:\x20','dialogClose','buy','][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần:\x20','getTextByXPath','//button[normalize-space(text())=\x27Finish\x20mission\x27\x20and\x20not(@disabled)]','Iframe','match',']Không\x20tìm\x20thấy\x20coin','closeTab','][lamTask]Không\x20click\x20dc\x20watch',']Tìm\x20thấy\x20coinTag','40aOjTSB','7016696yRHLho','getCurrentPage','task','][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20currentPage','updateData',']Tìm\x20thấy\x20coin:\x20','countOpenTabs',']Vào\x20game\x20nè','][lamTask]Không\x20click\x20được\x20vào\x20task','upgrade','][lamTask]Tìm\x20thấy\x20taskTitle:\x20','autoLamTask','botSet','//img[contains(@src,\x27/assets/town\x27)]','][click]Không\x20click\x20được\x20vào\x20','//button[text()=\x27Start\x20mission\x27]','81LpVBIa','//h3[contains(@class,\x27_h3_\x27)]','watch','//button[text()=\x27Submit\x27]','message','NextRunStamp','//input[contains(@placeholder,\x27Provide\x20an\x20answer\x27)]','//button[text()=\x27Buy\x27]','][checkClosePopup]Tìm\x20thấy\x20popupBackBtn','home','][lamTask]Click\x20watch\x20OK','][checkClosePopup]\x20checkClosePopup\x20nè','][lamTask]check\x20task\x20:\x20','//img[contains(@src,\x27/assets/task\x27)\x20and\x20contains(@alt,\x27navigation\x27)]','][lamTask]Không\x20tìm\x20thấy\x20code','trim','soLuotlamTask','][lamTask]Click\x20task\x20OK','][checkQuayLaiXpath]\x20Chỉ\x20có\x20','(//div[contains(@class,\x27_balance_\x27)])[3]','//img[contains(@src,\x27/assets/builder_\x27)]','][lamTask]Tìm\x20thấy\x20code:\x20',']Không\x20tìm\x20thấy\x20iframe','132dImXmU','11PiOfws','][Lỗi]:\x20','3aLNJiZ','1506125uhndQY',']Không\x20tìm\x20thấy\x20main\x20frame',']Đã\x20tìm\x20thấy\x20iframe','now','\x20OK','][town]Không\x20tìm\x20thấy\x20builder','][lamTask]Type\x20code\x20','][lamTask]Tìm\x20thấy\x20checkBtn:\x20','CloseGame','][town]Tìm\x20thấy\x20getIt','(//div[contains(@class,\x27_balance_\x27)])[4]',']Vào\x20game\x20OK','][town]Tìm\x20thấy\x20mua\x20','claim','NextRun','//div[contains(@class,\x27_listContainer_\x27)]//div[contains(@class,\x27_container_\x27)]','947410MuYICs','][lamTask]Click\x20startMission\x20OK','][checkClosePopup]\x20error:\x20','][click]Click\x20','toLocaleDateString','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20backXpath','//button[text()=\x27Upgrade\x27]','][lamTask]Không\x20tìm\x20thấy\x20task','][lamTask]Click\x20inputCode\x20OK','][lamTask]Không\x20click\x20dc\x20checkBtn','][town]Không\x20click\x20được\x20vào\x20nutX','builder',']Ra\x20game\x20nè','][town]Tìm\x20thấy\x20worker','replace','][lamTask]Tìm\x20thấy\x20watch','\x20tab\x20đang\x20mở','][lamTask]Không\x20click\x20dc\x20finishMission','saveCode','][thoigianconlai]:\x20','][lamTask]Click\x20claim\x20OK','switchFrame','town','name','value','typeText','][checkQuayLaiXpath]\x20Lỗi\x20khi\x20đóng\x20tab\x20mới','01h\x2000m','][town]Không\x20click\x20được\x20vào\x20builder','15566748ntzvkH','scroll','][lamTask]Tìm\x20thấy\x20claim','walletClose','cid','79192582QomaNN','//h6[contains(text(),\x27relaxing\x27)]','builderRelax','353455DeAdKG','coin','][lamTask]Click\x20submit\x20OK','popupBackBtn','inputCode','][lamTask]Không\x20tìm\x20thấy\x20finishMission','][town]Tìm\x20thấy\x20relax:\x20','13JnxswS',']Lôi\x20Town','Không\x20tìm\x20thấy\x20iframe','(//div[contains(@class,\x27_balance_\x27)])[1]','][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần\x20quay\x20lại:\x20','click','Không\x20tìm\x20thấy\x20main\x20frame'];a0_0x26a3=function(){return _0x4def00;};return a0_0x26a3();}export default async function (context,signal){const _0x2652d3=a0_0x1e22,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot[_0x2652d3(0x14d)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime,soLuotlamTask=0x5;bot[_0x2652d3(0x1ad)]['soLuotlamTask'][_0x2652d3(0x14e)]&&(parseInt(bot[_0x2652d3(0x1ad)][_0x2652d3(0x1c1)]['value'])>0x0&&(soLuotlamTask=parseInt(bot[_0x2652d3(0x1ad)][_0x2652d3(0x1c1)][_0x2652d3(0x14e)])));const xpath={'nutX':'//button[contains(@class,\x27_crosBtn_\x27)]','coin':_0x2652d3(0x165),'coinBlock':'(//div[contains(@class,\x27_balance_\x27)])[2]','coinDiamond':_0x2652d3(0x1c4),'coinPlay':_0x2652d3(0x130),'getIt':_0x2652d3(0x180),'home':'//img[contains(@src,\x27/assets/coin_\x27)\x20and\x20contains(@alt,\x27navigation\x27)]','task':_0x2652d3(0x1be)};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x2652d3(0x1c7),null,![]);throw new Error(_0x2652d3(0x164));}log(profileNameId,'['+botName+_0x2652d3(0x131)),await delay(0x3e8);const closePopup=await checkClosePopup();await delay(0x3e8);if(bot['botSet']['town']['value']==='y'){const kqTown=await checkTown();!kqTown&&log(profileNameId,'['+botName+_0x2652d3(0x163),null,![]),log(profileNameId,'['+botName+_0x2652d3(0x18e)),await delay(0x7d0);}if(bot[_0x2652d3(0x1ad)][_0x2652d3(0x1ac)][_0x2652d3(0x14e)]==='y'){const kqlamTask=await lamTask();!kqlamTask&&log(profileNameId,'['+botName+_0x2652d3(0x16c),null,![]),log(profileNameId,'['+botName+_0x2652d3(0x184));}const coinTag=await genlogin[_0x2652d3(0x169)](profileNameId,subframe,xpath[_0x2652d3(0x15c)],0x3e8);!coinTag&&log(profileNameId,'['+botName+_0x2652d3(0x17a));log(profileNameId,'['+botName+_0x2652d3(0x19f));const coin=await genlogin[_0x2652d3(0x198)](profileNameId,subframe,xpath[_0x2652d3(0x15c)],0x7d0);!coin&&log(profileNameId,'['+botName+_0x2652d3(0x19c),null,![]);await http[_0x2652d3(0x1a5)](profileNameId,profileNameId,dataId,null,coin),log(profileNameId,'['+botName+_0x2652d3(0x1a6)+coin);const remainT=await thoigianconlai(_0x2652d3(0x151));return!remainT&&log(profileNameId,'['+botName+_0x2652d3(0x181),null,![]),log(profileNameId,'['+botName+_0x2652d3(0x16a)),log(profileNameId,'['+botName+']nextRunAt:\x20'+remainT[_0x2652d3(0x134)]),await clearVar(),{'status':!![],'coin':coin,'nextRun':remainT[_0x2652d3(0x134)],'nextRunStamp':remainT[_0x2652d3(0x1b6)]};}catch(error){return log(profileNameId,'['+botName+_0x2652d3(0x1ca)+error,null,![]),await clearVar(),{'status':![],'coin':0x0,'nextRun':0x0,'nextRunStamp':0x0};}async function vaoGame(){const _0x249f3d=_0x2652d3;try{log(profileNameId,'['+botName+_0x249f3d(0x1a8));const subframe0=await genlogin[_0x249f3d(0x14b)](profileNameId,currentPage,getAks[_0x249f3d(0x19a)],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x249f3d(0x1c7),null,![]);throw new Error(_0x249f3d(0x164));}return log(profileNameId,'['+botName+_0x249f3d(0x1ce)),subframe0;}catch(error){return log(profileNameId,'['+botName+_0x249f3d(0x1ca)+error,null,![]),null;}}async function raGame(){const _0xaf010d=_0x2652d3;try{log(profileNameId,'['+botName+_0xaf010d(0x142)),currentPage=genlogin[_0xaf010d(0x14b)](profileNameId,currentPage,'mainframe',0x7d0);if(!currentPage){log(profileNameId,'['+botName+_0xaf010d(0x1cd),null,![]);throw new Error(_0xaf010d(0x168));}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0xaf010d(0x1ca)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x3d886b=_0x2652d3;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'tagClick':tagClick},0x7d0);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x3d886b(0x1af)+xpath,null,![]),!![];return log(profileNameId,'['+botName+_0x3d886b(0x139)+xpath+_0x3d886b(0x12a)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x3d886b(0x175)+error,null,![]),null;}}async function clickM(xpath){const _0x34fd6f=_0x2652d3;try{await delay(0x3e8);const clicked=await genlogin[_0x34fd6f(0x167)](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+'][click]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x34fd6f(0x139)+xpath+'\x20OK'),clicked;}catch(error){return log(profileNameId,'['+botName+_0x34fd6f(0x175)+error,null,![]),null;}}async function checkClosePopup(){const _0x30375c=_0x2652d3;try{log(profileNameId,'['+botName+_0x30375c(0x1bc));let demLoop=0x0,maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqGetIt=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath['getIt'],0x7d0);if(kqGetIt){log(profileNameId,'['+botName+'][checkClosePopup]Tìm\x20thấy\x20getIt'),await click(xpath['getIt']),await delay(0x3e8);const kqNeedBack=await genlogin[_0x30375c(0x169)](profileNameId,currentPage,getAks[_0x30375c(0x15e)],0x7d0);kqNeedBack&&(log(profileNameId,'['+botName+_0x30375c(0x1b9)),await clickM(getAks[_0x30375c(0x15e)]),await delay(0x3e8));continue;}else{const kqNutX=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x30375c(0x191)],0x7d0);if(kqNutX){log(profileNameId,'['+botName+'][checkClosePopup]Tìm\x20thấy\x20nutX'),await click(xpath[_0x30375c(0x191)],!![]),await delay(0x3e8);const kqNeedBack1=await genlogin[_0x30375c(0x169)](profileNameId,currentPage,getAks[_0x30375c(0x15e)],0x7d0);kqNeedBack1&&(log(profileNameId,'['+botName+_0x30375c(0x1b9)),await clickM(getAks[_0x30375c(0x15e)]),await delay(0x3e8));continue;}}await delay(0x3e8);break;}}catch(e){return log(profileNameId,'['+botName+_0x30375c(0x138)+e['message'],null,![]),null;}}async function checkTown(){const _0x54648c=_0x2652d3;try{const xpathTown={'getIt':'//div[contains(@class,\x27_actionContent_\x27)]//button[text()=\x27Get\x20it!\x27]','town':_0x54648c(0x1ae),'builder':_0x54648c(0x1c5),'builderRelax':_0x54648c(0x159),'listBuilder':'//div[contains(@class,\x27_building_\x27)]//img[contains(@src,\x27/assets/b_\x27)\x20and\x20not(ancestor::div[contains(@class,\x27_building_\x27)]//div[contains(@class,\x27_content_\x27)]//div[contains(@data-text,\x2720\x27)])]','buy':_0x54648c(0x1b8),'upgrade':_0x54648c(0x13c)};let kqRelax=0x0;const kqVaoTown=await genlogin[_0x54648c(0x169)](profileNameId,subframe,xpathTown[_0x54648c(0x14c)],0x7d0);kqVaoTown&&(log(profileNameId,'['+botName+'][town]Tìm\x20thấy\x20town'),await click(xpathTown['town']),await delay(0x3e8));const kqGetIt=await genlogin[_0x54648c(0x169)](profileNameId,subframe,xpathTown['getIt'],0x7d0);kqGetIt&&(log(profileNameId,'['+botName+_0x54648c(0x12f)),await click(xpathTown[_0x54648c(0x18a)]),await delay(0x3e8));const kqBuilder=await genlogin[_0x54648c(0x169)](profileNameId,subframe,xpathTown[_0x54648c(0x141)],0x7d0);if(kqBuilder){log(profileNameId,'['+botName+_0x54648c(0x143)),await click(xpathTown[_0x54648c(0x141)]),await delay(0x3e8),kqRelax=await genlogin[_0x54648c(0x188)](profileNameId,subframe,xpathTown[_0x54648c(0x15a)],0x7d0),log(profileNameId,'['+botName+_0x54648c(0x161)+json(kqRelax));const kqNutX=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x54648c(0x191)],0x7d0);if(kqNutX){log(profileNameId,'['+botName+'][town]Tìm\x20thấy\x20nutX');const kqnutx0=await click(xpath[_0x54648c(0x191)],!![]);if(!kqnutx0)return log(profileNameId,'['+botName+_0x54648c(0x140),null,![]),null;await delay(0x3e8);}}if(kqRelax>0x0){let demLoop=0x0,maxDemLoop=0x14,demLoopnangCap=kqRelax;while(demLoop<maxDemLoop){demLoop++,await delay(0x3e8),log(profileNameId,'['+botName+_0x54648c(0x194)+demLoop+'/'+maxDemLoop);if(demLoopnangCap<=0x0)break;const tagbuilder='('+xpathTown[_0x54648c(0x193)]+')['+demLoop+']',kqBuilder=await genlogin[_0x54648c(0x169)](profileNameId,subframe,tagbuilder,0x7d0);if(!kqBuilder){log(profileNameId,'['+botName+_0x54648c(0x12b),null,![]);continue;}await genlogin[_0x54648c(0x154)](profileNameId,subframe,{'xpath':tagbuilder},0xbb8),await delay(0x3e8);const kqclick=await click(tagbuilder);if(!kqclick){log(profileNameId,'['+botName+_0x54648c(0x152),null,![]);continue;}else{log(profileNameId,'['+botName+'][town]Click\x20builder\x20OK');const kqNangCap=await genlogin[_0x54648c(0x169)](profileNameId,subframe,xpathTown[_0x54648c(0x1aa)],0x3e8);if(kqNangCap){log(profileNameId,'['+botName+'][town]Tìm\x20thấy\x20nâng\x20cấp\x20'+demLoopnangCap+'/'+kqRelax),await click(xpathTown[_0x54648c(0x1aa)]),await delay(0x3e8),await click(xpath[_0x54648c(0x191)],!![]),await delay(0x3e8),demLoopnangCap--;continue;}else{const kqBuy=await genlogin[_0x54648c(0x169)](profileNameId,subframe,xpathTown[_0x54648c(0x196)],0x3e8);if(kqBuy){log(profileNameId,'['+botName+_0x54648c(0x132)+demLoopnangCap+'/'+kqRelax),await click(xpathTown[_0x54648c(0x196)]),await delay(0x3e8),await click(xpath[_0x54648c(0x191)],!![]),await delay(0x3e8),demLoopnangCap--;continue;}}}const kqNutX=await genlogin[_0x54648c(0x169)](profileNameId,subframe,xpath['nutX'],0x3e8);kqNutX&&(log(profileNameId,'['+botName+_0x54648c(0x16f)),await click(xpath[_0x54648c(0x191)],!![]),await delay(0x3e8));}}const kqHome=await genlogin[_0x54648c(0x169)](profileNameId,subframe,xpath[_0x54648c(0x1ba)],0x3e8);return kqHome&&(log(profileNameId,'['+botName+_0x54648c(0x183)),await click(xpath[_0x54648c(0x1ba)]),await delay(0x3e8)),!![];}catch(e){log(profileNameId,'['+botName+_0x54648c(0x182)+e[_0x54648c(0x1b5)],null,![]);}}async function lamTask(){const _0x48a530=_0x2652d3;try{const taskXpath={'claim':'//button[normalize-space(text())=\x27Claim\x27\x20and\x20not(@disabled)]','task':_0x48a530(0x17e),'startMission':_0x48a530(0x1b0),'watch':'//button[text()=\x27Watch\x27]','inputCode':_0x48a530(0x1b7),'submit':_0x48a530(0x1b4),'taskTitle':_0x48a530(0x1b2),'finishMission':_0x48a530(0x199),'claim':'//button[text()=\x27Claim\x27]','xpathBackTask':_0x48a530(0x135),'checkBtn':_0x48a530(0x17c)};let kqCode;log(profileNameId,'['+botName+_0x48a530(0x173));const kqVaoTask=await genlogin[_0x48a530(0x169)](profileNameId,subframe,xpath['task'],0x7d0);if(!kqVaoTask)return log(profileNameId,'['+botName+_0x48a530(0x13d),null,![]),![];const kqClickTask=await click(xpath[_0x48a530(0x1a3)]);if(!kqClickTask)return log(profileNameId,'['+botName+'][lamTask]Không\x20click\x20được\x20vào\x20task',null,![]),![];log(profileNameId,'['+botName+_0x48a530(0x1c2));let demLoop=0x0,maxDemLoop=soLuotlamTask;while(demLoop<maxDemLoop){demLoop++,await delay(0x3e8),log(profileNameId,'['+botName+_0x48a530(0x1bd)+demLoop+'/'+maxDemLoop,null,'i','-');const tagTask='('+taskXpath['task']+')['+demLoop+']',kqCheckTask=await genlogin['elementExistsByXPath'](profileNameId,subframe,tagTask,0x3e8);if(!kqCheckTask){log(profileNameId,'['+botName+_0x48a530(0x13d),null,![]);continue;}const kqClickTask=await click(tagTask);if(!kqClickTask){log(profileNameId,'['+botName+_0x48a530(0x1a9),null,![]);continue;}log(profileNameId,'['+botName+'][lamTask]Click\x20task\x20OK'),await delay(0x3e8);const kqStartMission=await genlogin[_0x48a530(0x169)](profileNameId,subframe,taskXpath['startMission'],0x7d0);if(kqStartMission){log(profileNameId,'['+botName+_0x48a530(0x18b));const kqClickStartMission=await click(taskXpath['startMission']);!kqClickStartMission?log(profileNameId,'['+botName+_0x48a530(0x17b),null,![]):log(profileNameId,'['+botName+_0x48a530(0x137));await delay(0x7d0);const kqWatch=await genlogin[_0x48a530(0x169)](profileNameId,subframe,taskXpath[_0x48a530(0x1b3)],0x7d0);if(kqWatch){log(profileNameId,'['+botName+_0x48a530(0x145));const kqClickWatch=await click(taskXpath[_0x48a530(0x1b3)]);!kqClickWatch?log(profileNameId,'['+botName+_0x48a530(0x19e),null,![]):log(profileNameId,'['+botName+_0x48a530(0x1bb));}await checkQuayLaiXpath(taskXpath[_0x48a530(0x16b)]);continue;}const kqtaskTitle=await genlogin[_0x48a530(0x198)](profileNameId,subframe,taskXpath['taskTitle'],0x7d0);if(kqtaskTitle){log(profileNameId,'['+botName+_0x48a530(0x1ab)+kqtaskTitle);const kqCkCheckBtn=await genlogin[_0x48a530(0x198)](profileNameId,subframe,taskXpath[_0x48a530(0x174)],0x3e8);if(kqCkCheckBtn){log(profileNameId,'['+botName+_0x48a530(0x12d)+kqCkCheckBtn);const kqClickCkCheckBtn=await click(taskXpath[_0x48a530(0x174)]);!kqClickCkCheckBtn?log(profileNameId,'['+botName+_0x48a530(0x13f),null,![]):log(profileNameId,'['+botName+_0x48a530(0x192));}else{const kqInput=await genlogin[_0x48a530(0x169)](profileNameId,subframe,taskXpath[_0x48a530(0x15f)],0xbb8);if(kqInput){kqCode=await http[_0x48a530(0x186)](profileNameId,profileNameId,botName,kqtaskTitle,0x0);if(kqCode['value'])log(profileNameId,'['+botName+_0x48a530(0x1c6)+kqCode['value']);else{log(profileNameId,'['+botName+_0x48a530(0x1bf),null,![]);const checkBack=await checkQuayLaiXpath(taskXpath[_0x48a530(0x16b)]);if(!checkBack){log(profileNameId,'['+botName+'][lamTask]Không\x20quay\x20lại\x20được\x20tasks',![]);break;}continue;}log(profileNameId,'['+botName+_0x48a530(0x177));const kqClickInput=await click(taskXpath[_0x48a530(0x15f)]);!kqClickInput?log(profileNameId,'['+botName+_0x48a530(0x178),null,![]):log(profileNameId,'['+botName+_0x48a530(0x13e));await delay(0x3e8);const kqType=await genlogin[_0x48a530(0x14f)](profileNameId,currentPage,taskXpath[_0x48a530(0x15f)],kqCode[_0x48a530(0x14e)],0x1,0xbb8);if(kqType){log(profileNameId,'['+botName+_0x48a530(0x12c)+kqCode['value']+_0x48a530(0x12a)),await delay(0x3e8);const kqClick1=await click(taskXpath['submit']);kqClick1&&(log(profileNameId,'['+botName+_0x48a530(0x15d)),await delay(0x3e8));}}}const kqCheckDone=await genlogin['elementExistsByXPath'](profileNameId,subframe,taskXpath[_0x48a530(0x17d)],0x7d0);if(kqCheckDone){log(profileNameId,'['+botName+'][lamTask]Tìm\x20thấy\x20finishMission');const kqClickDone=await click(taskXpath[_0x48a530(0x17d)]);kqClickDone?log(profileNameId,'['+botName+'][lamTask]Click\x20finishMission\x20OK'):log(profileNameId,'['+botName+_0x48a530(0x147),null,![]);const kqClaim=await genlogin[_0x48a530(0x169)](profileNameId,subframe,taskXpath[_0x48a530(0x133)],0x7d0);if(kqClaim){log(profileNameId,'['+botName+_0x48a530(0x155));const kqClickClaim=await click(taskXpath[_0x48a530(0x133)]);kqClickClaim&&(log(profileNameId,'['+botName+_0x48a530(0x14a)),await checkQuayLaiXpath(taskXpath[_0x48a530(0x16b)]));}}else{log(profileNameId,'['+botName+_0x48a530(0x160),null,![]);const kqSaveCode=await http[_0x48a530(0x148)](profileNameId,profileNameId,kqCode[_0x48a530(0x157)],botName,kqtaskTitle,0x0),checkBack2=await checkQuayLaiXpath(taskXpath[_0x48a530(0x16b)]);}}const kqClaim2tr=await genlogin[_0x48a530(0x169)](profileNameId,subframe,taskXpath[_0x48a530(0x133)],0x3e8);if(kqClaim2tr){log(profileNameId,'['+botName+'][lamTask]Tìm\x20thấy\x20claim2tr');const kqClickClaim2tr=await click(taskXpath[_0x48a530(0x133)]);kqClickClaim2tr&&log(profileNameId,'['+botName+_0x48a530(0x187));}}await checkQuayLaiXpath(taskXpath['xpathBackTask']);const kqHome=await genlogin[_0x48a530(0x169)](profileNameId,subframe,xpath['home'],0x7d0);if(kqHome){log(profileNameId,'['+botName+_0x48a530(0x172));const clickedHome=await click(xpath[_0x48a530(0x1ba)]);clickedHome&&(log(profileNameId,'['+botName+_0x48a530(0x176)),await delay(0x3e8));}return!![];}catch(error){return log(profileNameId,'['+botName+_0x48a530(0x18d)+error,null,![]),null;}}async function checkQuayLaiXpath(backXpath){const _0x1ea2c5=_0x2652d3;try{const maxattemptCQ=0xa;let attemptCQ=0x0;const loopBack={'walletClose':'(//div[contains(@data-tc-modal,\x27true\x27)]//button[contains(@data-tc-icon-button,\x27true\x27)])[1]','dialogClose':_0x1ea2c5(0x16d)};while(attemptCQ<maxattemptCQ){attemptCQ++,await delay(0x3e8),log(profileNameId,'['+botName+_0x1ea2c5(0x197)+attemptCQ);const currentPage=await genlogin[_0x1ea2c5(0x1a2)](profileNameId,browser);if(!currentPage){log(profileNameId,'['+botName+_0x1ea2c5(0x1a4),null,![]);continue;}log(profileNameId,'['+botName+_0x1ea2c5(0x171));const kqTelePage=await genlogin[_0x1ea2c5(0x169)](profileNameId,currentPage,getAks[_0x1ea2c5(0x12e)],0x7d0);if(!kqTelePage){log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Phát\x20hiện\x20tab\x20mới');const countTab=await genlogin[_0x1ea2c5(0x1a7)](profileNameId,browser);if(countTab<=0x1){log(profileNameId,'['+botName+_0x1ea2c5(0x1c3)+countTab+_0x1ea2c5(0x146));break;}const closeTab=await genlogin[_0x1ea2c5(0x19d)](profileNameId,browser,countTab-0x1,0xbb8);if(!closeTab){log(profileNameId,'['+botName+_0x1ea2c5(0x150),null,![]);continue;}log(profileNameId,'['+botName+_0x1ea2c5(0x179)),await delay(0xbb8);continue;}log(profileNameId,'['+botName+_0x1ea2c5(0x17f)),subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x1ea2c5(0x18f),null,![]);continue;}log(profileNameId,'['+botName+_0x1ea2c5(0x190));const kqbackXpath=await genlogin[_0x1ea2c5(0x169)](profileNameId,subframe,backXpath,0x7d0);if(kqbackXpath){log(profileNameId,'['+botName+_0x1ea2c5(0x13b));break;}if(!![]){let attemptBack=0x0,maxAttempBack=0xa,kqBack=![];while(attemptBack<maxAttempBack){attemptBack++,log(profileNameId,'['+botName+_0x1ea2c5(0x166)+attemptBack);const kqbackXpath=await genlogin['elementExistsByXPath'](profileNameId,subframe,backXpath,0x7d0);if(kqbackXpath){log(profileNameId,'['+botName+_0x1ea2c5(0x13b));break;}const kqb0=await genlogin['elementExistsByXPath'](profileNameId,currentPage,getAks[_0x1ea2c5(0x15e)],0x3e8);if(kqb0){await clickM(getAks[_0x1ea2c5(0x15e)]);continue;}await delay(0x3e8);}return!![];}}let attemptW=0x0,maxAttemptsW=0x5;while(attemptW<maxAttemptsW){attemptW++;const checkWalletClose=await genlogin[_0x1ea2c5(0x169)](profileNameId,subframe,loopBack[_0x1ea2c5(0x156)],0x1f4);checkWalletClose&&await click(loopBack[_0x1ea2c5(0x156)]);const checkdialogClose=await genlogin[_0x1ea2c5(0x169)](profileNameId,subframe,loopBack[_0x1ea2c5(0x195)],0x1f4);checkdialogClose&&await click(loopBack['dialogClose']);if(!checkWalletClose&&!checkdialogClose)break;}return log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20quay\x20lại\x20tasks\x20thành\x20công'),!![];}catch(error){return log(profileNameId,'['+botName+_0x1ea2c5(0x185)+error[_0x1ea2c5(0x1b5)],null,![]),null;}}async function thoigianconlai(thoigianconlai){const _0x42838c=_0x2652d3;try{log(profileNameId,'['+botName+_0x42838c(0x189));let hour0,minute0,timeleft0=thoigianconlai,timeleft=timeleft0[_0x42838c(0x144)]('\x20','')[_0x42838c(0x1c0)](),matches=timeleft[_0x42838c(0x19b)](/(\d+)h(\d+)m/);matches?(hour0=matches[0x1],minute0=matches[0x2]):(hour0=0x1,minute0=0x0);let hours=parseInt(hour0),minutes=parseInt(minute0),seconds=parseInt(0x0),totalSeconds=parseInt(hours*0xe10+minutes*0x3c+seconds);const unixTime=Math['floor'](Date[_0x42838c(0x129)]()/0x3e8),newUnixTime=unixTime+totalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate[_0x42838c(0x13a)](),formattedTime=newDate['toLocaleTimeString']('en-GB',{'hour12':![]});let NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+_0x42838c(0x149)+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0xdaedb3=_0x2652d3;if(Atomics[_0xdaedb3(0x170)](tasksData,taskIndex)===0x1)return!![];return![];}async function clearVar(){currentPage=null,subframe=null,screenData=null,tasksData=null;}};