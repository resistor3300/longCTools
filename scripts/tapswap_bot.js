<<<<<<< HEAD
(function(_0x55d279,_0x5909a9){const _0x399ed4=a0_0x1c56,_0x525899=_0x55d279();while(!![]){try{const _0x5b1796=-parseInt(_0x399ed4(0x167))/0x1*(-parseInt(_0x399ed4(0x15b))/0x2)+parseInt(_0x399ed4(0x10f))/0x3+parseInt(_0x399ed4(0x133))/0x4+-parseInt(_0x399ed4(0xe9))/0x5*(-parseInt(_0x399ed4(0x117))/0x6)+-parseInt(_0x399ed4(0x150))/0x7+parseInt(_0x399ed4(0x13d))/0x8*(parseInt(_0x399ed4(0x13e))/0x9)+-parseInt(_0x399ed4(0x135))/0xa;if(_0x5b1796===_0x5909a9)break;else _0x525899['push'](_0x525899['shift']());}catch(_0x43a3f2){_0x525899['push'](_0x525899['shift']());}}}(a0_0x3c88,0xb8087));import{log,json}from'../modules/logger.js';function a0_0x1c56(_0xedf055,_0x2d7f23){const _0x3c88e7=a0_0x3c88();return a0_0x1c56=function(_0x1c5668,_0x3340f8){_0x1c5668=_0x1c5668-0xd2;let _0x2480d5=_0x3c88e7[_0x1c5668];return _0x2480d5;},a0_0x1c56(_0xedf055,_0x2d7f23);}function a0_0x3c88(){const _0x405d1b=['//button[normalize-space(text())=\x27Claim\x27\x20and\x20not(@disabled)]','startMission','][lamTask]Không\x20quay\x20lại\x20được\x20tasks','][town]Tìm\x20thấy\x20mua\x20','//button[text()=\x27Claim\x27]','now','builder','popupBackBtn','][lamTask]Tìm\x20thất\x20startMission','nutX','(//div[contains(@class,\x27_balance_\x27)])[3]',']Không\x20tìm\x20thấy\x20coin','Không\x20tìm\x20thấy\x20main\x20frame',']Không\x20tìm\x20thấy\x20iframe','][lamTask]Click\x20startMission\x20OK','][lamTask]Tìm\x20thấy\x20code:\x20','][checkQuayLaiXpath]\x20Chỉ\x20có\x20',']nextRunAt:\x20','builderRelax','//button[contains(@class,\x27_crosBtn_\x27)]','][lamTask]Tìm\x20thất\x20claim2tr','Iframe','][thoigianconlai]:\x20','//input[contains(@placeholder,\x27Provide\x20an\x20answer\x27)]','01h\x2000m','][town]Tìm\x20thấy\x20nutX','scroll','][click]Không\x20click\x20được\x20vào\x20','][lamTask]Click\x20inputCode\x20OK',']không\x20Tìm\x20thấy\x20coinTag','floor','672105EedGaG','value','\x20tab\x20đang\x20mở','closeTab','(//div[contains(@class,\x27_balance_\x27)])[4]','watch','][lamTask]Làm\x20Task\x20nè','elementExistsByXPath','6QQvOof','][checkClosePopup]Tìm\x20thấy\x20popupBackBtn','//button[text()=\x27Upgrade\x27]','][town]Tìm\x20thấy\x20town','][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần:\x20','][checkTown]\x20error:\x20','CloseGame','soLuotlamTask',']Không\x20tìm\x20thấy\x20main\x20frame',']Lôi\x20lamTask','][lamTask]Click\x20home\x20OK','][town]Click\x20builder\x20OK','coin','][checkQuayLaiXpath]\x20Lỗi\x20khi\x20đóng\x20tab\x20mới','inputCode','][lamTask]Click\x20submit\x20OK','(//dialog//button[contains(@class,\x27close-btn\x27)])[1]','toLocaleTimeString','//div[contains(@class,\x27_actionContent_\x27)]//button[text()=\x27Get\x20it!\x27]','//h6[contains(text(),\x27relaxing\x27)]',']Vào\x20game\x20OK','dialogClose','//button[text()=\x27Start\x20mission\x27]','(//div[contains(@class,\x27_balance_\x27)])[1]',']Lôi\x20Town','][lamTask]Tìm\x20thấy\x20checkBtn:\x20','NextRun','home','3677384uOecaV','][checkQuayLaiXpath]\x20Phát\x20hiện\x20tab\x20mới','28080210xbVdMl','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20currentPage','Không\x20tìm\x20thấy\x20iframe','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20backXpath','task','(//div[contains(@class,\x27_balance_\x27)])[2]','//h3[contains(@class,\x27_h3_\x27)]','//button[text()=\x27Submit\x27]','88mPOrIK','1017369SYpznv','][lamTask]Không\x20click\x20dc\x20finishMission','switchFrame','][click]Click\x20','][lamTask]Click\x20checkBtn\x20OK','][lamTask]Không\x20click\x20dc\x20checkBtn','//button[text()=\x27Watch\x27]','getTextByXPath','][lamTask]Click\x20watch\x20OK','][checkClosePopup]\x20checkClosePopup\x20nè','typeText','click','message','claim','checkBtn','][lamTask]Không\x20tìm\x20thấy\x20code','getCurrentPage','][town]Tìm\x20thấy\x20nâng\x20cấp\x20','4281984REeQTd','][town]Không\x20tìm\x20thấy\x20builder','replace','mainframe',']Vào\x20game\x20nè','submit','][checkClosePopup]Tìm\x20thấy\x20getIt','][checkQuayLaiXpath]\x20Lỗi\x20trong\x20quá\x20trình\x20kiểm\x20tra:\x20','toLocaleDateString','//button[text()=\x27Buy\x27]','(//div[contains(@data-tc-modal,\x27true\x27)]//button[contains(@data-tc-icon-button,\x27true\x27)])[1]','2561596pIsGPq','][lamTask]Click\x20claim2tr\x20OK','][lamTask]Không\x20click\x20dc\x20inputCode','][lamTask]Không\x20tìm\x20thất\x20finishMission','match','][lamTask]Type\x20code\x20','][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20iframe','listBuilder','][Lỗi]:\x20',']không\x20xử\x20lý\x20được\x20thoigianconlai','][click][Lỗi]:\x20','][lamTask]Tìm\x20thất\x20taskTitle:\x20','1QhPCUp','botSet','][lamTask]Tìm\x20thất\x20finishMission','xpathBackTask','][town]Tìm\x20thấy\x20getIt','walletClose','][town]Tìm\x20thấy\x20home','taskTitle','][lamTask]Tìm\x20thấy\x20claim','finishMission','][town]Loop:\x20','][lamTask]:\x20','][lamTask]Không\x20click\x20dc\x20watch','][lamTask]Không\x20tìm\x20thất\x20task','countXpath','upgrade','][town]Tìm\x20thấy\x20worker','][town]Tìm\x20thấy\x20relax:\x20','getCode','][lamTask]Click\x20claim\x20OK','//img[contains(@src,\x27/assets/town\x27)]','//button[normalize-space(text())=\x27Finish\x20mission\x27\x20and\x20not(@disabled)]','town','load','][lamTask]Không\x20click\x20được\x20vào\x20task',']Done\x20lamTask','][lamTask]Click\x20task\x20OK','2529510OrECwn','trim','\x20OK','//div[contains(@class,\x27_listContainer_\x27)]//div[contains(@class,\x27_container_\x27)]','][checkClosePopup]\x20error:\x20','getIt','][lamTask]Tìm\x20thấy\x20home'];a0_0x3c88=function(){return _0x405d1b;};return a0_0x3c88();}export default async function (context,signal){const _0x1b2df5=a0_0x1c56,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot['name'];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime,soLuotlamTask=0x5;bot['botSet'][_0x1b2df5(0x11e)]['value']&&(parseInt(bot['botSet']['soLuotlamTask'][_0x1b2df5(0x110)])>0x0&&(soLuotlamTask=parseInt(bot[_0x1b2df5(0x168)][_0x1b2df5(0x11e)][_0x1b2df5(0x110)])));const xpath={'nutX':_0x1b2df5(0x103),'coin':_0x1b2df5(0x12e),'coinBlock':_0x1b2df5(0x13a),'coinDiamond':_0x1b2df5(0xfa),'coinPlay':_0x1b2df5(0x113),'getIt':_0x1b2df5(0x129),'home':'//img[contains(@src,\x27/assets/coin_\x27)\x20and\x20contains(@alt,\x27navigation\x27)]','task':'//img[contains(@src,\x27/assets/task\x27)\x20and\x20contains(@alt,\x27navigation\x27)]'};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20iframe',null,![]);throw new Error(_0x1b2df5(0x137));}log(profileNameId,'['+botName+_0x1b2df5(0x12b)),await delay(0x3e8);const closePopup=await checkClosePopup();await delay(0x3e8);if(bot[_0x1b2df5(0x168)][_0x1b2df5(0xe4)]['value']==='y'){const kqTown=await checkTown();!kqTown&&log(profileNameId,'['+botName+_0x1b2df5(0x12f),null,![]),log(profileNameId,'['+botName+']Done\x20Town'),await delay(0x7d0);}if(bot[_0x1b2df5(0x168)]['autoLamTask']['value']==='y'){const kqlamTask=await lamTask();!kqlamTask&&log(profileNameId,'['+botName+_0x1b2df5(0x120),null,![]),log(profileNameId,'['+botName+_0x1b2df5(0xe7));}const coinTag=await genlogin[_0x1b2df5(0x116)](profileNameId,subframe,xpath[_0x1b2df5(0x123)],0x3e8);!coinTag&&log(profileNameId,'['+botName+_0x1b2df5(0x10d));log(profileNameId,'['+botName+']Tìm\x20thấy\x20coinTag');const coin=await genlogin[_0x1b2df5(0x145)](profileNameId,subframe,xpath[_0x1b2df5(0x123)],0x7d0);!coin&&log(profileNameId,'['+botName+_0x1b2df5(0xfb),null,![]);await http['updateData'](profileNameId,profileNameId,dataId,null,coin),log(profileNameId,'['+botName+']Tìm\x20thấy\x20coin:\x20'+coin);const remainT=await thoigianconlai(_0x1b2df5(0x108));return!remainT&&log(profileNameId,'['+botName+_0x1b2df5(0x164),null,![]),log(profileNameId,'['+botName+']Xử\x20lý\x20thoigianconlai\x20OK'),log(profileNameId,'['+botName+_0x1b2df5(0x101)+remainT[_0x1b2df5(0x131)]),{'status':!![],'coin':coin,'nextRun':remainT[_0x1b2df5(0x131)],'nextRunStamp':remainT['NextRunStamp']};}catch(error){log(profileNameId,'['+botName+_0x1b2df5(0x163)+error,null,![]);}async function vaoGame(){const _0x25ea10=_0x1b2df5;try{log(profileNameId,'['+botName+_0x25ea10(0x154));const subframe0=await genlogin[_0x25ea10(0x140)](profileNameId,currentPage,getAks[_0x25ea10(0x105)],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x25ea10(0xfd),null,![]);throw new Error('Không\x20tìm\x20thấy\x20iframe');}return log(profileNameId,'['+botName+']Đã\x20tìm\x20thấy\x20iframe'),subframe0;}catch(error){return log(profileNameId,'['+botName+'][Lỗi]:\x20'+error,null,![]),null;}}async function raGame(){const _0x53b53d=_0x1b2df5;try{log(profileNameId,'['+botName+']Ra\x20game\x20nè'),currentPage=genlogin['switchFrame'](profileNameId,currentPage,_0x53b53d(0x153),0x7d0);if(!currentPage){log(profileNameId,'['+botName+_0x53b53d(0x11f),null,![]);throw new Error(_0x53b53d(0xfc));}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0x53b53d(0x163)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x35c5a9=_0x1b2df5;try{await delay(0x3e8);const clicked=await genlogin[_0x35c5a9(0x149)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'tagClick':tagClick},0x7d0);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x35c5a9(0x10b)+xpath,null,![]),!![];return log(profileNameId,'['+botName+_0x35c5a9(0x141)+xpath+_0x35c5a9(0xeb)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x35c5a9(0x165)+error,null,![]),null;}}async function clickM(xpath){const _0x29ee35=_0x1b2df5;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+'][click]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x29ee35(0x141)+xpath+_0x29ee35(0xeb)),clicked;}catch(error){return log(profileNameId,'['+botName+'][click][Lỗi]:\x20'+error,null,![]),null;}}async function checkClosePopup(){const _0x5ea549=_0x1b2df5;try{log(profileNameId,'['+botName+_0x5ea549(0x147));let demLoop=0x0,maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqGetIt=await genlogin[_0x5ea549(0x116)](profileNameId,subframe,xpath['getIt'],0x7d0);if(kqGetIt){log(profileNameId,'['+botName+_0x5ea549(0x156)),await click(xpath['getIt']),await delay(0x3e8);const kqNeedBack=await genlogin[_0x5ea549(0x116)](profileNameId,currentPage,getAks[_0x5ea549(0xf7)],0x7d0);kqNeedBack&&(log(profileNameId,'['+botName+_0x5ea549(0x118)),await clickM(getAks[_0x5ea549(0xf7)]),await delay(0x3e8));continue;}else{const kqNutX=await genlogin[_0x5ea549(0x116)](profileNameId,subframe,xpath[_0x5ea549(0xf9)],0x7d0);if(kqNutX){log(profileNameId,'['+botName+'][checkClosePopup]Tìm\x20thấy\x20nutX'),await click(xpath['nutX'],!![]),await delay(0x3e8);const kqNeedBack1=await genlogin[_0x5ea549(0x116)](profileNameId,currentPage,getAks[_0x5ea549(0xf7)],0x7d0);kqNeedBack1&&(log(profileNameId,'['+botName+_0x5ea549(0x118)),await clickM(getAks['popupBackBtn']),await delay(0x3e8));continue;}}await delay(0x3e8);break;}}catch(e){return log(profileNameId,'['+botName+_0x5ea549(0xed)+e[_0x5ea549(0x14a)],null,![]),null;}}async function checkTown(){const _0x15e04b=_0x1b2df5;try{const xpathTown={'getIt':_0x15e04b(0x129),'town':_0x15e04b(0xe2),'builder':'//img[contains(@src,\x27/assets/builder_\x27)]','builderRelax':_0x15e04b(0x12a),'listBuilder':'//div[contains(@class,\x27_building_\x27)]//img[contains(@src,\x27/assets/b_\x27)\x20and\x20not(ancestor::div[contains(@class,\x27_building_\x27)]//div[contains(@class,\x27_content_\x27)]//div[contains(@data-text,\x2720\x27)])]','buy':_0x15e04b(0x159),'upgrade':_0x15e04b(0x119)};let kqRelax=0x0;const kqVaoTown=await genlogin[_0x15e04b(0x116)](profileNameId,subframe,xpathTown[_0x15e04b(0xe4)],0x7d0);kqVaoTown&&(log(profileNameId,'['+botName+_0x15e04b(0x11a)),await click(xpathTown[_0x15e04b(0xe4)]),await delay(0x3e8));const kqGetIt=await genlogin[_0x15e04b(0x116)](profileNameId,subframe,xpathTown[_0x15e04b(0xee)],0x7d0);kqGetIt&&(log(profileNameId,'['+botName+_0x15e04b(0xd2)),await click(xpathTown[_0x15e04b(0xee)]),await delay(0x3e8));const kqBuilder=await genlogin[_0x15e04b(0x116)](profileNameId,subframe,xpathTown[_0x15e04b(0xf6)],0x7d0);if(kqBuilder){log(profileNameId,'['+botName+_0x15e04b(0xde)),await click(xpathTown[_0x15e04b(0xf6)]),await delay(0x3e8),kqRelax=await genlogin[_0x15e04b(0xdc)](profileNameId,subframe,xpathTown[_0x15e04b(0x102)],0x7d0),log(profileNameId,'['+botName+_0x15e04b(0xdf)+json(kqRelax));const kqNutX=await genlogin[_0x15e04b(0x116)](profileNameId,subframe,xpath['nutX'],0x7d0);if(kqNutX){log(profileNameId,'['+botName+_0x15e04b(0x109));const kqnutx0=await click(xpath[_0x15e04b(0xf9)],!![]);if(!kqnutx0)return log(profileNameId,'['+botName+'][town]Không\x20click\x20được\x20vào\x20nutX',null,![]),null;await delay(0x3e8);}}if(kqRelax>0x0){let demLoop=0x0,maxDemLoop=0x14,demLoopnangCap=kqRelax;while(demLoop<maxDemLoop){demLoop++,await delay(0x3e8),log(profileNameId,'['+botName+_0x15e04b(0xd8)+demLoop+'/'+maxDemLoop);if(demLoopnangCap<=0x0)break;const tagbuilder='('+xpathTown[_0x15e04b(0x162)]+')['+demLoop+']',kqBuilder=await genlogin['elementExistsByXPath'](profileNameId,subframe,tagbuilder,0x7d0);if(!kqBuilder){log(profileNameId,'['+botName+_0x15e04b(0x151),null,![]);continue;}await genlogin[_0x15e04b(0x10a)](profileNameId,subframe,{'xpath':tagbuilder},0xbb8),await delay(0x3e8);const kqclick=await click(tagbuilder);if(!kqclick){log(profileNameId,'['+botName+'][town]Không\x20click\x20được\x20vào\x20builder',null,![]);continue;}else{log(profileNameId,'['+botName+_0x15e04b(0x122));const kqNangCap=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpathTown[_0x15e04b(0xdd)],0x3e8);if(kqNangCap){log(profileNameId,'['+botName+_0x15e04b(0x14f)+demLoopnangCap+'/'+kqRelax),await click(xpathTown[_0x15e04b(0xdd)]),await delay(0x3e8),await click(xpath['nutX'],!![]),await delay(0x3e8),demLoopnangCap--;continue;}else{const kqBuy=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpathTown['buy'],0x3e8);if(kqBuy){log(profileNameId,'['+botName+_0x15e04b(0xf3)+demLoopnangCap+'/'+kqRelax),await click(xpathTown['buy']),await delay(0x3e8),await click(xpath[_0x15e04b(0xf9)],!![]),await delay(0x3e8),demLoopnangCap--;continue;}}}const kqNutX=await genlogin[_0x15e04b(0x116)](profileNameId,subframe,xpath[_0x15e04b(0xf9)],0x3e8);kqNutX&&(log(profileNameId,'['+botName+_0x15e04b(0x109)),await click(xpath[_0x15e04b(0xf9)],!![]),await delay(0x3e8));}}const kqHome=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x15e04b(0x132)],0x3e8);return kqHome&&(log(profileNameId,'['+botName+_0x15e04b(0xd4)),await click(xpath[_0x15e04b(0x132)]),await delay(0x3e8)),!![];}catch(e){log(profileNameId,'['+botName+_0x15e04b(0x11c)+e['message'],null,![]);}}async function lamTask(){const _0x27f0c3=_0x1b2df5;try{const taskXpath={'claim':_0x27f0c3(0xf0),'task':'//img[contains(@alt,\x27right\x20chevron\x27)]','startMission':_0x27f0c3(0x12d),'watch':_0x27f0c3(0x144),'inputCode':_0x27f0c3(0x107),'submit':_0x27f0c3(0x13c),'taskTitle':_0x27f0c3(0x13b),'finishMission':_0x27f0c3(0xe3),'claim':_0x27f0c3(0xf4),'xpathBackTask':_0x27f0c3(0xec),'checkBtn':'//button[text()=\x27Check\x27]'};log(profileNameId,'['+botName+_0x27f0c3(0x115));const kqVaoTask=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,xpath[_0x27f0c3(0x139)],0x7d0);if(!kqVaoTask)return log(profileNameId,'['+botName+_0x27f0c3(0xdb),null,![]),![];const kqClickTask=await click(xpath[_0x27f0c3(0x139)]);if(!kqClickTask)return log(profileNameId,'['+botName+_0x27f0c3(0xe6),null,![]),![];log(profileNameId,'['+botName+_0x27f0c3(0xe8));let demLoop=0x0,maxDemLoop=soLuotlamTask;while(demLoop<maxDemLoop){demLoop++,await delay(0x3e8);const tagTask='('+taskXpath[_0x27f0c3(0x139)]+')['+demLoop+']',kqCheckTask=await genlogin['elementExistsByXPath'](profileNameId,subframe,tagTask,0x3e8);if(!kqCheckTask){log(profileNameId,'['+botName+_0x27f0c3(0xdb),null,![]);continue;}const kqClickTask=await click(tagTask);if(!kqClickTask){log(profileNameId,'['+botName+_0x27f0c3(0xe6),null,![]);continue;}log(profileNameId,'['+botName+_0x27f0c3(0xe8)),await delay(0x3e8);const kqStartMission=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath['startMission'],0x7d0);if(kqStartMission){log(profileNameId,'['+botName+_0x27f0c3(0xf8));const kqClickStartMission=await click(taskXpath[_0x27f0c3(0xf1)]);!kqClickStartMission?log(profileNameId,'['+botName+'][lamTask]Không\x20click\x20là\x20startMission',null,![]):log(profileNameId,'['+botName+_0x27f0c3(0xfe));await delay(0x7d0);const kqWatch=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath[_0x27f0c3(0x114)],0x7d0);if(kqWatch){log(profileNameId,'['+botName+'][lamTask]Tìm\x20thấy\x20watch');const kqClickWatch=await click(taskXpath[_0x27f0c3(0x114)]);!kqClickWatch?log(profileNameId,'['+botName+_0x27f0c3(0xda),null,![]):log(profileNameId,'['+botName+_0x27f0c3(0x146));}await checkQuayLaiXpath(taskXpath['xpathBackTask']);continue;}const kqtaskTitle=await genlogin[_0x27f0c3(0x145)](profileNameId,subframe,taskXpath[_0x27f0c3(0xd5)],0x7d0);if(kqtaskTitle){log(profileNameId,'['+botName+_0x27f0c3(0x166)+kqtaskTitle);const kqCkCheckBtn=await genlogin[_0x27f0c3(0x145)](profileNameId,subframe,taskXpath['checkBtn'],0x3e8);if(kqCkCheckBtn){log(profileNameId,'['+botName+_0x27f0c3(0x130)+kqCkCheckBtn);const kqClickCkCheckBtn=await click(taskXpath[_0x27f0c3(0x14c)]);!kqClickCkCheckBtn?log(profileNameId,'['+botName+_0x27f0c3(0x143),null,![]):log(profileNameId,'['+botName+_0x27f0c3(0x142));}else{const kqInput=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath[_0x27f0c3(0x125)],0xbb8);if(kqInput){const kqCode=await http[_0x27f0c3(0xe0)](profileNameId,profileNameId,botName,kqtaskTitle,0x0);if(kqCode[_0x27f0c3(0x110)])log(profileNameId,'['+botName+_0x27f0c3(0xff)+kqCode['value']);else{log(profileNameId,'['+botName+_0x27f0c3(0x14d),null,![]);const checkBack=await checkQuayLaiXpath(taskXpath[_0x27f0c3(0x16a)]);if(!checkBack){log(profileNameId,'['+botName+_0x27f0c3(0xf2),![]);break;}continue;}log(profileNameId,'['+botName+'][lamTask]Tìm\x20thất\x20inputCode');const kqClickInput=await click(taskXpath[_0x27f0c3(0x125)]);!kqClickInput?log(profileNameId,'['+botName+_0x27f0c3(0x15d),null,![]):log(profileNameId,'['+botName+_0x27f0c3(0x10c));await delay(0x3e8);const kqType=await genlogin[_0x27f0c3(0x148)](profileNameId,currentPage,taskXpath[_0x27f0c3(0x125)],kqCode[_0x27f0c3(0x110)],0x1,0xbb8);if(kqType){log(profileNameId,'['+botName+_0x27f0c3(0x160)+kqCode[_0x27f0c3(0x110)]+'\x20OK'),await delay(0x3e8);const kqClick1=await click(taskXpath[_0x27f0c3(0x155)]);kqClick1&&(log(profileNameId,'['+botName+_0x27f0c3(0x126)),await delay(0x3e8));}}}const kqCheckDone=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath[_0x27f0c3(0xd7)],0x7d0);if(kqCheckDone){log(profileNameId,'['+botName+_0x27f0c3(0x169));const kqClickDone=await click(taskXpath[_0x27f0c3(0xd7)]);kqClickDone?log(profileNameId,'['+botName+'][lamTask]Click\x20finishMission\x20OK'):log(profileNameId,'['+botName+_0x27f0c3(0x13f),null,![]);const kqClaim=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath['claim'],0x7d0);if(kqClaim){log(profileNameId,'['+botName+_0x27f0c3(0xd6));const kqClickClaim=await click(taskXpath[_0x27f0c3(0x14b)]);kqClickClaim&&(log(profileNameId,'['+botName+_0x27f0c3(0xe1)),await checkQuayLaiXpath(taskXpath['xpathBackTask']));}}else{log(profileNameId,'['+botName+_0x27f0c3(0x15e),null,![]);const checkBack2=await checkQuayLaiXpath(taskXpath[_0x27f0c3(0x16a)]);}}const kqClaim2tr=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath[_0x27f0c3(0x14b)],0x3e8);if(kqClaim2tr){log(profileNameId,'['+botName+_0x27f0c3(0x104));const kqClickClaim2tr=await click(taskXpath['claim']);kqClickClaim2tr&&log(profileNameId,'['+botName+_0x27f0c3(0x15c));}}await checkQuayLaiXpath(taskXpath[_0x27f0c3(0x16a)]);const kqHome=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,xpath['home'],0x7d0);if(kqHome){log(profileNameId,'['+botName+_0x27f0c3(0xef));const clickedHome=await click(xpath[_0x27f0c3(0x132)]);clickedHome&&(log(profileNameId,'['+botName+_0x27f0c3(0x121)),await delay(0x3e8));}return!![];}catch(error){return log(profileNameId,'['+botName+_0x27f0c3(0xd9)+error,null,![]),null;}}async function checkQuayLaiXpath(backXpath){const _0x2a86f6=_0x1b2df5;try{const maxattemptCQ=0xa;let attemptCQ=0x0;const loopBack={'walletClose':_0x2a86f6(0x15a),'dialogClose':_0x2a86f6(0x127)};while(attemptCQ<maxattemptCQ){attemptCQ++,await delay(0x3e8),log(profileNameId,'['+botName+_0x2a86f6(0x11b)+attemptCQ);const currentPage=await genlogin[_0x2a86f6(0x14e)](profileNameId,browser);if(!currentPage){log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20currentPage',null,![]);continue;}log(profileNameId,'['+botName+_0x2a86f6(0x136));const kqTelePage=await genlogin[_0x2a86f6(0x116)](profileNameId,currentPage,getAks[_0x2a86f6(0x11d)],0x7d0);if(!kqTelePage){log(profileNameId,'['+botName+_0x2a86f6(0x134));const countTab=await genlogin['countOpenTabs'](profileNameId,browser);if(countTab<=0x1){log(profileNameId,'['+botName+_0x2a86f6(0x100)+countTab+_0x2a86f6(0x111));break;}const closeTab=await genlogin[_0x2a86f6(0x112)](profileNameId,browser,countTab-0x1,0xbb8);if(!closeTab){log(profileNameId,'['+botName+_0x2a86f6(0x124),null,![]);continue;}log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Đóng\x20tab\x20mới\x20thành\x20công'),await delay(0xbb8);continue;}log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Không\x20phát\x20hiện\x20tab\x20mới'),subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x2a86f6(0x161),null,![]);continue;}log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Vào\x20game\x20thành\x20công');const kqbackXpath=await genlogin['elementExistsByXPath'](profileNameId,subframe,backXpath,0x7d0);if(kqbackXpath){log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Tìm\x20thấy\x20backXpath');break;}if(!![]){let attemptBack=0x0,maxAttempBack=0xa,kqBack=![];while(attemptBack<maxAttempBack){attemptBack++,log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần\x20quay\x20lại:\x20'+attemptBack);const kqbackXpath=await genlogin[_0x2a86f6(0x116)](profileNameId,subframe,backXpath,0x7d0);if(kqbackXpath){log(profileNameId,'['+botName+_0x2a86f6(0x138));break;}const kqb0=await genlogin[_0x2a86f6(0x116)](profileNameId,currentPage,getAks['popupBackBtn'],0x3e8);if(kqb0){await clickM(getAks['popupBackBtn']);continue;}await delay(0x3e8);}return!![];}}let attemptW=0x0,maxAttemptsW=0x5;while(attemptW<maxAttemptsW){attemptW++;const checkWalletClose=await genlogin[_0x2a86f6(0x116)](profileNameId,subframe,loopBack[_0x2a86f6(0xd3)],0x1f4);checkWalletClose&&await click(loopBack[_0x2a86f6(0xd3)]);const checkdialogClose=await genlogin['elementExistsByXPath'](profileNameId,subframe,loopBack[_0x2a86f6(0x12c)],0x1f4);checkdialogClose&&await click(loopBack[_0x2a86f6(0x12c)]);if(!checkWalletClose&&!checkdialogClose)break;}return log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20quay\x20lại\x20tasks\x20thành\x20công'),!![];}catch(error){return log(profileNameId,'['+botName+_0x2a86f6(0x157)+error[_0x2a86f6(0x14a)],null,![]),null;}}async function thoigianconlai(thoigianconlai){const _0x389d66=_0x1b2df5;try{log(profileNameId,'['+botName+'][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè');let hour0,minute0,timeleft0=thoigianconlai,timeleft=timeleft0[_0x389d66(0x152)]('\x20','')[_0x389d66(0xea)](),matches=timeleft[_0x389d66(0x15f)](/(\d+)h(\d+)m/);matches?(hour0=matches[0x1],minute0=matches[0x2]):(hour0=0x1,minute0=0x0);let hours=parseInt(hour0),minutes=parseInt(minute0),seconds=parseInt(0x0),totalSeconds=parseInt(hours*0xe10+minutes*0x3c+seconds);const unixTime=Math[_0x389d66(0x10e)](Date[_0x389d66(0xf5)]()/0x3e8),newUnixTime=unixTime+totalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate[_0x389d66(0x158)](),formattedTime=newDate[_0x389d66(0x128)]('en-GB',{'hour12':![]});let NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+_0x389d66(0x106)+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x4376b4=_0x1b2df5;if(Atomics[_0x4376b4(0xe5)](tasksData,taskIndex)===0x1)return!![];return![];}};
=======
function a0_0x288c(){const _0x48f8f4=['watch','soLuotlamTask','walletClose','][checkQuayLaiXpath]\x20Lỗi\x20khi\x20đóng\x20tab\x20mới','getCode','en-GB','][checkQuayLaiXpath]\x20quay\x20lại\x20tasks\x20thành\x20công','town','elementExistsByXPath',']Tìm\x20thấy\x20coinTag','773773mujUfS','][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20iframe','][Lỗi]:\x20','][lamTask]Tìm\x20thấy\x20claim','getTextByXPath','(//div[contains(@data-tc-modal,\x27true\x27)]//button[contains(@data-tc-icon-button,\x27true\x27)])[1]','][checkClosePopup]Tìm\x20thấy\x20getIt','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20currentPage','CloseGame','//img[contains(@src,\x27/assets/task\x27)\x20and\x20contains(@alt,\x27navigation\x27)]','finishMission','][lamTask]Click\x20task\x20OK','//img[contains(@src,\x27/assets/coin_\x27)\x20and\x20contains(@alt,\x27navigation\x27)]','getIt','][click]Click\x20','][checkQuayLaiXpath]\x20Phát\x20hiện\x20tab\x20mới','617948KYEHFc','][lamTask]Không\x20click\x20được\x20vào\x20task','NextRunStamp','][lamTask]Không\x20tìm\x20thất\x20finishMission','Không\x20tìm\x20thấy\x20iframe','][checkQuayLaiXpath]\x20Vào\x20game\x20thành\x20công','task','closeTab','][checkClosePopup]\x20error:\x20','exports','][lamTask]Click\x20finishMission\x20OK','4IEqXan','checkBtn','(//div[contains(@class,\x27_balance_\x27)])[4]','][town]Không\x20click\x20được\x20vào\x20nutX','xpathBackTask',']Vào\x20game\x20nè','getCurrentPage',']nextRunAt:\x20','Không\x20tìm\x20thấy\x20main\x20frame','4526767JZYUrL','replace','][town]Tìm\x20thấy\x20nutX','message','home','click','][lamTask]:\x20','][lamTask]Click\x20inputCode\x20OK','timeout','floor','30GlcLvn','][lamTask]Tìm\x20thấy\x20watch',']Không\x20tìm\x20thấy\x20main\x20frame','][town]Tìm\x20thấy\x20getIt','//input[contains(@placeholder,\x27Provide\x20an\x20answer\x27)]','NextRun','startMission',']Ra\x20game\x20nè','mainframe','Iframe','popupBackBtn','//div[contains(@class,\x27_building_\x27)]//img[contains(@src,\x27/assets/b_\x27)\x20and\x20not(ancestor::div[contains(@class,\x27_building_\x27)]//div[contains(@class,\x27_content_\x27)]//div[contains(@data-text,\x2720\x27)])]','//button[normalize-space(text())=\x27Claim\x27\x20and\x20not(@disabled)]','][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20currentPage','//button[text()=\x27Buy\x27]','][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè','(//div[contains(@class,\x27_balance_\x27)])[3]','][lamTask]Không\x20tìm\x20thấy\x20code','//img[contains(@alt,\x27right\x20chevron\x27)]','][lamTask]Tìm\x20thất\x20taskTitle:\x20',']Tìm\x20thấy\x20coin:\x20',']Lôi\x20lamTask','//img[contains(@src,\x27/assets/town\x27)]','updateData','][lamTask]Tìm\x20thất\x20claim2tr','][checkClosePopup]Tìm\x20thấy\x20nutX','submit','9CzIjIa','//button[text()=\x27Watch\x27]','builder','autoLamTask','2842953QbfNZb','dialogClose','][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần:\x20','value','\x20OK','868140JjEGRb','][town]Loop:\x20','//button[text()=\x27Upgrade\x27]','289735gofCbD',']Vào\x20game\x20OK','//button[text()=\x27Start\x20mission\x27]','][lamTask]Không\x20click\x20dc\x20checkBtn',']Không\x20tìm\x20thấy\x20iframe','6QIemOz','//h3[contains(@class,\x27_h3_\x27)]','claim','//button[text()=\x27Claim\x27]','toLocaleTimeString','][checkQuayLaiXpath]\x20Chỉ\x20có\x20','(//div[contains(@class,\x27_balance_\x27)])[2]',']không\x20xử\x20lý\x20được\x20thoigianconlai','coin','][lamTask]Click\x20checkBtn\x20OK','][lamTask]Tìm\x20thất\x20inputCode','upgrade','botSet','][lamTask]Không\x20click\x20dc\x20inputCode','now','switchFrame','][checkQuayLaiXpath]\x20Đóng\x20tab\x20mới\x20thành\x20công','][lamTask]Không\x20click\x20dc\x20watch',']Đã\x20tìm\x20thấy\x20iframe','][town]Tìm\x20thấy\x20mua\x20','builderRelax','][lamTask]Click\x20claim\x20OK','][lamTask]Click\x20submit\x20OK','match','//button[contains(@class,\x27_crosBtn_\x27)]','nutX','][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần\x20quay\x20lại:\x20','][click]Không\x20click\x20được\x20vào\x20',']Done\x20lamTask',']không\x20Tìm\x20thấy\x20coinTag','][checkClosePopup]Tìm\x20thấy\x20popupBackBtn','][town]Click\x20builder\x20OK','][lamTask]Click\x20startMission\x20OK','][lamTask]Click\x20claim2tr\x20OK','typeText','5492024vMkeQz','][lamTask]Click\x20watch\x20OK','scroll','][lamTask]Không\x20tìm\x20thất\x20task','inputCode','][town]Tìm\x20thấy\x20home','../modules/logger','(//div[contains(@class,\x27_balance_\x27)])[1]','][town]Không\x20tìm\x20thấy\x20builder','(//dialog//button[contains(@class,\x27close-btn\x27)])[1]','][lamTask]Click\x20home\x20OK','][town]Tìm\x20thấy\x20worker','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20backXpath','buy','][click][Lỗi]:\x20',']Done\x20Town'];a0_0x288c=function(){return _0x48f8f4;};return a0_0x288c();}function a0_0x2ecf(_0xa2c549,_0x411931){const _0x288c81=a0_0x288c();return a0_0x2ecf=function(_0x2ecfdc,_0x3aabaa){_0x2ecfdc=_0x2ecfdc-0x12f;let _0x19e4e9=_0x288c81[_0x2ecfdc];return _0x19e4e9;},a0_0x2ecf(_0xa2c549,_0x411931);}const a0_0x3c42fa=a0_0x2ecf;(function(_0x22fb5e,_0x2075d0){const _0x56e05f=a0_0x2ecf,_0x169572=_0x22fb5e();while(!![]){try{const _0x4e32c8=parseInt(_0x56e05f(0x162))/0x1+-parseInt(_0x56e05f(0x1a4))/0x2+-parseInt(_0x56e05f(0x19f))/0x3*(-parseInt(_0x56e05f(0x16d))/0x4)+-parseInt(_0x56e05f(0x1a7))/0x5*(parseInt(_0x56e05f(0x1ac))/0x6)+parseInt(_0x56e05f(0x176))/0x7+-parseInt(_0x56e05f(0x138))/0x8*(parseInt(_0x56e05f(0x19b))/0x9)+-parseInt(_0x56e05f(0x180))/0xa*(parseInt(_0x56e05f(0x152))/0xb);if(_0x4e32c8===_0x2075d0)break;else _0x169572['push'](_0x169572['shift']());}catch(_0x52bd03){_0x169572['push'](_0x169572['shift']());}}}(a0_0x288c,0xc8dcb),module[a0_0x3c42fa(0x16b)]=async function(_0x373bf8,_0xedd22a){const _0x509ae5=a0_0x3c42fa,{log:_0x618521,json:_0x544086}=require(_0x509ae5(0x13e)),{firstPage:_0x46c9f1,bot:_0x106d8d,profileNameId:_0x1ba473,getAks:_0x3c1674,genlogin:_0x421b06,http:_0x1f7cde,browser:_0x3ef0de,dataId:_0xf4b6fe}=_0x373bf8;let _0x40b92b=_0x46c9f1,_0x1b6932;const _0x58bf80=_0x106d8d['name'];let _0x1975cc=0x0,_0x2fb422,_0xebfbf6=0x5;_0x106d8d[_0x509ae5(0x1b8)]['soLuotlamTask'][_0x509ae5(0x1a2)]&&(parseInt(_0x106d8d[_0x509ae5(0x1b8)][_0x509ae5(0x149)][_0x509ae5(0x1a2)])>0x0&&(_0xebfbf6=parseInt(_0x106d8d[_0x509ae5(0x1b8)][_0x509ae5(0x149)][_0x509ae5(0x1a2)])));const _0x1aa668={'nutX':_0x509ae5(0x1c4),'coin':_0x509ae5(0x13f),'coinBlock':_0x509ae5(0x1b2),'coinDiamond':_0x509ae5(0x190),'coinPlay':_0x509ae5(0x16f),'getIt':'//div[contains(@class,\x27_actionContent_\x27)]//button[text()=\x27Get\x20it!\x27]','home':_0x509ae5(0x15e),'task':_0x509ae5(0x15b)};try{if(_0xedd22a['aborted'])throw new Error(_0x509ae5(0x17e));_0x1b6932=await _0x21fcc8();if(!_0x1b6932){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x1ab),null,![]);throw new Error('Không\x20tìm\x20thấy\x20iframe');}_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x1a8)),await _0x3bbc05(0x3e8);const _0x3b5bea=await _0x348f7b();await _0x3bbc05(0x3e8);if(_0x106d8d[_0x509ae5(0x1b8)][_0x509ae5(0x14f)]['value']==='y'){const _0x132ab4=await _0x334e90();!_0x132ab4&&_0x618521('['+_0x1ba473+']['+_0x58bf80+']Lôi\x20Town',null,![]),_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x147)),await _0x3bbc05(0x7d0);}if(_0x106d8d[_0x509ae5(0x1b8)][_0x509ae5(0x19e)][_0x509ae5(0x1a2)]==='y'){const _0x8c54f5=await _0x24a312();!_0x8c54f5&&_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x195),null,![]),_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x131));}const _0x26fb16=await _0x421b06['elementExistsByXPath'](_0x1b6932,_0x1aa668[_0x509ae5(0x1b4)],0x3e8);!_0x26fb16&&_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x132));_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x151));const _0x3dd08b=await _0x421b06['getTextByXPath'](_0x1b6932,_0x1aa668[_0x509ae5(0x1b4)],0x7d0);!_0x3dd08b&&_0x618521('['+_0x1ba473+']['+_0x58bf80+']Không\x20tìm\x20thấy\x20coin',null,![]);await _0x1f7cde[_0x509ae5(0x197)](_0x1ba473,_0xf4b6fe,null,_0x3dd08b),_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x194)+_0x3dd08b);const _0x40b8aa=await _0x56b32b('01h\x2000m');return!_0x40b8aa&&_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x1b3),null,![]),_0x618521('['+_0x1ba473+']['+_0x58bf80+']Xử\x20lý\x20thoigianconlai\x20OK'),_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x174)+_0x40b8aa['NextRun']),{'status':!![],'coin':_0x3dd08b,'nextRun':_0x40b8aa[_0x509ae5(0x185)],'nextRunStamp':_0x40b8aa[_0x509ae5(0x164)]};}catch(_0x46e58b){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x509ae5(0x154)+_0x46e58b,null,![]);}async function _0x21fcc8(){const _0xcf54e4=_0x509ae5;try{_0x618521('['+_0x1ba473+']['+_0x58bf80+_0xcf54e4(0x172));const _0x29bf36=await _0x421b06[_0xcf54e4(0x1bb)](_0x40b92b,_0x3c1674[_0xcf54e4(0x189)],0x2710);if(!_0x29bf36){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0xcf54e4(0x1ab),null,![]);throw new Error(_0xcf54e4(0x166));}return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0xcf54e4(0x1be)),_0x29bf36;}catch(_0xd7e92b){return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0xcf54e4(0x154)+_0xd7e92b,null,![]),null;}}async function _0x50ab3f(){const _0x9482ab=_0x509ae5;try{_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9482ab(0x187)),_0x40b92b=_0x421b06[_0x9482ab(0x1bb)](_0x40b92b,_0x9482ab(0x188),0x7d0);if(!_0x40b92b){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9482ab(0x182),null,![]);throw new Error(_0x9482ab(0x175));}return _0x40b92b;}catch(_0x2891d9){return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9482ab(0x154)+_0x2891d9,null,![]),null;}}async function _0x51f4f8(_0x3fcb2e,_0x21e1c8=![]){const _0x97646=_0x509ae5;try{await _0x3bbc05(0x3e8);const _0x87aae=await _0x421b06[_0x97646(0x17b)](_0x1b6932,{'xpath':_0x3fcb2e,'mainframe':_0x40b92b,'browser':_0x3ef0de,'tagClick':_0x21e1c8},0x7d0);await _0x3bbc05(0x3e8);if(!_0x87aae)return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0x97646(0x130)+_0x3fcb2e,null,![]),!![];return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0x97646(0x160)+_0x3fcb2e+_0x97646(0x1a3)),_0x87aae;}catch(_0x109946){return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0x97646(0x146)+_0x109946,null,![]),null;}}async function _0x1c3a85(_0x3505dc){const _0x5a0334=_0x509ae5;try{await _0x3bbc05(0x3e8);const _0x49f041=await _0x421b06['click'](_0x40b92b,{'xpath':_0x3505dc,'mainframe':_0x40b92b,'browser':_0x3ef0de},0x3e8);await _0x3bbc05(0x3e8);if(!_0x49f041)return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0x5a0334(0x130)+_0x3505dc,null,![]),null;return _0x618521('['+_0x1ba473+']['+_0x58bf80+'][click]Click\x20'+_0x3505dc+_0x5a0334(0x1a3)),_0x49f041;}catch(_0x104197){return _0x618521('['+_0x1ba473+']['+_0x58bf80+'][click][Lỗi]:\x20'+_0x104197,null,![]),null;}}async function _0x348f7b(){const _0x47b6e0=_0x509ae5;try{_0x618521('['+_0x1ba473+']['+_0x58bf80+'][checkClosePopup]\x20checkClosePopup\x20nè');let _0x25d1db=0x0,_0x29ccc5=0xa;while(_0x25d1db<_0x29ccc5){_0x25d1db++;const _0x295d52=await _0x421b06['elementExistsByXPath'](_0x1b6932,_0x1aa668[_0x47b6e0(0x15f)],0x7d0);if(_0x295d52){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x47b6e0(0x158)),await _0x51f4f8(_0x1aa668['getIt']),await _0x3bbc05(0x3e8);const _0x3b4451=await _0x421b06[_0x47b6e0(0x150)](_0x40b92b,_0x3c1674['popupBackBtn'],0x7d0);_0x3b4451&&(_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x47b6e0(0x133)),await _0x1c3a85(_0x3c1674[_0x47b6e0(0x18a)]),await _0x3bbc05(0x3e8));continue;}else{const _0x4433ca=await _0x421b06[_0x47b6e0(0x150)](_0x1b6932,_0x1aa668[_0x47b6e0(0x1c5)],0x7d0);if(_0x4433ca){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x47b6e0(0x199)),await _0x51f4f8(_0x1aa668[_0x47b6e0(0x1c5)],!![]),await _0x3bbc05(0x3e8);const _0x393e72=await _0x421b06[_0x47b6e0(0x150)](_0x40b92b,_0x3c1674['popupBackBtn'],0x7d0);_0x393e72&&(_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x47b6e0(0x133)),await _0x1c3a85(_0x3c1674['popupBackBtn']),await _0x3bbc05(0x3e8));continue;}}await _0x3bbc05(0x3e8);break;}}catch(_0x27c790){return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0x47b6e0(0x16a)+_0x27c790[_0x47b6e0(0x179)],null,![]),null;}}async function _0x334e90(){const _0x3bfb97=_0x509ae5;try{const _0x5c2587={'getIt':'//div[contains(@class,\x27_actionContent_\x27)]//button[text()=\x27Get\x20it!\x27]','town':_0x3bfb97(0x196),'builder':'//img[contains(@src,\x27/assets/builder_\x27)]','builderRelax':'//h6[contains(text(),\x27relaxing\x27)]','listBuilder':_0x3bfb97(0x18b),'buy':_0x3bfb97(0x18e),'upgrade':_0x3bfb97(0x1a6)};let _0x20f5be=0x0;const _0x50b3da=await _0x421b06[_0x3bfb97(0x150)](_0x1b6932,_0x5c2587[_0x3bfb97(0x14f)],0x7d0);_0x50b3da&&(_0x618521('['+_0x1ba473+']['+_0x58bf80+'][town]Tìm\x20thấy\x20town'),await _0x51f4f8(_0x5c2587['town']),await _0x3bbc05(0x3e8));const _0x12b949=await _0x421b06[_0x3bfb97(0x150)](_0x1b6932,_0x5c2587['getIt'],0x7d0);_0x12b949&&(_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x3bfb97(0x183)),await _0x51f4f8(_0x5c2587[_0x3bfb97(0x15f)]),await _0x3bbc05(0x3e8));const _0x2a3bc4=await _0x421b06[_0x3bfb97(0x150)](_0x1b6932,_0x5c2587[_0x3bfb97(0x19d)],0x7d0);if(_0x2a3bc4){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x3bfb97(0x143)),await _0x51f4f8(_0x5c2587['builder']),await _0x3bbc05(0x3e8),_0x20f5be=await _0x421b06['countXpath'](_0x1b6932,_0x5c2587[_0x3bfb97(0x1c0)],0x7d0),_0x618521('['+_0x1ba473+']['+_0x58bf80+'][town]Tìm\x20thấy\x20relax:\x20'+_0x544086(_0x20f5be));const _0x37e501=await _0x421b06[_0x3bfb97(0x150)](_0x1b6932,_0x1aa668['nutX'],0x7d0);if(_0x37e501){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x3bfb97(0x178));const _0x3105d7=await _0x51f4f8(_0x1aa668[_0x3bfb97(0x1c5)],!![]);if(!_0x3105d7)return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0x3bfb97(0x170),null,![]),null;await _0x3bbc05(0x3e8);}}if(_0x20f5be>0x0){let _0x125a9a=0x0,_0x50f57f=0x14,_0x44c8f7=_0x20f5be;while(_0x125a9a<_0x50f57f){_0x125a9a++,await _0x3bbc05(0x3e8),_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x3bfb97(0x1a5)+_0x125a9a+'/'+_0x50f57f);if(_0x44c8f7<=0x0)break;const _0x857276='('+_0x5c2587['listBuilder']+')['+_0x125a9a+']',_0x1bb83b=await _0x421b06[_0x3bfb97(0x150)](_0x1b6932,_0x857276,0x7d0);if(!_0x1bb83b){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x3bfb97(0x140),null,![]);continue;}await _0x421b06[_0x3bfb97(0x13a)](_0x1b6932,{'xpath':_0x857276},0xbb8),await _0x3bbc05(0x3e8);const _0x65595a=await _0x51f4f8(_0x857276);if(!_0x65595a){_0x618521('['+_0x1ba473+']['+_0x58bf80+'][town]Không\x20click\x20được\x20vào\x20builder',null,![]);continue;}else{_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x3bfb97(0x134));const _0xaf4088=await _0x421b06['elementExistsByXPath'](_0x1b6932,_0x5c2587[_0x3bfb97(0x1b7)],0x3e8);if(_0xaf4088){_0x618521('['+_0x1ba473+']['+_0x58bf80+'][town]Tìm\x20thấy\x20nâng\x20cấp\x20'+_0x44c8f7+'/'+_0x20f5be),await _0x51f4f8(_0x5c2587[_0x3bfb97(0x1b7)]),await _0x3bbc05(0x3e8),await _0x51f4f8(_0x1aa668[_0x3bfb97(0x1c5)],!![]),await _0x3bbc05(0x3e8),_0x44c8f7--;continue;}else{const _0x201944=await _0x421b06[_0x3bfb97(0x150)](_0x1b6932,_0x5c2587[_0x3bfb97(0x145)],0x3e8);if(_0x201944){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x3bfb97(0x1bf)+_0x44c8f7+'/'+_0x20f5be),await _0x51f4f8(_0x5c2587[_0x3bfb97(0x145)]),await _0x3bbc05(0x3e8),await _0x51f4f8(_0x1aa668[_0x3bfb97(0x1c5)],!![]),await _0x3bbc05(0x3e8),_0x44c8f7--;continue;}}}const _0x2b4604=await _0x421b06[_0x3bfb97(0x150)](_0x1b6932,_0x1aa668[_0x3bfb97(0x1c5)],0x3e8);_0x2b4604&&(_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x3bfb97(0x178)),await _0x51f4f8(_0x1aa668[_0x3bfb97(0x1c5)],!![]),await _0x3bbc05(0x3e8));}}const _0x14ed3e=await _0x421b06[_0x3bfb97(0x150)](_0x1b6932,_0x1aa668[_0x3bfb97(0x17a)],0x3e8);return _0x14ed3e&&(_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x3bfb97(0x13d)),await _0x51f4f8(_0x1aa668[_0x3bfb97(0x17a)]),await _0x3bbc05(0x3e8)),!![];}catch(_0x23e530){_0x618521('['+_0x1ba473+']['+_0x58bf80+'][checkTown]\x20error:\x20'+_0x23e530['message'],null,![]);}}async function _0x24a312(){const _0x9217c3=_0x509ae5;try{const _0x54dd22={'claim':_0x9217c3(0x18c),'task':_0x9217c3(0x192),'startMission':_0x9217c3(0x1a9),'watch':_0x9217c3(0x19c),'inputCode':_0x9217c3(0x184),'submit':'//button[text()=\x27Submit\x27]','taskTitle':_0x9217c3(0x1ad),'finishMission':'//button[normalize-space(text())=\x27Finish\x20mission\x27\x20and\x20not(@disabled)]','claim':_0x9217c3(0x1af),'xpathBackTask':'//div[contains(@class,\x27_listContainer_\x27)]//div[contains(@class,\x27_container_\x27)]','checkBtn':'//button[text()=\x27Check\x27]'};_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Làm\x20Task\x20nè');const _0x1ef5ec=await _0x421b06[_0x9217c3(0x150)](_0x1b6932,_0x1aa668[_0x9217c3(0x168)],0x7d0);if(!_0x1ef5ec)return _0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Không\x20tìm\x20thất\x20task',null,![]),![];const _0xb17c61=await _0x51f4f8(_0x1aa668[_0x9217c3(0x168)]);if(!_0xb17c61)return _0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Không\x20click\x20được\x20vào\x20task',null,![]),![];_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x15d));let _0xf93aad=0x0,_0x39bd43=_0xebfbf6;while(_0xf93aad<_0x39bd43){_0xf93aad++,await _0x3bbc05(0x3e8);const _0x3e6497='('+_0x54dd22['task']+')['+_0xf93aad+']',_0x2c1a3b=await _0x421b06[_0x9217c3(0x150)](_0x1b6932,_0x3e6497,0x3e8);if(!_0x2c1a3b){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x13b),null,![]);continue;}const _0x3e6b28=await _0x51f4f8(_0x3e6497);if(!_0x3e6b28){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x163),null,![]);continue;}_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Click\x20task\x20OK'),await _0x3bbc05(0x3e8);const _0x3370ee=await _0x421b06[_0x9217c3(0x150)](_0x1b6932,_0x54dd22[_0x9217c3(0x186)],0x7d0);if(_0x3370ee){_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Tìm\x20thất\x20startMission');const _0x480a1d=await _0x51f4f8(_0x54dd22[_0x9217c3(0x186)]);!_0x480a1d?_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Không\x20click\x20là\x20startMission',null,![]):_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x135));await _0x3bbc05(0x7d0);const _0x1583e2=await _0x421b06[_0x9217c3(0x150)](_0x1b6932,_0x54dd22[_0x9217c3(0x148)],0x7d0);if(_0x1583e2){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x181));const _0x49b20a=await _0x51f4f8(_0x54dd22[_0x9217c3(0x148)]);!_0x49b20a?_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x1bd),null,![]):_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x139));}await _0x5a15c1(_0x54dd22[_0x9217c3(0x171)]);continue;}const _0x4425fe=await _0x421b06['getTextByXPath'](_0x1b6932,_0x54dd22['taskTitle'],0x7d0);if(_0x4425fe){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x193)+_0x4425fe);const _0x2f8cce=await _0x421b06[_0x9217c3(0x156)](_0x1b6932,_0x54dd22['checkBtn'],0x3e8);if(_0x2f8cce){_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Tìm\x20thấy\x20checkBtn:\x20'+_0x2f8cce);const _0x4d43fc=await _0x51f4f8(_0x54dd22[_0x9217c3(0x16e)]);!_0x4d43fc?_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x1aa),null,![]):_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x1b5));}else{const _0x19a4f9=await _0x421b06[_0x9217c3(0x150)](_0x1b6932,_0x54dd22[_0x9217c3(0x13c)],0xbb8);if(_0x19a4f9){const _0x50b8e2=await _0x1f7cde[_0x9217c3(0x14c)](_0x1ba473,_0x58bf80,_0x4425fe,0x0);if(_0x50b8e2[_0x9217c3(0x1a2)])_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Tìm\x20thấy\x20code:\x20'+_0x50b8e2['value']);else{_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x191),null,![]);const _0x2f94e6=await _0x5a15c1(_0x54dd22[_0x9217c3(0x171)]);if(!_0x2f94e6){_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Không\x20quay\x20lại\x20được\x20tasks',![]);break;}continue;}_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x1b6));const _0x4426ae=await _0x51f4f8(_0x54dd22['inputCode']);!_0x4426ae?_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x1b9),null,![]):_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x17d));await _0x3bbc05(0x3e8);const _0x50bc54=await _0x421b06[_0x9217c3(0x137)](_0x40b92b,_0x54dd22['inputCode'],_0x50b8e2[_0x9217c3(0x1a2)],0x1,0xbb8);if(_0x50bc54){_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Type\x20code\x20'+_0x50b8e2[_0x9217c3(0x1a2)]+_0x9217c3(0x1a3)),await _0x3bbc05(0x3e8);const _0x50390b=await _0x51f4f8(_0x54dd22[_0x9217c3(0x19a)]);_0x50390b&&(_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x1c2)),await _0x3bbc05(0x3e8));}}}const _0x4de076=await _0x421b06[_0x9217c3(0x150)](_0x1b6932,_0x54dd22['finishMission'],0x7d0);if(_0x4de076){_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Tìm\x20thất\x20finishMission');const _0x4559cb=await _0x51f4f8(_0x54dd22[_0x9217c3(0x15c)]);_0x4559cb?_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x16c)):_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Không\x20click\x20dc\x20finishMission',null,![]);const _0x116c27=await _0x421b06[_0x9217c3(0x150)](_0x1b6932,_0x54dd22['claim'],0x7d0);if(_0x116c27){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x155));const _0x3d6f47=await _0x51f4f8(_0x54dd22[_0x9217c3(0x1ae)]);_0x3d6f47&&(_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x1c1)),await _0x5a15c1(_0x54dd22[_0x9217c3(0x171)]));}}else{_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x165),null,![]);const _0x485554=await _0x5a15c1(_0x54dd22['xpathBackTask']);}}const _0xb06405=await _0x421b06[_0x9217c3(0x150)](_0x1b6932,_0x54dd22['claim'],0x3e8);if(_0xb06405){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x198));const _0x1979b0=await _0x51f4f8(_0x54dd22[_0x9217c3(0x1ae)]);_0x1979b0&&_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x136));}}await _0x5a15c1(_0x54dd22[_0x9217c3(0x171)]);const _0x2703aa=await _0x421b06[_0x9217c3(0x150)](_0x1b6932,_0x1aa668[_0x9217c3(0x17a)],0x7d0);if(_0x2703aa){_0x618521('['+_0x1ba473+']['+_0x58bf80+'][lamTask]Tìm\x20thấy\x20home');const _0x2053f2=await _0x51f4f8(_0x1aa668[_0x9217c3(0x17a)]);_0x2053f2&&(_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x142)),await _0x3bbc05(0x3e8));}return!![];}catch(_0x43ff3e){return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0x9217c3(0x17c)+_0x43ff3e,null,![]),null;}}async function _0x5a15c1(_0x4fc3d8){const _0x28d038=_0x509ae5;try{const _0x27db4f=0xa;let _0x29c275=0x0;const _0x1947d1={'walletClose':_0x28d038(0x157),'dialogClose':_0x28d038(0x141)};while(_0x29c275<_0x27db4f){_0x29c275++,await _0x3bbc05(0x3e8),_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x1a1)+_0x29c275);const _0x4448b0=await _0x421b06[_0x28d038(0x173)](_0x3ef0de);if(!_0x4448b0){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x18d),null,![]);continue;}_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x159));const _0x54fad3=await _0x421b06[_0x28d038(0x150)](_0x4448b0,_0x3c1674[_0x28d038(0x15a)],0x7d0);if(!_0x54fad3){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x161));const _0x14e3fc=await _0x421b06['countOpenTabs'](_0x3ef0de);if(_0x14e3fc<=0x1){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x1b1)+_0x14e3fc+'\x20tab\x20đang\x20mở');break;}const _0x813499=await _0x421b06[_0x28d038(0x169)](_0x3ef0de,_0x14e3fc-0x1,0xbb8);if(!_0x813499){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x14b),null,![]);continue;}_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x1bc)),await _0x3bbc05(0xbb8);continue;}_0x618521('['+_0x1ba473+']['+_0x58bf80+'][checkQuayLaiXpath]\x20Không\x20phát\x20hiện\x20tab\x20mới'),_0x1b6932=await _0x21fcc8();if(!_0x1b6932){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x153),null,![]);continue;}_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x167));const _0x345f21=await _0x421b06[_0x28d038(0x150)](_0x1b6932,_0x4fc3d8,0x7d0);if(_0x345f21){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x144));break;}if(!![]){let _0x2d67c3=0x0,_0x45838e=0xa,_0x1ac085=![];while(_0x2d67c3<_0x45838e){_0x2d67c3++,_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x12f)+_0x2d67c3);const _0x1e857e=await _0x421b06[_0x28d038(0x150)](_0x1b6932,_0x4fc3d8,0x7d0);if(_0x1e857e){_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x144));break;}const _0x5dc827=await _0x421b06[_0x28d038(0x150)](_0x4448b0,_0x3c1674[_0x28d038(0x18a)],0x3e8);if(_0x5dc827){await _0x1c3a85(_0x3c1674[_0x28d038(0x18a)]);continue;}await _0x3bbc05(0x3e8);}return!![];}}let _0x4a4d03=0x0,_0x1b7b44=0x5;while(_0x4a4d03<_0x1b7b44){_0x4a4d03++;const _0x28c77a=await _0x421b06[_0x28d038(0x150)](_0x1b6932,_0x1947d1['walletClose'],0x1f4);_0x28c77a&&await _0x51f4f8(_0x1947d1[_0x28d038(0x14a)]);const _0x1b2c8a=await _0x421b06[_0x28d038(0x150)](_0x1b6932,_0x1947d1['dialogClose'],0x1f4);_0x1b2c8a&&await _0x51f4f8(_0x1947d1[_0x28d038(0x1a0)]);if(!_0x28c77a&&!_0x1b2c8a)break;}return _0x618521('['+_0x1ba473+']['+_0x58bf80+_0x28d038(0x14e)),!![];}catch(_0x52c186){return _0x618521('['+_0x1ba473+']['+_0x58bf80+'][checkQuayLaiXpath]\x20Lỗi\x20trong\x20quá\x20trình\x20kiểm\x20tra:\x20'+_0x52c186[_0x28d038(0x179)],null,![]),null;}}async function _0x56b32b(_0x1cb636){const _0x35bc76=_0x509ae5;try{_0x618521('['+_0x1ba473+']['+_0x58bf80+_0x35bc76(0x18f));let _0xe5c1f7,_0x5609d1,_0x4fe081=_0x1cb636,_0x1aacde=_0x4fe081[_0x35bc76(0x177)]('\x20','')['trim'](),_0x5df345=_0x1aacde[_0x35bc76(0x1c3)](/(\d+)h(\d+)m/);_0x5df345?(_0xe5c1f7=_0x5df345[0x1],_0x5609d1=_0x5df345[0x2]):(_0xe5c1f7=0x1,_0x5609d1=0x0);let _0x5a48e8=parseInt(_0xe5c1f7),_0x20876f=parseInt(_0x5609d1),_0x219983=parseInt(0x0),_0x3ba929=parseInt(_0x5a48e8*0xe10+_0x20876f*0x3c+_0x219983);const _0x5e563b=Math[_0x35bc76(0x17f)](Date[_0x35bc76(0x1ba)]()/0x3e8),_0x12f3c5=_0x5e563b+_0x3ba929,_0x1971f8=new Date(_0x12f3c5*0x3e8),_0x670149=_0x1971f8['toLocaleDateString'](),_0x3d515a=_0x1971f8[_0x35bc76(0x1b0)](_0x35bc76(0x14d),{'hour12':![]});let _0xabb0cd=_0x670149+'\x20'+_0x3d515a;return{'NextRun':_0xabb0cd,'NextRunStamp':_0x12f3c5};}catch(_0x2b305a){return _0x618521('['+_0x1ba473+']['+_0x58bf80+'][thoigianconlai]:\x20'+_0x2b305a,null,![]),null;}}async function _0x3bbc05(_0xa9b854){return new Promise(_0x3fac96=>{const _0x2c4a08=a0_0x2ecf;if(_0xedd22a['aborted'])throw new Error(_0x2c4a08(0x17e));setTimeout(_0x3fac96,_0xa9b854);});}});
>>>>>>> 80b5db639471772dcb78ffbdea5c702eeaba67af
