(function(_0x55d279,_0x5909a9){const _0x399ed4=a0_0x1c56,_0x525899=_0x55d279();while(!![]){try{const _0x5b1796=-parseInt(_0x399ed4(0x167))/0x1*(-parseInt(_0x399ed4(0x15b))/0x2)+parseInt(_0x399ed4(0x10f))/0x3+parseInt(_0x399ed4(0x133))/0x4+-parseInt(_0x399ed4(0xe9))/0x5*(-parseInt(_0x399ed4(0x117))/0x6)+-parseInt(_0x399ed4(0x150))/0x7+parseInt(_0x399ed4(0x13d))/0x8*(parseInt(_0x399ed4(0x13e))/0x9)+-parseInt(_0x399ed4(0x135))/0xa;if(_0x5b1796===_0x5909a9)break;else _0x525899['push'](_0x525899['shift']());}catch(_0x43a3f2){_0x525899['push'](_0x525899['shift']());}}}(a0_0x3c88,0xb8087));import{log,json}from'../modules/logger.js';function a0_0x1c56(_0xedf055,_0x2d7f23){const _0x3c88e7=a0_0x3c88();return a0_0x1c56=function(_0x1c5668,_0x3340f8){_0x1c5668=_0x1c5668-0xd2;let _0x2480d5=_0x3c88e7[_0x1c5668];return _0x2480d5;},a0_0x1c56(_0xedf055,_0x2d7f23);}function a0_0x3c88(){const _0x405d1b=['//button[normalize-space(text())=\x27Claim\x27\x20and\x20not(@disabled)]','startMission','][lamTask]Không\x20quay\x20lại\x20được\x20tasks','][town]Tìm\x20thấy\x20mua\x20','//button[text()=\x27Claim\x27]','now','builder','popupBackBtn','][lamTask]Tìm\x20thất\x20startMission','nutX','(//div[contains(@class,\x27_balance_\x27)])[3]',']Không\x20tìm\x20thấy\x20coin','Không\x20tìm\x20thấy\x20main\x20frame',']Không\x20tìm\x20thấy\x20iframe','][lamTask]Click\x20startMission\x20OK','][lamTask]Tìm\x20thấy\x20code:\x20','][checkQuayLaiXpath]\x20Chỉ\x20có\x20',']nextRunAt:\x20','builderRelax','//button[contains(@class,\x27_crosBtn_\x27)]','][lamTask]Tìm\x20thất\x20claim2tr','Iframe','][thoigianconlai]:\x20','//input[contains(@placeholder,\x27Provide\x20an\x20answer\x27)]','01h\x2000m','][town]Tìm\x20thấy\x20nutX','scroll','][click]Không\x20click\x20được\x20vào\x20','][lamTask]Click\x20inputCode\x20OK',']không\x20Tìm\x20thấy\x20coinTag','floor','672105EedGaG','value','\x20tab\x20đang\x20mở','closeTab','(//div[contains(@class,\x27_balance_\x27)])[4]','watch','][lamTask]Làm\x20Task\x20nè','elementExistsByXPath','6QQvOof','][checkClosePopup]Tìm\x20thấy\x20popupBackBtn','//button[text()=\x27Upgrade\x27]','][town]Tìm\x20thấy\x20town','][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần:\x20','][checkTown]\x20error:\x20','CloseGame','soLuotlamTask',']Không\x20tìm\x20thấy\x20main\x20frame',']Lôi\x20lamTask','][lamTask]Click\x20home\x20OK','][town]Click\x20builder\x20OK','coin','][checkQuayLaiXpath]\x20Lỗi\x20khi\x20đóng\x20tab\x20mới','inputCode','][lamTask]Click\x20submit\x20OK','(//dialog//button[contains(@class,\x27close-btn\x27)])[1]','toLocaleTimeString','//div[contains(@class,\x27_actionContent_\x27)]//button[text()=\x27Get\x20it!\x27]','//h6[contains(text(),\x27relaxing\x27)]',']Vào\x20game\x20OK','dialogClose','//button[text()=\x27Start\x20mission\x27]','(//div[contains(@class,\x27_balance_\x27)])[1]',']Lôi\x20Town','][lamTask]Tìm\x20thấy\x20checkBtn:\x20','NextRun','home','3677384uOecaV','][checkQuayLaiXpath]\x20Phát\x20hiện\x20tab\x20mới','28080210xbVdMl','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20currentPage','Không\x20tìm\x20thấy\x20iframe','][checkQuayLaiXpath]\x20Tìm\x20thấy\x20backXpath','task','(//div[contains(@class,\x27_balance_\x27)])[2]','//h3[contains(@class,\x27_h3_\x27)]','//button[text()=\x27Submit\x27]','88mPOrIK','1017369SYpznv','][lamTask]Không\x20click\x20dc\x20finishMission','switchFrame','][click]Click\x20','][lamTask]Click\x20checkBtn\x20OK','][lamTask]Không\x20click\x20dc\x20checkBtn','//button[text()=\x27Watch\x27]','getTextByXPath','][lamTask]Click\x20watch\x20OK','][checkClosePopup]\x20checkClosePopup\x20nè','typeText','click','message','claim','checkBtn','][lamTask]Không\x20tìm\x20thấy\x20code','getCurrentPage','][town]Tìm\x20thấy\x20nâng\x20cấp\x20','4281984REeQTd','][town]Không\x20tìm\x20thấy\x20builder','replace','mainframe',']Vào\x20game\x20nè','submit','][checkClosePopup]Tìm\x20thấy\x20getIt','][checkQuayLaiXpath]\x20Lỗi\x20trong\x20quá\x20trình\x20kiểm\x20tra:\x20','toLocaleDateString','//button[text()=\x27Buy\x27]','(//div[contains(@data-tc-modal,\x27true\x27)]//button[contains(@data-tc-icon-button,\x27true\x27)])[1]','2561596pIsGPq','][lamTask]Click\x20claim2tr\x20OK','][lamTask]Không\x20click\x20dc\x20inputCode','][lamTask]Không\x20tìm\x20thất\x20finishMission','match','][lamTask]Type\x20code\x20','][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20iframe','listBuilder','][Lỗi]:\x20',']không\x20xử\x20lý\x20được\x20thoigianconlai','][click][Lỗi]:\x20','][lamTask]Tìm\x20thất\x20taskTitle:\x20','1QhPCUp','botSet','][lamTask]Tìm\x20thất\x20finishMission','xpathBackTask','][town]Tìm\x20thấy\x20getIt','walletClose','][town]Tìm\x20thấy\x20home','taskTitle','][lamTask]Tìm\x20thấy\x20claim','finishMission','][town]Loop:\x20','][lamTask]:\x20','][lamTask]Không\x20click\x20dc\x20watch','][lamTask]Không\x20tìm\x20thất\x20task','countXpath','upgrade','][town]Tìm\x20thấy\x20worker','][town]Tìm\x20thấy\x20relax:\x20','getCode','][lamTask]Click\x20claim\x20OK','//img[contains(@src,\x27/assets/town\x27)]','//button[normalize-space(text())=\x27Finish\x20mission\x27\x20and\x20not(@disabled)]','town','load','][lamTask]Không\x20click\x20được\x20vào\x20task',']Done\x20lamTask','][lamTask]Click\x20task\x20OK','2529510OrECwn','trim','\x20OK','//div[contains(@class,\x27_listContainer_\x27)]//div[contains(@class,\x27_container_\x27)]','][checkClosePopup]\x20error:\x20','getIt','][lamTask]Tìm\x20thấy\x20home'];a0_0x3c88=function(){return _0x405d1b;};return a0_0x3c88();}export default async function (context,signal){const _0x1b2df5=a0_0x1c56,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot['name'];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime,soLuotlamTask=0x5;bot['botSet'][_0x1b2df5(0x11e)]['value']&&(parseInt(bot['botSet']['soLuotlamTask'][_0x1b2df5(0x110)])>0x0&&(soLuotlamTask=parseInt(bot[_0x1b2df5(0x168)][_0x1b2df5(0x11e)][_0x1b2df5(0x110)])));const xpath={'nutX':_0x1b2df5(0x103),'coin':_0x1b2df5(0x12e),'coinBlock':_0x1b2df5(0x13a),'coinDiamond':_0x1b2df5(0xfa),'coinPlay':_0x1b2df5(0x113),'getIt':_0x1b2df5(0x129),'home':'//img[contains(@src,\x27/assets/coin_\x27)\x20and\x20contains(@alt,\x27navigation\x27)]','task':'//img[contains(@src,\x27/assets/task\x27)\x20and\x20contains(@alt,\x27navigation\x27)]'};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20iframe',null,![]);throw new Error(_0x1b2df5(0x137));}log(profileNameId,'['+botName+_0x1b2df5(0x12b)),await delay(0x3e8);const closePopup=await checkClosePopup();await delay(0x3e8);if(bot[_0x1b2df5(0x168)][_0x1b2df5(0xe4)]['value']==='y'){const kqTown=await checkTown();!kqTown&&log(profileNameId,'['+botName+_0x1b2df5(0x12f),null,![]),log(profileNameId,'['+botName+']Done\x20Town'),await delay(0x7d0);}if(bot[_0x1b2df5(0x168)]['autoLamTask']['value']==='y'){const kqlamTask=await lamTask();!kqlamTask&&log(profileNameId,'['+botName+_0x1b2df5(0x120),null,![]),log(profileNameId,'['+botName+_0x1b2df5(0xe7));}const coinTag=await genlogin[_0x1b2df5(0x116)](profileNameId,subframe,xpath[_0x1b2df5(0x123)],0x3e8);!coinTag&&log(profileNameId,'['+botName+_0x1b2df5(0x10d));log(profileNameId,'['+botName+']Tìm\x20thấy\x20coinTag');const coin=await genlogin[_0x1b2df5(0x145)](profileNameId,subframe,xpath[_0x1b2df5(0x123)],0x7d0);!coin&&log(profileNameId,'['+botName+_0x1b2df5(0xfb),null,![]);await http['updateData'](profileNameId,profileNameId,dataId,null,coin),log(profileNameId,'['+botName+']Tìm\x20thấy\x20coin:\x20'+coin);const remainT=await thoigianconlai(_0x1b2df5(0x108));return!remainT&&log(profileNameId,'['+botName+_0x1b2df5(0x164),null,![]),log(profileNameId,'['+botName+']Xử\x20lý\x20thoigianconlai\x20OK'),log(profileNameId,'['+botName+_0x1b2df5(0x101)+remainT[_0x1b2df5(0x131)]),{'status':!![],'coin':coin,'nextRun':remainT[_0x1b2df5(0x131)],'nextRunStamp':remainT['NextRunStamp']};}catch(error){log(profileNameId,'['+botName+_0x1b2df5(0x163)+error,null,![]);}async function vaoGame(){const _0x25ea10=_0x1b2df5;try{log(profileNameId,'['+botName+_0x25ea10(0x154));const subframe0=await genlogin[_0x25ea10(0x140)](profileNameId,currentPage,getAks[_0x25ea10(0x105)],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x25ea10(0xfd),null,![]);throw new Error('Không\x20tìm\x20thấy\x20iframe');}return log(profileNameId,'['+botName+']Đã\x20tìm\x20thấy\x20iframe'),subframe0;}catch(error){return log(profileNameId,'['+botName+'][Lỗi]:\x20'+error,null,![]),null;}}async function raGame(){const _0x53b53d=_0x1b2df5;try{log(profileNameId,'['+botName+']Ra\x20game\x20nè'),currentPage=genlogin['switchFrame'](profileNameId,currentPage,_0x53b53d(0x153),0x7d0);if(!currentPage){log(profileNameId,'['+botName+_0x53b53d(0x11f),null,![]);throw new Error(_0x53b53d(0xfc));}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0x53b53d(0x163)+error,null,![]),null;}}async function click(xpath,tagClick=![]){const _0x35c5a9=_0x1b2df5;try{await delay(0x3e8);const clicked=await genlogin[_0x35c5a9(0x149)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser,'tagClick':tagClick},0x7d0);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x35c5a9(0x10b)+xpath,null,![]),!![];return log(profileNameId,'['+botName+_0x35c5a9(0x141)+xpath+_0x35c5a9(0xeb)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x35c5a9(0x165)+error,null,![]),null;}}async function clickM(xpath){const _0x29ee35=_0x1b2df5;try{await delay(0x3e8);const clicked=await genlogin['click'](profileNameId,currentPage,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+'][click]Không\x20click\x20được\x20vào\x20'+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x29ee35(0x141)+xpath+_0x29ee35(0xeb)),clicked;}catch(error){return log(profileNameId,'['+botName+'][click][Lỗi]:\x20'+error,null,![]),null;}}async function checkClosePopup(){const _0x5ea549=_0x1b2df5;try{log(profileNameId,'['+botName+_0x5ea549(0x147));let demLoop=0x0,maxDemLoop=0xa;while(demLoop<maxDemLoop){demLoop++;const kqGetIt=await genlogin[_0x5ea549(0x116)](profileNameId,subframe,xpath['getIt'],0x7d0);if(kqGetIt){log(profileNameId,'['+botName+_0x5ea549(0x156)),await click(xpath['getIt']),await delay(0x3e8);const kqNeedBack=await genlogin[_0x5ea549(0x116)](profileNameId,currentPage,getAks[_0x5ea549(0xf7)],0x7d0);kqNeedBack&&(log(profileNameId,'['+botName+_0x5ea549(0x118)),await clickM(getAks[_0x5ea549(0xf7)]),await delay(0x3e8));continue;}else{const kqNutX=await genlogin[_0x5ea549(0x116)](profileNameId,subframe,xpath[_0x5ea549(0xf9)],0x7d0);if(kqNutX){log(profileNameId,'['+botName+'][checkClosePopup]Tìm\x20thấy\x20nutX'),await click(xpath['nutX'],!![]),await delay(0x3e8);const kqNeedBack1=await genlogin[_0x5ea549(0x116)](profileNameId,currentPage,getAks[_0x5ea549(0xf7)],0x7d0);kqNeedBack1&&(log(profileNameId,'['+botName+_0x5ea549(0x118)),await clickM(getAks['popupBackBtn']),await delay(0x3e8));continue;}}await delay(0x3e8);break;}}catch(e){return log(profileNameId,'['+botName+_0x5ea549(0xed)+e[_0x5ea549(0x14a)],null,![]),null;}}async function checkTown(){const _0x15e04b=_0x1b2df5;try{const xpathTown={'getIt':_0x15e04b(0x129),'town':_0x15e04b(0xe2),'builder':'//img[contains(@src,\x27/assets/builder_\x27)]','builderRelax':_0x15e04b(0x12a),'listBuilder':'//div[contains(@class,\x27_building_\x27)]//img[contains(@src,\x27/assets/b_\x27)\x20and\x20not(ancestor::div[contains(@class,\x27_building_\x27)]//div[contains(@class,\x27_content_\x27)]//div[contains(@data-text,\x2720\x27)])]','buy':_0x15e04b(0x159),'upgrade':_0x15e04b(0x119)};let kqRelax=0x0;const kqVaoTown=await genlogin[_0x15e04b(0x116)](profileNameId,subframe,xpathTown[_0x15e04b(0xe4)],0x7d0);kqVaoTown&&(log(profileNameId,'['+botName+_0x15e04b(0x11a)),await click(xpathTown[_0x15e04b(0xe4)]),await delay(0x3e8));const kqGetIt=await genlogin[_0x15e04b(0x116)](profileNameId,subframe,xpathTown[_0x15e04b(0xee)],0x7d0);kqGetIt&&(log(profileNameId,'['+botName+_0x15e04b(0xd2)),await click(xpathTown[_0x15e04b(0xee)]),await delay(0x3e8));const kqBuilder=await genlogin[_0x15e04b(0x116)](profileNameId,subframe,xpathTown[_0x15e04b(0xf6)],0x7d0);if(kqBuilder){log(profileNameId,'['+botName+_0x15e04b(0xde)),await click(xpathTown[_0x15e04b(0xf6)]),await delay(0x3e8),kqRelax=await genlogin[_0x15e04b(0xdc)](profileNameId,subframe,xpathTown[_0x15e04b(0x102)],0x7d0),log(profileNameId,'['+botName+_0x15e04b(0xdf)+json(kqRelax));const kqNutX=await genlogin[_0x15e04b(0x116)](profileNameId,subframe,xpath['nutX'],0x7d0);if(kqNutX){log(profileNameId,'['+botName+_0x15e04b(0x109));const kqnutx0=await click(xpath[_0x15e04b(0xf9)],!![]);if(!kqnutx0)return log(profileNameId,'['+botName+'][town]Không\x20click\x20được\x20vào\x20nutX',null,![]),null;await delay(0x3e8);}}if(kqRelax>0x0){let demLoop=0x0,maxDemLoop=0x14,demLoopnangCap=kqRelax;while(demLoop<maxDemLoop){demLoop++,await delay(0x3e8),log(profileNameId,'['+botName+_0x15e04b(0xd8)+demLoop+'/'+maxDemLoop);if(demLoopnangCap<=0x0)break;const tagbuilder='('+xpathTown[_0x15e04b(0x162)]+')['+demLoop+']',kqBuilder=await genlogin['elementExistsByXPath'](profileNameId,subframe,tagbuilder,0x7d0);if(!kqBuilder){log(profileNameId,'['+botName+_0x15e04b(0x151),null,![]);continue;}await genlogin[_0x15e04b(0x10a)](profileNameId,subframe,{'xpath':tagbuilder},0xbb8),await delay(0x3e8);const kqclick=await click(tagbuilder);if(!kqclick){log(profileNameId,'['+botName+'][town]Không\x20click\x20được\x20vào\x20builder',null,![]);continue;}else{log(profileNameId,'['+botName+_0x15e04b(0x122));const kqNangCap=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpathTown[_0x15e04b(0xdd)],0x3e8);if(kqNangCap){log(profileNameId,'['+botName+_0x15e04b(0x14f)+demLoopnangCap+'/'+kqRelax),await click(xpathTown[_0x15e04b(0xdd)]),await delay(0x3e8),await click(xpath['nutX'],!![]),await delay(0x3e8),demLoopnangCap--;continue;}else{const kqBuy=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpathTown['buy'],0x3e8);if(kqBuy){log(profileNameId,'['+botName+_0x15e04b(0xf3)+demLoopnangCap+'/'+kqRelax),await click(xpathTown['buy']),await delay(0x3e8),await click(xpath[_0x15e04b(0xf9)],!![]),await delay(0x3e8),demLoopnangCap--;continue;}}}const kqNutX=await genlogin[_0x15e04b(0x116)](profileNameId,subframe,xpath[_0x15e04b(0xf9)],0x3e8);kqNutX&&(log(profileNameId,'['+botName+_0x15e04b(0x109)),await click(xpath[_0x15e04b(0xf9)],!![]),await delay(0x3e8));}}const kqHome=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x15e04b(0x132)],0x3e8);return kqHome&&(log(profileNameId,'['+botName+_0x15e04b(0xd4)),await click(xpath[_0x15e04b(0x132)]),await delay(0x3e8)),!![];}catch(e){log(profileNameId,'['+botName+_0x15e04b(0x11c)+e['message'],null,![]);}}async function lamTask(){const _0x27f0c3=_0x1b2df5;try{const taskXpath={'claim':_0x27f0c3(0xf0),'task':'//img[contains(@alt,\x27right\x20chevron\x27)]','startMission':_0x27f0c3(0x12d),'watch':_0x27f0c3(0x144),'inputCode':_0x27f0c3(0x107),'submit':_0x27f0c3(0x13c),'taskTitle':_0x27f0c3(0x13b),'finishMission':_0x27f0c3(0xe3),'claim':_0x27f0c3(0xf4),'xpathBackTask':_0x27f0c3(0xec),'checkBtn':'//button[text()=\x27Check\x27]'};log(profileNameId,'['+botName+_0x27f0c3(0x115));const kqVaoTask=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,xpath[_0x27f0c3(0x139)],0x7d0);if(!kqVaoTask)return log(profileNameId,'['+botName+_0x27f0c3(0xdb),null,![]),![];const kqClickTask=await click(xpath[_0x27f0c3(0x139)]);if(!kqClickTask)return log(profileNameId,'['+botName+_0x27f0c3(0xe6),null,![]),![];log(profileNameId,'['+botName+_0x27f0c3(0xe8));let demLoop=0x0,maxDemLoop=soLuotlamTask;while(demLoop<maxDemLoop){demLoop++,await delay(0x3e8);const tagTask='('+taskXpath[_0x27f0c3(0x139)]+')['+demLoop+']',kqCheckTask=await genlogin['elementExistsByXPath'](profileNameId,subframe,tagTask,0x3e8);if(!kqCheckTask){log(profileNameId,'['+botName+_0x27f0c3(0xdb),null,![]);continue;}const kqClickTask=await click(tagTask);if(!kqClickTask){log(profileNameId,'['+botName+_0x27f0c3(0xe6),null,![]);continue;}log(profileNameId,'['+botName+_0x27f0c3(0xe8)),await delay(0x3e8);const kqStartMission=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath['startMission'],0x7d0);if(kqStartMission){log(profileNameId,'['+botName+_0x27f0c3(0xf8));const kqClickStartMission=await click(taskXpath[_0x27f0c3(0xf1)]);!kqClickStartMission?log(profileNameId,'['+botName+'][lamTask]Không\x20click\x20là\x20startMission',null,![]):log(profileNameId,'['+botName+_0x27f0c3(0xfe));await delay(0x7d0);const kqWatch=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath[_0x27f0c3(0x114)],0x7d0);if(kqWatch){log(profileNameId,'['+botName+'][lamTask]Tìm\x20thấy\x20watch');const kqClickWatch=await click(taskXpath[_0x27f0c3(0x114)]);!kqClickWatch?log(profileNameId,'['+botName+_0x27f0c3(0xda),null,![]):log(profileNameId,'['+botName+_0x27f0c3(0x146));}await checkQuayLaiXpath(taskXpath['xpathBackTask']);continue;}const kqtaskTitle=await genlogin[_0x27f0c3(0x145)](profileNameId,subframe,taskXpath[_0x27f0c3(0xd5)],0x7d0);if(kqtaskTitle){log(profileNameId,'['+botName+_0x27f0c3(0x166)+kqtaskTitle);const kqCkCheckBtn=await genlogin[_0x27f0c3(0x145)](profileNameId,subframe,taskXpath['checkBtn'],0x3e8);if(kqCkCheckBtn){log(profileNameId,'['+botName+_0x27f0c3(0x130)+kqCkCheckBtn);const kqClickCkCheckBtn=await click(taskXpath[_0x27f0c3(0x14c)]);!kqClickCkCheckBtn?log(profileNameId,'['+botName+_0x27f0c3(0x143),null,![]):log(profileNameId,'['+botName+_0x27f0c3(0x142));}else{const kqInput=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath[_0x27f0c3(0x125)],0xbb8);if(kqInput){const kqCode=await http[_0x27f0c3(0xe0)](profileNameId,profileNameId,botName,kqtaskTitle,0x0);if(kqCode[_0x27f0c3(0x110)])log(profileNameId,'['+botName+_0x27f0c3(0xff)+kqCode['value']);else{log(profileNameId,'['+botName+_0x27f0c3(0x14d),null,![]);const checkBack=await checkQuayLaiXpath(taskXpath[_0x27f0c3(0x16a)]);if(!checkBack){log(profileNameId,'['+botName+_0x27f0c3(0xf2),![]);break;}continue;}log(profileNameId,'['+botName+'][lamTask]Tìm\x20thất\x20inputCode');const kqClickInput=await click(taskXpath[_0x27f0c3(0x125)]);!kqClickInput?log(profileNameId,'['+botName+_0x27f0c3(0x15d),null,![]):log(profileNameId,'['+botName+_0x27f0c3(0x10c));await delay(0x3e8);const kqType=await genlogin[_0x27f0c3(0x148)](profileNameId,currentPage,taskXpath[_0x27f0c3(0x125)],kqCode[_0x27f0c3(0x110)],0x1,0xbb8);if(kqType){log(profileNameId,'['+botName+_0x27f0c3(0x160)+kqCode[_0x27f0c3(0x110)]+'\x20OK'),await delay(0x3e8);const kqClick1=await click(taskXpath[_0x27f0c3(0x155)]);kqClick1&&(log(profileNameId,'['+botName+_0x27f0c3(0x126)),await delay(0x3e8));}}}const kqCheckDone=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath[_0x27f0c3(0xd7)],0x7d0);if(kqCheckDone){log(profileNameId,'['+botName+_0x27f0c3(0x169));const kqClickDone=await click(taskXpath[_0x27f0c3(0xd7)]);kqClickDone?log(profileNameId,'['+botName+'][lamTask]Click\x20finishMission\x20OK'):log(profileNameId,'['+botName+_0x27f0c3(0x13f),null,![]);const kqClaim=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath['claim'],0x7d0);if(kqClaim){log(profileNameId,'['+botName+_0x27f0c3(0xd6));const kqClickClaim=await click(taskXpath[_0x27f0c3(0x14b)]);kqClickClaim&&(log(profileNameId,'['+botName+_0x27f0c3(0xe1)),await checkQuayLaiXpath(taskXpath['xpathBackTask']));}}else{log(profileNameId,'['+botName+_0x27f0c3(0x15e),null,![]);const checkBack2=await checkQuayLaiXpath(taskXpath[_0x27f0c3(0x16a)]);}}const kqClaim2tr=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,taskXpath[_0x27f0c3(0x14b)],0x3e8);if(kqClaim2tr){log(profileNameId,'['+botName+_0x27f0c3(0x104));const kqClickClaim2tr=await click(taskXpath['claim']);kqClickClaim2tr&&log(profileNameId,'['+botName+_0x27f0c3(0x15c));}}await checkQuayLaiXpath(taskXpath[_0x27f0c3(0x16a)]);const kqHome=await genlogin[_0x27f0c3(0x116)](profileNameId,subframe,xpath['home'],0x7d0);if(kqHome){log(profileNameId,'['+botName+_0x27f0c3(0xef));const clickedHome=await click(xpath[_0x27f0c3(0x132)]);clickedHome&&(log(profileNameId,'['+botName+_0x27f0c3(0x121)),await delay(0x3e8));}return!![];}catch(error){return log(profileNameId,'['+botName+_0x27f0c3(0xd9)+error,null,![]),null;}}async function checkQuayLaiXpath(backXpath){const _0x2a86f6=_0x1b2df5;try{const maxattemptCQ=0xa;let attemptCQ=0x0;const loopBack={'walletClose':_0x2a86f6(0x15a),'dialogClose':_0x2a86f6(0x127)};while(attemptCQ<maxattemptCQ){attemptCQ++,await delay(0x3e8),log(profileNameId,'['+botName+_0x2a86f6(0x11b)+attemptCQ);const currentPage=await genlogin[_0x2a86f6(0x14e)](profileNameId,browser);if(!currentPage){log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Không\x20tìm\x20thấy\x20currentPage',null,![]);continue;}log(profileNameId,'['+botName+_0x2a86f6(0x136));const kqTelePage=await genlogin[_0x2a86f6(0x116)](profileNameId,currentPage,getAks[_0x2a86f6(0x11d)],0x7d0);if(!kqTelePage){log(profileNameId,'['+botName+_0x2a86f6(0x134));const countTab=await genlogin['countOpenTabs'](profileNameId,browser);if(countTab<=0x1){log(profileNameId,'['+botName+_0x2a86f6(0x100)+countTab+_0x2a86f6(0x111));break;}const closeTab=await genlogin[_0x2a86f6(0x112)](profileNameId,browser,countTab-0x1,0xbb8);if(!closeTab){log(profileNameId,'['+botName+_0x2a86f6(0x124),null,![]);continue;}log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Đóng\x20tab\x20mới\x20thành\x20công'),await delay(0xbb8);continue;}log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Không\x20phát\x20hiện\x20tab\x20mới'),subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x2a86f6(0x161),null,![]);continue;}log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Vào\x20game\x20thành\x20công');const kqbackXpath=await genlogin['elementExistsByXPath'](profileNameId,subframe,backXpath,0x7d0);if(kqbackXpath){log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Tìm\x20thấy\x20backXpath');break;}if(!![]){let attemptBack=0x0,maxAttempBack=0xa,kqBack=![];while(attemptBack<maxAttempBack){attemptBack++,log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20Kiểm\x20tra\x20lần\x20quay\x20lại:\x20'+attemptBack);const kqbackXpath=await genlogin[_0x2a86f6(0x116)](profileNameId,subframe,backXpath,0x7d0);if(kqbackXpath){log(profileNameId,'['+botName+_0x2a86f6(0x138));break;}const kqb0=await genlogin[_0x2a86f6(0x116)](profileNameId,currentPage,getAks['popupBackBtn'],0x3e8);if(kqb0){await clickM(getAks['popupBackBtn']);continue;}await delay(0x3e8);}return!![];}}let attemptW=0x0,maxAttemptsW=0x5;while(attemptW<maxAttemptsW){attemptW++;const checkWalletClose=await genlogin[_0x2a86f6(0x116)](profileNameId,subframe,loopBack[_0x2a86f6(0xd3)],0x1f4);checkWalletClose&&await click(loopBack[_0x2a86f6(0xd3)]);const checkdialogClose=await genlogin['elementExistsByXPath'](profileNameId,subframe,loopBack[_0x2a86f6(0x12c)],0x1f4);checkdialogClose&&await click(loopBack[_0x2a86f6(0x12c)]);if(!checkWalletClose&&!checkdialogClose)break;}return log(profileNameId,'['+botName+'][checkQuayLaiXpath]\x20quay\x20lại\x20tasks\x20thành\x20công'),!![];}catch(error){return log(profileNameId,'['+botName+_0x2a86f6(0x157)+error[_0x2a86f6(0x14a)],null,![]),null;}}async function thoigianconlai(thoigianconlai){const _0x389d66=_0x1b2df5;try{log(profileNameId,'['+botName+'][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè');let hour0,minute0,timeleft0=thoigianconlai,timeleft=timeleft0[_0x389d66(0x152)]('\x20','')[_0x389d66(0xea)](),matches=timeleft[_0x389d66(0x15f)](/(\d+)h(\d+)m/);matches?(hour0=matches[0x1],minute0=matches[0x2]):(hour0=0x1,minute0=0x0);let hours=parseInt(hour0),minutes=parseInt(minute0),seconds=parseInt(0x0),totalSeconds=parseInt(hours*0xe10+minutes*0x3c+seconds);const unixTime=Math[_0x389d66(0x10e)](Date[_0x389d66(0xf5)]()/0x3e8),newUnixTime=unixTime+totalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate[_0x389d66(0x158)](),formattedTime=newDate[_0x389d66(0x128)]('en-GB',{'hour12':![]});let NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+_0x389d66(0x106)+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x4376b4=_0x1b2df5;if(Atomics[_0x4376b4(0xe5)](tasksData,taskIndex)===0x1)return!![];return![];}};