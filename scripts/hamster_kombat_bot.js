(function(_0x4f9a60,_0x537725){const _0x176ce3=a0_0xf4d7,_0x28d802=_0x4f9a60();while(!![]){try{const _0x3c31a8=parseInt(_0x176ce3(0xa8))/0x1+-parseInt(_0x176ce3(0xa9))/0x2*(-parseInt(_0x176ce3(0x95))/0x3)+parseInt(_0x176ce3(0xc2))/0x4+-parseInt(_0x176ce3(0x9a))/0x5*(parseInt(_0x176ce3(0xcc))/0x6)+-parseInt(_0x176ce3(0xa4))/0x7+parseInt(_0x176ce3(0x9c))/0x8*(-parseInt(_0x176ce3(0xbc))/0x9)+parseInt(_0x176ce3(0x9f))/0xa*(parseInt(_0x176ce3(0xb9))/0xb);if(_0x3c31a8===_0x537725)break;else _0x28d802['push'](_0x28d802['shift']());}catch(_0x4096a2){_0x28d802['push'](_0x28d802['shift']());}}}(a0_0x17d9,0xaf8d9));import{log,json}from'../modules/logger.js';function a0_0x17d9(){const _0x4eb0b4=[']Đã\x20tìm\x20thấy\x20iframe','//div[contains(@class,\x20\x27slider-onb-close\x27)]','205997dViqbG','switchFrame','toLocaleDateString','14832QWIRxV','split','][getCoin]:\x20Không\x20tìm\x20thấy\x20xpathCoin','][click]Không\x20click\x20được\x20vào\x20',']closePopup\x20OK','][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè','4990256Hztqqz','][getCoin]:\x20Tìm\x20thấy\x20xpathCoin','elementExistsByXPath',']Không\x20tìm\x20thấy\x20Claim','//span[contains(text(),\x20\x27Thank\x20you\x27)]','][checkClosePopup]\x20error:\x20','][checkClaim]Không\x20click\x20được\x20vào\x20thanksYou','mainframe','][checkClaim]\x20error:\x20','Không\x20tìm\x20thấy\x20main\x20frame','498SrYVzv','][click][Lỗi]:\x20','][checkClosePopup]Tìm\x20thấy\x20closePopup','closePopup','message','floor','][Lỗi]:\x20',']Claim\x20OK','en-GB','NextRunStamp',']Không\x20tìm\x20thấy\x20iframe','566493IZMXSF','click',']Không\x20tìm\x20thayas\x20closePopup','load',']Không\x20tìm\x20thấy\x20coin','80755bXtJVS','updateData','1208daVsBy',']nextRunAt:\x20',']Vào\x20game\x20nè','530cTTMil','name','NextRun','getTextByXPath',']Không\x20tìm\x20thấy\x20main\x20frame','6870836luwWjv','][click]Click\x20','][checkClosePopup]Không\x20click\x20được\x20vào\x20closePopup','\x20OK','672237uXUgkC','4KZAfNz','][checkClaim]Tìm\x20thấy\x20thanksYou','now',']Ra\x20game\x20nè','][checkClosePopup]Không\x20tìm\x20thấy\x20closePopup','Iframe','][getCoin]:\x20Xử\x20lý\x20coin\x20nè','][getCoin]:\x20','Không\x20tìm\x20thấy\x20iframe','][checkClaim]\x20checkClaim\x20nè','02:00:00','toLocaleTimeString',']Xử\x20lý\x20thoigianconlai\x20OK','][checkClaim]Không\x20tìm\x20thấy\x20thanksYou'];a0_0x17d9=function(){return _0x4eb0b4;};return a0_0x17d9();}function a0_0xf4d7(_0x32814d,_0x31b187){const _0x17d9d4=a0_0x17d9();return a0_0xf4d7=function(_0xf4d74b,_0x5cf158){_0xf4d74b=_0xf4d74b-0x8c;let _0x1b9557=_0x17d9d4[_0xf4d74b];return _0x1b9557;},a0_0xf4d7(_0x32814d,_0x31b187);}export default async function (context,signal){const _0x1ce297=a0_0xf4d7,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot[_0x1ce297(0xa0)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime;const xpath={'thanksYou':_0x1ce297(0xc6),'closePopup':_0x1ce297(0xb8),'coin':'//div[contains(@class,\x20\x27user-balance-large-inner\x27)]//p'};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x1ce297(0x94),![]);throw new Error(_0x1ce297(0xb1));}log(profileNameId,'['+botName+']Vào\x20game\x20OK'),await delay(0x3e8);const kqClaim=await checkClaim();!kqClaim&&log(profileNameId,'['+botName+_0x1ce297(0xc5),null,![]);log(profileNameId,'['+botName+_0x1ce297(0x91));const kqClosePopup=await checkClosePopup();!kqClosePopup&&log(profileNameId,'['+botName+_0x1ce297(0x97),null,![]);log(profileNameId,'['+botName+_0x1ce297(0xc0)),await delay(0x7d0);const coin=await getCoin();!coin&&log(profileNameId,'['+botName+_0x1ce297(0x99),![]);await http[_0x1ce297(0x9b)](profileNameId,profileNameId,dataId,null,null,coin),log(profileNameId,'['+botName+']Tìm\x20thấy\x20coin:\x20'+coin);const remainT=await thoigianconlai(_0x1ce297(0xb3));return!remainT&&log(profileNameId,'['+botName+']không\x20xử\x20lý\x20được\x20thoigianconlai',null,![]),log(profileNameId,'['+botName+_0x1ce297(0xb5)),log(profileNameId,'['+botName+_0x1ce297(0x9d)+remainT[_0x1ce297(0xa1)]),{'status':!![],'coin':coin,'nextRun':remainT[_0x1ce297(0xa1)],'nextRunStamp':remainT[_0x1ce297(0x93)]};}catch(error){log(profileNameId,'['+botName+_0x1ce297(0x90)+error,![]);}async function vaoGame(){const _0x14e57d=_0x1ce297;try{log(profileNameId,'['+botName+_0x14e57d(0x9e));const subframe0=await genlogin[_0x14e57d(0xba)](profileNameId,currentPage,getAks[_0x14e57d(0xae)],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x14e57d(0x94),![]);throw new Error(_0x14e57d(0xb1));}return log(profileNameId,'['+botName+_0x14e57d(0xb7)),subframe0;}catch(error){return log(profileNameId,'['+botName+_0x14e57d(0x90)+error,![]),null;}}async function raGame(){const _0x4807c4=_0x1ce297;try{log(profileNameId,'['+botName+_0x4807c4(0xac)),currentPage=genlogin[_0x4807c4(0xba)](profileNameId,currentPage,_0x4807c4(0xc9),0x7d0);if(!currentPage){log(profileNameId,'['+botName+_0x4807c4(0xa3),![]);throw new Error(_0x4807c4(0xcb));}return currentPage;}catch(error){return log(profileNameId,'['+botName+_0x4807c4(0x90)+error,![]),null;}}async function click(xpath){const _0x246ee7=_0x1ce297;try{await delay(0x3e8);const clicked=await genlogin[_0x246ee7(0x96)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x246ee7(0xbf)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x246ee7(0xa5)+xpath+_0x246ee7(0xa7)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x246ee7(0xcd)+error,null,![]),null;}}async function checkClosePopup(){const _0x5330cb=_0x1ce297;try{log(profileNameId,'['+botName+'][checkClosePopup]\x20checkClosePopup\x20nè');const kqClosePopup=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath[_0x5330cb(0x8d)],0x7d0);if(!kqClosePopup)log(profileNameId,'['+botName+_0x5330cb(0xad),null,![]);else{log(profileNameId,'['+botName+_0x5330cb(0x8c));const clicked=await click(xpath['closePopup']);!clicked?log(profileNameId,'['+botName+_0x5330cb(0xa6),null,![]):log(profileNameId,'['+botName+'][checkClosePopup]Click\x20closePopup\x20OK');}return await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+_0x5330cb(0xc7)+error['message'],null,![]),null;}}async function checkClaim(){const _0x1ac76e=_0x1ce297;try{log(profileNameId,'['+botName+_0x1ac76e(0xb2));const thanksYou=await genlogin['elementExistsByXPath'](profileNameId,subframe,xpath['thanksYou'],0x7d0);if(!thanksYou)log(profileNameId,'['+botName+_0x1ac76e(0xb6),null,![]);else{log(profileNameId,'['+botName+_0x1ac76e(0xaa));const clicked=await click(xpath['thanksYou']);!clicked?log(profileNameId,'['+botName+_0x1ac76e(0xc8),null,![]):log(profileNameId,'['+botName+'][checkClaim]Click\x20thanksYou\x20OK');}return!![];}catch(e){log(profileNameId,'['+botName+_0x1ac76e(0xca)+e[_0x1ac76e(0x8e)],null,![]);}}async function getCoin(){const _0x31f539=_0x1ce297;try{let coinValue=0x0,xpathCoin=xpath['coin'];log(profileNameId,'['+botName+_0x31f539(0xaf));const kqCoin=await genlogin[_0x31f539(0xc4)](profileNameId,subframe,xpathCoin,0x3e8);if(!kqCoin)return log(profileNameId,'['+botName+_0x31f539(0xbe),null,![]),null;else{log(profileNameId,'['+botName+_0x31f539(0xc3));const coinText=await genlogin[_0x31f539(0xa2)](profileNameId,subframe,xpathCoin);log(profileNameId,'['+botName+'][getCoin]:\x20coinText:\x20'+coinText),coinValue=coinText;}return coinValue;}catch(error){return log(profileNameId,'['+botName+_0x31f539(0xb0)+error,null,![]),null;}}async function thoigianconlai(thoigianconlai){const _0x48b8df=_0x1ce297;try{log(profileNameId,'['+botName+_0x48b8df(0xc1));let parts=thoigianconlai[_0x48b8df(0xbd)](':'),hour0=parseInt(parts[0x0]),minute0=parseInt(parts[0x1]),second0=parseInt(parts[0x2]),hours=parseInt(hour0),minutes=parseInt(minute0),seconds=parseInt(second0),totalSeconds=parseInt(hours*0xe10+minutes*0x3c+seconds);const unixTime=Math[_0x48b8df(0x8f)](Date[_0x48b8df(0xab)]()/0x3e8),newUnixTime=unixTime+totalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate[_0x48b8df(0xbb)](),formattedTime=newDate[_0x48b8df(0xb4)](_0x48b8df(0x92),{'hour12':![]});let NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+'][thoigianconlai]:\x20'+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x55526f=_0x1ce297;if(Atomics[_0x55526f(0x98)](tasksData,taskIndex)===0x1)return!![];return![];}};