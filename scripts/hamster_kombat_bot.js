function a0_0x5be9(){const _0x179751=['elementExistsByXPath',']Tìm\x20thấy\x20coin:\x20','//div[contains(@class,\x20\x27slider-onb-close\x27)]','][getCoin]:\x20Không\x20tìm\x20thấy\x20xpathCoin','click','126JCZRvD','closePopup','name','toLocaleDateString',']Ra\x20game\x20nè','floor',']closePopup\x20OK','][getCoin]:\x20Xử\x20lý\x20coin\x20nè','20rvzFqc','][checkClaim]\x20error:\x20','now',']Không\x20tìm\x20thayas\x20closePopup',']nextRunAt:\x20','][checkClaim]\x20checkClaim\x20nè','load','02:00:00','][checkClaim]Tìm\x20thấy\x20thanksYou','thanksYou',']Không\x20tìm\x20thấy\x20iframe','][click][Lỗi]:\x20','1255476orEWMy','message','][Lỗi]:\x20','1638819lYyjtX','][checkClaim]Không\x20tìm\x20thấy\x20thanksYou','\x20OK','Không\x20tìm\x20thấy\x20main\x20frame','//span[contains(text(),\x20\x27Thank\x20you\x27)]','][getCoin]:\x20coinText:\x20','updateData','][click]Click\x20','][getCoin]:\x20','30828EzJNyh','switchFrame','NextRunStamp',']Đã\x20tìm\x20thấy\x20iframe','348750ajcqam','][checkClaim]Không\x20click\x20được\x20vào\x20thanksYou','][thoigianconlai]:\x20','1164535kLizTT','][checkClosePopup]Không\x20click\x20được\x20vào\x20closePopup','split','][click]Không\x20click\x20được\x20vào\x20','][checkClosePopup]Click\x20closePopup\x20OK','][thoigianconlai]:Xử\x20lý\x20gian\x20còn\x20lại\x20nè','424192YfCynq','200330UWIRSg','toLocaleTimeString','Không\x20tìm\x20thấy\x20iframe','][checkClosePopup]\x20checkClosePopup\x20nè','mainframe',']Xử\x20lý\x20thoigianconlai\x20OK',']Claim\x20OK'];a0_0x5be9=function(){return _0x179751;};return a0_0x5be9();}function a0_0x4a0c(_0x496881,_0x20573b){const _0x5be9cb=a0_0x5be9();return a0_0x4a0c=function(_0x4a0c66,_0x47d3ad){_0x4a0c66=_0x4a0c66-0x132;let _0x4f459a=_0x5be9cb[_0x4a0c66];return _0x4f459a;},a0_0x4a0c(_0x496881,_0x20573b);}(function(_0x8eee93,_0x32e3dc){const _0x18f821=a0_0x4a0c,_0x8a1c2f=_0x8eee93();while(!![]){try{const _0x420248=-parseInt(_0x18f821(0x13e))/0x1+parseInt(_0x18f821(0x148))/0x2+-parseInt(_0x18f821(0x13a))/0x3*(parseInt(_0x18f821(0x15c))/0x4)+-parseInt(_0x18f821(0x141))/0x5+parseInt(_0x18f821(0x168))/0x6+-parseInt(_0x18f821(0x16b))/0x7+parseInt(_0x18f821(0x147))/0x8*(parseInt(_0x18f821(0x154))/0x9);if(_0x420248===_0x32e3dc)break;else _0x8a1c2f['push'](_0x8a1c2f['shift']());}catch(_0x1d9933){_0x8a1c2f['push'](_0x8a1c2f['shift']());}}}(a0_0x5be9,0x2d111));import{log,json}from'../modules/logger.js';export default async function (context,signal){const _0x5d0a3f=a0_0x4a0c,choMs=ms=>new Promise(resolve=>setTimeout(resolve,ms)),{firstPage,bot,profileNameId,getAks,genlogin,http,browser,dataId,screenDataBuffer2,tasksDataBuffer2,taskIndex}=context;let currentPage=firstPage,subframe;const botName=bot[_0x5d0a3f(0x156)];let screenData=new Int32Array(screenDataBuffer2),tasksData=new Int32Array(tasksDataBuffer2),demLoop=0x0,remainTime;const xpath={'thanksYou':_0x5d0a3f(0x135),'closePopup':_0x5d0a3f(0x151),'coin':'//div[contains(@class,\x20\x27user-balance-large-inner\x27)]//p'};try{subframe=await vaoGame();if(!subframe){log(profileNameId,'['+botName+_0x5d0a3f(0x166),![]);throw new Error(_0x5d0a3f(0x14a));}log(profileNameId,'['+botName+']Vào\x20game\x20OK'),await delay(0x3e8);const kqClaim=await checkClaim();!kqClaim&&log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20Claim',null,![]);log(profileNameId,'['+botName+_0x5d0a3f(0x14e));const kqClosePopup=await checkClosePopup();!kqClosePopup&&log(profileNameId,'['+botName+_0x5d0a3f(0x15f),null,![]);log(profileNameId,'['+botName+_0x5d0a3f(0x15a)),await delay(0x7d0);const coin=await getCoin();!coin&&log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20coin',![]);await http[_0x5d0a3f(0x137)](profileNameId,profileNameId,dataId,null,null,coin),log(profileNameId,'['+botName+_0x5d0a3f(0x150)+coin);const remainT=await thoigianconlai(_0x5d0a3f(0x163));return!remainT&&log(profileNameId,'['+botName+']không\x20xử\x20lý\x20được\x20thoigianconlai',null,![]),log(profileNameId,'['+botName+_0x5d0a3f(0x14d)),log(profileNameId,'['+botName+_0x5d0a3f(0x160)+remainT['NextRun']),{'status':!![],'coin':coin,'nextRun':remainT['NextRun'],'nextRunStamp':remainT[_0x5d0a3f(0x13c)]};}catch(error){log(profileNameId,'['+botName+_0x5d0a3f(0x16a)+error,![]);}async function vaoGame(){const _0x5bbb56=_0x5d0a3f;try{log(profileNameId,'['+botName+']Vào\x20game\x20nè');const subframe0=await genlogin[_0x5bbb56(0x13b)](profileNameId,currentPage,getAks['Iframe'],0x2710);if(!subframe0){log(profileNameId,'['+botName+_0x5bbb56(0x166),![]);throw new Error('Không\x20tìm\x20thấy\x20iframe');}return log(profileNameId,'['+botName+_0x5bbb56(0x13d)),subframe0;}catch(error){return log(profileNameId,'['+botName+'][Lỗi]:\x20'+error,![]),null;}}async function raGame(){const _0x5786ee=_0x5d0a3f;try{log(profileNameId,'['+botName+_0x5786ee(0x158)),currentPage=genlogin[_0x5786ee(0x13b)](profileNameId,currentPage,_0x5786ee(0x14c),0x7d0);if(!currentPage){log(profileNameId,'['+botName+']Không\x20tìm\x20thấy\x20main\x20frame',![]);throw new Error(_0x5786ee(0x134));}return currentPage;}catch(error){return log(profileNameId,'['+botName+'][Lỗi]:\x20'+error,![]),null;}}async function click(xpath){const _0x20a146=_0x5d0a3f;try{await delay(0x3e8);const clicked=await genlogin[_0x20a146(0x153)](profileNameId,subframe,{'xpath':xpath,'mainframe':currentPage,'browser':browser},0x3e8);await delay(0x3e8);if(!clicked)return log(profileNameId,'['+botName+_0x20a146(0x144)+xpath,null,![]),null;return log(profileNameId,'['+botName+_0x20a146(0x138)+xpath+_0x20a146(0x133)),clicked;}catch(error){return log(profileNameId,'['+botName+_0x20a146(0x167)+error,null,![]),null;}}async function checkClosePopup(){const _0x17e5b9=_0x5d0a3f;try{log(profileNameId,'['+botName+_0x17e5b9(0x14b));const kqClosePopup=await genlogin[_0x17e5b9(0x14f)](profileNameId,subframe,xpath[_0x17e5b9(0x155)],0x7d0);if(!kqClosePopup)log(profileNameId,'['+botName+'][checkClosePopup]Không\x20tìm\x20thấy\x20closePopup',null,![]);else{log(profileNameId,'['+botName+'][checkClosePopup]Tìm\x20thấy\x20closePopup');const clicked=await click(xpath[_0x17e5b9(0x155)]);!clicked?log(profileNameId,'['+botName+_0x17e5b9(0x142),null,![]):log(profileNameId,'['+botName+_0x17e5b9(0x145));}return await delay(0x7d0),!![];}catch(error){return log(profileNameId,'['+botName+'][checkClosePopup]\x20error:\x20'+error['message'],null,![]),null;}}async function checkClaim(){const _0x337639=_0x5d0a3f;try{log(profileNameId,'['+botName+_0x337639(0x161));const thanksYou=await genlogin[_0x337639(0x14f)](profileNameId,subframe,xpath[_0x337639(0x165)],0x7d0);if(!thanksYou)log(profileNameId,'['+botName+_0x337639(0x132),null,![]);else{log(profileNameId,'['+botName+_0x337639(0x164));const clicked=await click(xpath[_0x337639(0x165)]);!clicked?log(profileNameId,'['+botName+_0x337639(0x13f),null,![]):log(profileNameId,'['+botName+'][checkClaim]Click\x20thanksYou\x20OK');}return!![];}catch(e){log(profileNameId,'['+botName+_0x337639(0x15d)+e[_0x337639(0x169)],null,![]);}}async function getCoin(){const _0x574d9c=_0x5d0a3f;try{let coinValue=0x0,xpathCoin=xpath['coin'];log(profileNameId,'['+botName+_0x574d9c(0x15b));const kqCoin=await genlogin[_0x574d9c(0x14f)](profileNameId,subframe,xpathCoin,0x3e8);if(!kqCoin)return log(profileNameId,'['+botName+_0x574d9c(0x152),null,![]),null;else{log(profileNameId,'['+botName+'][getCoin]:\x20Tìm\x20thấy\x20xpathCoin');const coinText=await genlogin['getTextByXPath'](profileNameId,subframe,xpathCoin);log(profileNameId,'['+botName+_0x574d9c(0x136)+coinText),coinValue=coinText;}return coinValue;}catch(error){return log(profileNameId,'['+botName+_0x574d9c(0x139)+error,null,![]),null;}}async function thoigianconlai(thoigianconlai){const _0x11cf10=_0x5d0a3f;try{log(profileNameId,'['+botName+_0x11cf10(0x146));let parts=thoigianconlai[_0x11cf10(0x143)](':'),hour0=parseInt(parts[0x0]),minute0=parseInt(parts[0x1]),second0=parseInt(parts[0x2]),hours=parseInt(hour0),minutes=parseInt(minute0),seconds=parseInt(second0),totalSeconds=parseInt(hours*0xe10+minutes*0x3c+seconds);const unixTime=Math[_0x11cf10(0x159)](Date[_0x11cf10(0x15e)]()/0x3e8),newUnixTime=unixTime+totalSeconds,newDate=new Date(newUnixTime*0x3e8),formattedDate=newDate[_0x11cf10(0x157)](),formattedTime=newDate[_0x11cf10(0x149)]('en-GB',{'hour12':![]});let NextRun=formattedDate+'\x20'+formattedTime;return{'NextRun':NextRun,'NextRunStamp':newUnixTime};}catch(error){return log(profileNameId,'['+botName+_0x11cf10(0x140)+error,null,![]),null;}}async function delay(ms){return new Promise(async resolve=>{setTimeout(resolve,ms);});}async function cTimeout(){const _0x3fadef=_0x5d0a3f;if(Atomics[_0x3fadef(0x162)](tasksData,taskIndex)===0x1)return!![];return![];}};